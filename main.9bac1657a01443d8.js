(self.webpackChunkweb_portfolio=self.webpackChunkweb_portfolio||[]).push([[179],{291:(_o,tl,rc)=>{"use strict";function cn(n){return"function"==typeof n}function Dt(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const $s=Dt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function di(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Mi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(cn(i))try{i()}catch(s){e=s instanceof $s?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{sc(s)}catch(o){e=e??[],o instanceof $s?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $s(e)}}add(e){var t;if(e&&e!==this)if(this.closed)sc(e);else{if(e instanceof Mi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&di(t,e)}remove(e){const{_finalizers:t}=this;t&&di(t,e),e instanceof Mi&&e._removeParent(this)}}Mi.EMPTY=(()=>{const n=new Mi;return n.closed=!0,n})();const pr=Mi.EMPTY;function nl(n){return n instanceof Mi||n&&"closed"in n&&cn(n.remove)&&cn(n.add)&&cn(n.unsubscribe)}function sc(n){cn(n)?n():n.unsubscribe()}const Yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vo={setTimeout(n,e,...t){const{delegate:i}=vo;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=vo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function il(n){vo.setTimeout(()=>{const{onUnhandledError:e}=Yi;if(!e)throw n;e(n)})}function Es(){}const Mu=jt("C",void 0,void 0);function jt(n,e,t){return{kind:n,value:e,error:t}}let gr=null;function Rt(n){if(Yi.useDeprecatedSynchronousErrorHandling){const e=!gr;if(e&&(gr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=gr;if(gr=null,t)throw i}}else n()}class _a extends Mi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nl(e)&&e.add(this)):this.destination=Tu}static create(e,t,i){return new T(e,t,i)}next(e){this.isStopped?rl(function Bt(n){return jt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?rl(function ef(n){return jt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rl(Mu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qs=Function.prototype.bind;function Gr(n,e){return qs.call(n,e)}class Cu{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Xs(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Xs(i)}else Xs(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xs(t)}}}class T extends _a{constructor(e,t,i){let r;if(super(),cn(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Yi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Gr(e.next,s),error:e.error&&Gr(e.error,s),complete:e.complete&&Gr(e.complete,s)}):r=e}this.destination=new Cu(r)}}function Xs(n){Yi.useDeprecatedSynchronousErrorHandling?function Su(n){Yi.useDeprecatedSynchronousErrorHandling&&gr&&(gr.errorThrown=!0,gr.error=n)}(n):il(n)}function rl(n,e){const{onStoppedNotification:t}=Yi;t&&vo.setTimeout(()=>t(n,e))}const Tu={closed:!0,next:Es,error:function zn(n){throw n},complete:Es},sl="function"==typeof Symbol&&Symbol.observable||"@@observable";function sn(n){return n}function Eu(n){return 0===n.length?sn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let jn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function $o(n){return n&&n instanceof _a||function oc(n){return n&&cn(n.next)&&cn(n.error)&&cn(n.complete)}(n)&&nl(n)}(t)?t:new T(t,i,r);return Rt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=us(i))((r,s)=>{const o=new T({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[sl](){return this}pipe(...t){return Eu(t)(this)}toPromise(t){return new(t=us(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function us(n){var e;return null!==(e=n??Yi.Promise)&&void 0!==e?e:Promise}const ol=Dt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Rn=(()=>{class n extends jn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Au(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new ol}next(t){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?pr:(this.currentObservers=null,s.push(t),new Mi(()=>{this.currentObservers=null,di(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new jn;return t.source=this,t}}return n.create=(e,t)=>new Au(e,t),n})();class Au extends Rn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:pr}}function ac(n){return cn(n?.lift)}function ni(n){return e=>{if(ac(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xn(n,e,t,i,r){return new Du(n,e,t,i,r)}class Du extends _a{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _n(n,e){return ni((t,i)=>{let r=0;t.subscribe(Xn(i,s=>{i.next(n.call(e,s,r++))}))})}function Si(n){return this instanceof Si?(this.v=n,this):new Si(n)}function yo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function ii(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Pu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nf(n){return cn(n?.then)}function jr(n){return cn(n[sl])}function mr(n){return Symbol.asyncIterator&&cn(n?.[Symbol.asyncIterator])}function Nu(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rf=function V0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sf(n){return cn(n?.[rf])}function xa(n){return function ba(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){i[f]&&(r[f]=function(p){return new Promise(function(m,y){s.push([f,p,m,y])>1||a(f,p)})})}function a(f,p){try{!function c(f){f.value instanceof Si?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(i[f](p))}catch(m){d(s[0][3],m)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Si(t.read());if(r)return yield Si(void 0);yield yield Si(i)}}finally{t.releaseLock()}})}function Ma(n){return cn(n?.getReader)}function mi(n){if(n instanceof jn)return n;if(null!=n){if(jr(n))return function Lu(n){return new jn(e=>{const t=n[sl]();if(cn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Pu(n))return function H0(n){return new jn(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(nf(n))return function G0(n){return new jn(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,il)})}(n);if(mr(n))return af(n);if(sf(n))return function z0(n){return new jn(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ma(n))return function j0(n){return af(xa(n))}(n)}throw Nu(n)}function af(n){return new jn(e=>{(function W0(n,e){var t,i,r,s;return function ht(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=yo(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ys(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function ri(n,e,t=1/0){return cn(e)?ri((i,r)=>_n((s,o)=>e(i,s,r,o))(mi(n(i,r))),t):("number"==typeof e&&(t=e),ni((i,r)=>function $0(n,e,t,i,r,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},p=y=>l<i?m(y):c.push(y),m=y=>{s&&e.next(y),l++;let v=!1;mi(t(y,u++)).subscribe(Xn(e,_=>{r?.(_),s?p(_):e.next(_)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<i;){const _=c.shift();o?Ys(e,o,()=>m(_)):m(_)}f()}catch(_){e.error(_)}}))};return n.subscribe(Xn(e,p,()=>{d=!0,f()})),()=>{a?.()}}(i,r,n,t)))}function Sa(n=1/0){return ri(sn,n)}const Pr=new jn(n=>n.complete());function cf(n){return n&&cn(n.schedule)}function lf(n){return n[n.length-1]}function Xo(n){return cn(lf(n))?n.pop():void 0}function uc(n){return cf(lf(n))?n.pop():void 0}function uf(n,e=0){return ni((t,i)=>{t.subscribe(Xn(i,r=>Ys(i,n,()=>i.next(r),e),()=>Ys(i,n,()=>i.complete(),e),r=>Ys(i,n,()=>i.error(r),e)))})}function df(n,e=0){return ni((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function ff(n,e){if(!n)throw new Error("Iterable cannot be null");return new jn(t=>{Ys(t,e,()=>{const i=n[Symbol.asyncIterator]();Ys(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Ni(n,e){return e?function pf(n,e){if(null!=n){if(jr(n))return function q0(n,e){return mi(n).pipe(df(e),uf(e))}(n,e);if(Pu(n))return function X0(n,e){return new jn(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(nf(n))return function hf(n,e){return mi(n).pipe(df(e),uf(e))}(n,e);if(mr(n))return ff(n,e);if(sf(n))return function Y0(n,e){return new jn(t=>{let i;return Ys(t,e,()=>{i=n[rf](),Ys(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>cn(i?.return)&&i.return()})}(n,e);if(Ma(n))return function zg(n,e){return ff(xa(n),e)}(n,e)}throw Nu(n)}(n,e):mi(n)}class Zi extends Rn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function It(...n){return Ni(n,uc(n))}function jg(n={}){const{connector:e=(()=>new Rn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),o=c=void 0,u=d=!1},m=()=>{const y=o;p(),y?.unsubscribe()};return ni((y,v)=>{l++,!d&&!u&&f();const _=c=c??e();v.add(()=>{l--,0===l&&!d&&!u&&(a=gf(m,r))}),_.subscribe(v),!o&&l>0&&(o=new T({next:M=>_.next(M),error:M=>{d=!0,f(),a=gf(p,t,M),_.error(M)},complete:()=>{u=!0,f(),a=gf(p,i),_.complete()}}),mi(y).subscribe(o))})(s)}}function gf(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new T({next:()=>{i.unsubscribe(),n()}});return mi(e(...t)).subscribe(i)}function Wr(n,e){return ni((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(Xn(i,c=>{r?.unsubscribe();let l=0;const u=s++;mi(n(c,u)).subscribe(r=Xn(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Fu(n,e){return n===e}function Nn(n){for(let e in n)if(n[e]===Nn)return e;throw Error("Could not find renamed property on target object.")}function Li(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Li).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function $r(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Wg=Nn({__forward_ref__:Nn});function Ut(n){return n.__forward_ref__=Ut,n.toString=function(){return Li(this())},n}function Vt(n){return _f(n)?n():n}function _f(n){return"function"==typeof n&&n.hasOwnProperty(Wg)&&n.__forward_ref__===Ut}function wo(n){return n&&!!n.\u0275providers}const Uu="https://g.co/ng/security#xss";class Ie extends Error{constructor(e,t){super(function Yo(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ht(n){return"string"==typeof n?n:null==n?"":String(n)}function Vu(n,e){throw new Ie(-201,!1)}function Nr(n,e){null==n&&function Pt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function nt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ll(n){return Xg(n,h)||Xg(n,x)}function Xg(n,e){return n.hasOwnProperty(e)?n[e]:null}function Hu(n){return n&&(n.hasOwnProperty(g)||n.hasOwnProperty(C))?n[g]:null}const h=Nn({\u0275prov:Nn}),g=Nn({\u0275inj:Nn}),x=Nn({ngInjectableDef:Nn}),C=Nn({ngInjectorDef:Nn});var D=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(D||{});let I;function $(n){const e=I;return I=n,e}function W(n,e,t){const i=ll(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&D.Optional?null:void 0!==e?e:void Vu(Li(n))}const ie=globalThis,Yn={},Ta="__NG_DI_FLAG__",fc="ngTempTokenPath",ul=/\n/gm,So="__source";let Xr;function Ks(n){const e=Xr;return Xr=n,e}function Co(n,e=D.Default){if(void 0===Xr)throw new Ie(-203,!1);return null===Xr?W(n,void 0,e):Xr.get(n,e&D.Optional?null:void 0,e)}function Qe(n,e=D.Default){return(function P(){return I}()||Co)(Vt(n),e)}function ct(n,e=D.Default){return Qe(n,Gu(e))}function Gu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function In(n){const e=[];for(let t=0;t<n.length;t++){const i=Vt(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Ie(900,!1);let r,s=D.Default;for(let o=0;o<i.length;o++){const a=i[o],c=Ds(a);"number"==typeof c?-1===c?r=a.token:s|=c:r=a}e.push(Qe(r,s))}else e.push(Qe(i))}return e}function Zo(n,e){return n[Ta]=e,n.prototype[Ta]=e,n}function Ds(n){return n[Ta]}function To(n){return{toString:n}.toString()}var dl=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dl||{}),Ki=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ki||{});const hs={},on=[],hl=Nn({\u0275cmp:Nn}),Ea=Nn({\u0275dir:Nn}),gc=Nn({\u0275pipe:Nn}),fl=Nn({\u0275mod:Nn}),Is=Nn({\u0275fac:Nn}),pl=Nn({__NG_ELEMENT_ID__:Nn}),gl=Nn({__NG_ENV_ID__:Nn});function zu(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function ml(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];ju(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function Zg(n){return 3===n||4===n||6===n}function ju(n){return 64===n.charCodeAt(0)}function mc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||H(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function H(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const Z="ng-template";function re(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==zu(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function ue(n){return 4===n.type&&n.value!==Z}function be(n,e,t){return e===(4!==n.type||t?n.value:Z)}function We(n,e,t){let i=4;const r=n.attrs||[],s=function Lt(n){for(let e=0;e<n.length;e++)if(Zg(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!be(n,c,t)||""===c&&1===e.length){if(Ye(i))return!1;o=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!re(n.attrs,l,t)){if(Ye(i))return!1;o=!0}continue}const d=_t(8&i?"class":c,r,ue(n),t);if(-1===d){if(Ye(i))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":r[d+1].toLowerCase();const p=8&i?f:null;if(p&&-1!==zu(p,l,0)||2&i&&l!==f){if(Ye(i))return!1;o=!0}}}}else{if(!o&&!Ye(i)&&!Ye(c))return!1;if(o&&Ye(c))continue;o=!1,i=c|1&i}}return Ye(i)||o}function Ye(n){return 0==(1&n)}function _t(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Wt(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function rt(n,e,t=!1){for(let i=0;i<e.length;i++)if(We(n,e[i],t))return!0;return!1}function fn(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function At(n,e){return n?":not("+e.trim()+")":e}function Zn(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Ye(o)&&(e+=At(s,r),r=""),i=o,s=s||!Ye(i);t++}return""!==r&&(e+=At(s,r)),e}function kn(n){return To(()=>{const e=NS(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ki.Emulated,styles:n.styles||on,_:null,schemas:n.schemas||null,tView:null,id:""};LS(t);const i=n.dependencies;return t.directiveDefs=Jg(i,!1),t.pipeDefs=Jg(i,!0),t.id=function m3(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function _c(n){return An(n)||yr(n)}function vr(n){return null!==n}function Kn(n){return To(()=>({type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function PS(n,e){if(null==n)return hs;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function Ze(n){return To(()=>{const e=NS(n);return LS(e),e})}function An(n){return n[hl]||null}function yr(n){return n[Ea]||null}function Yr(n){return n[gc]||null}function Os(n,e){const t=n[fl]||null;if(!t&&!0===e)throw new Error(`Type ${Li(n)} does not have '\u0275mod' property.`);return t}function NS(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||hs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:PS(n.inputs,e),outputs:PS(n.outputs)}}function LS(n){n.features?.forEach(e=>e(n))}function Jg(n,e){if(!n)return null;const t=e?Yr:_c;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(vr)}const Ci=0,at=1,en=2,hi=3,Eo=4,wf=5,kr=6,$u=7,ki=8,vc=9,qu=10,Yt=11,xf=12,kS=13,Xu=14,Fi=15,Mf=16,Yu=17,Jo=18,Sf=19,FS=20,yc=21,Aa=22,Cf=23,Tf=24,bn=25,ry=1,BS=2,Ko=7,Zu=9,br=11;function ps(n){return Array.isArray(n)&&"object"==typeof n[ry]}function Zr(n){return Array.isArray(n)&&!0===n[ry]}function sy(n){return 0!=(4&n.flags)}function _l(n){return n.componentOffset>-1}function Qg(n){return 1==(1&n.flags)}function Ao(n){return!!n.template}function oy(n){return 0!=(512&n[en])}function vl(n,e){return n.hasOwnProperty(Is)?n[Is]:null}let wr=null,em=!1;function eo(n){const e=wr;return wr=n,e}const HS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function zS(n){if(!Af(n)||n.dirty){if(!n.producerMustRecompute(n)&&!$S(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function WS(n){n.dirty=!0,function jS(n){if(void 0===n.liveConsumerNode)return;const e=em;em=!0;try{for(const t of n.liveConsumerNode)t.dirty||WS(t)}finally{em=e}}(n),n.consumerMarkedDirty?.(n)}function cy(n){return n&&(n.nextProducerIndex=0),eo(n)}function ly(n,e){if(eo(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Af(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tm(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $S(n){Ju(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(zS(t),i!==t.version))return!0}return!1}function qS(n){if(Ju(n),Af(n))for(let e=0;e<n.producerNode.length;e++)tm(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function tm(n,e){if(function YS(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ju(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)tm(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ju(r),r.producerIndexOfThis[i]=e}}function Af(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ju(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let ZS=null;const eC=()=>{},D3=(()=>({...HS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:eC}))();class I3{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function xr(){return tC}function tC(n){return n.type.prototype.ngOnChanges&&(n.setInput=R3),O3}function O3(){const n=iC(this),e=n?.current;if(e){const t=n.previous;if(t===hs)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function R3(n,e,t,i){const r=this.declaredInputs[t],s=iC(n)||function P3(n,e){return n[nC]=e}(n,{previous:hs,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[r];o[r]=new I3(c&&c.currentValue,e,a===hs),n[i]=e}xr.ngInherit=!0;const nC="__ngSimpleChanges__";function iC(n){return n[nC]||null}const Qo=function(n,e,t){};function si(n){for(;Array.isArray(n);)n=n[Ci];return n}function gs(n,e){return si(e[n.index])}function oC(n,e){return n.data[e]}function Rs(n,e){const t=e[n];return ps(t)?t:t[Ci]}function wc(n,e){return null==e?null:n[e]}function aC(n){n[Yu]=0}function U3(n){1024&n[en]||(n[en]|=1024,lC(n,1))}function cC(n){1024&n[en]&&(n[en]&=-1025,lC(n,-1))}function lC(n,e){let t=n[hi];if(null===t)return;t[wf]+=e;let i=t;for(t=t[hi];null!==t&&(1===e&&1===i[wf]||-1===e&&0===i[wf]);)t[wf]+=e,i=t,t=t[hi]}const Gt={lFrame:bC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hC(){return Gt.bindingsEnabled}function Qu(){return null!==Gt.skipHydrationRootTNode}function Te(){return Gt.lFrame.lView}function Dn(){return Gt.lFrame.tView}function Jr(n){return Gt.lFrame.contextLView=n,n[ki]}function Kr(n){return Gt.lFrame.contextLView=null,n}function Mr(){let n=fC();for(;null!==n&&64===n.type;)n=n.parent;return n}function fC(){return Gt.lFrame.currentTNode}function ea(n,e){const t=Gt.lFrame;t.currentTNode=n,t.isParent=e}function py(){return Gt.lFrame.isParent}function gy(){Gt.lFrame.isParent=!1}function Qr(){const n=Gt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ed(){return Gt.lFrame.bindingIndex++}function Ia(n){const e=Gt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function J3(n,e){const t=Gt.lFrame;t.bindingIndex=t.bindingRootIndex=n,my(e)}function my(n){Gt.lFrame.currentDirectiveIndex=n}function _C(){return Gt.lFrame.currentQueryIndex}function vy(n){Gt.lFrame.currentQueryIndex=n}function Q3(n){const e=n[at];return 2===e.type?e.declTNode:1===e.type?n[kr]:null}function vC(n,e,t){if(t&D.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&D.Host||(r=Q3(s),null===r||(s=s[Xu],10&r.type))););if(null===r)return!1;e=r,n=s}const i=Gt.lFrame=yC();return i.currentTNode=e,i.lView=n,!0}function yy(n){const e=yC(),t=n[at];Gt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yC(){const n=Gt.lFrame,e=null===n?null:n.child;return null===e?bC(n):e}function bC(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function wC(){const n=Gt.lFrame;return Gt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const xC=wC;function by(){const n=wC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function es(){return Gt.lFrame.selectedIndex}function yl(n){Gt.lFrame.selectedIndex=n}function vi(){const n=Gt.lFrame;return oC(n.tView,n.selectedIndex)}let SC=!0;function im(){return SC}function xc(n){SC=n}function rm(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function sm(n,e,t){CC(n,e,3,t)}function om(n,e,t,i){(3&n[en])===t&&CC(n,e,t,i)}function wy(n,e){let t=n[en];(3&t)===e&&(t&=8191,t+=1,n[en]=t)}function CC(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let c=void 0!==i?65535&n[Yu]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[Yu]+=65536),(a<s||-1==s)&&(aB(n,t,e,c),n[Yu]=(4294901760&n[Yu])+c+2),c++}function TC(n,e){Qo(4,n,e);const t=eo(null);try{e.call(n)}finally{eo(t),Qo(5,n,e)}}function aB(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];r?n[en]>>13<n[Yu]>>16&&(3&n[en])===e&&(n[en]+=8192,TC(a,s)):TC(a,s)}const td=-1;class If{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function My(n){return n!==td}function Of(n){return 32767&n}function Rf(n,e){let t=function dB(n){return n>>16}(n),i=e;for(;t>0;)i=i[Xu],t--;return i}let Sy=!0;function am(n){const e=Sy;return Sy=n,e}const EC=255,AC=5;let hB=0;const ta={};function cm(n,e){const t=DC(n,e);if(-1!==t)return t;const i=e[at];i.firstCreatePass&&(n.injectorIndex=e.length,Cy(i.data,n),Cy(e,null),Cy(i.blueprint,null));const r=lm(n,e),s=n.injectorIndex;if(My(r)){const o=Of(r),a=Rf(r,e),c=a[at].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=r,s}function Cy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function DC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function lm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=kC(r),null===i)return td;if(t++,r=r[Xu],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return td}function Ty(n,e,t){!function fB(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(pl)&&(i=t[pl]),null==i&&(i=t[pl]=hB++);const r=i&EC;e.data[n+(r>>AC)]|=1<<r}(n,e,t)}function IC(n,e,t){if(t&D.Optional||void 0!==n)return n;Vu()}function OC(n,e,t,i){if(t&D.Optional&&void 0===i&&(i=null),!(t&(D.Self|D.Host))){const r=n[vc],s=$(void 0);try{return r?r.get(e,i,t&D.Optional):W(e,i,t&D.Optional)}finally{$(s)}}return IC(i,0,t)}function RC(n,e,t,i=D.Default,r){if(null!==n){if(2048&e[en]&&!(i&D.Self)){const o=function yB(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[en]&&!(512&o[en]);){const a=PC(s,o,t,i|D.Self,ta);if(a!==ta)return a;let c=s.parent;if(!c){const l=o[FS];if(l){const u=l.get(t,ta,i);if(u!==ta)return u}c=kC(o),o=o[Xu]}s=c}return r}(n,e,t,i,ta);if(o!==ta)return o}const s=PC(n,e,t,i,ta);if(s!==ta)return s}return OC(e,t,i,r)}function PC(n,e,t,i,r){const s=function mB(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(pl)?n[pl]:void 0;return"number"==typeof e?e>=0?e&EC:vB:e}(t);if("function"==typeof s){if(!vC(e,n,i))return i&D.Host?IC(r,0,i):OC(e,t,i,r);try{let o;if(o=s(i),null!=o||i&D.Optional)return o;Vu()}finally{xC()}}else if("number"==typeof s){let o=null,a=DC(n,e),c=td,l=i&D.Host?e[Fi][kr]:null;for((-1===a||i&D.SkipSelf)&&(c=-1===a?lm(n,e):e[a+8],c!==td&&LC(i,!1)?(o=e[at],a=Of(c),e=Rf(c,e)):a=-1);-1!==a;){const u=e[at];if(NC(s,a,u.data)){const d=gB(a,e,t,o,i,l);if(d!==ta)return d}c=e[a+8],c!==td&&LC(i,e[at].data[a+8]===l)&&NC(s,a,e)?(o=u,a=Of(c),e=Rf(c,e)):a=-1}}return r}function gB(n,e,t,i,r,s){const o=e[at],a=o.data[n+8],u=um(a,o,t,null==i?_l(a)&&Sy:i!=o&&0!=(3&a.type),r&D.Host&&s===a);return null!==u?bl(e,o,u,a):ta}function um(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,u=s>>20,f=r?a+u:n.directiveEnd;for(let p=i?a:a+u;p<f;p++){const m=o[p];if(p<c&&t===m||p>=c&&m.type===t)return p}if(r){const p=o[c];if(p&&Ao(p)&&p.type===t)return c}return null}function bl(n,e,t,i){let r=n[t];const s=e.data;if(function cB(n){return n instanceof If}(r)){const o=r;o.resolving&&function $g(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Cn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ht(n)}(s[t]));const a=am(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?$(o.injectImpl):null;vC(n,i,D.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function oB(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=tC(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&$(l),am(a),o.resolving=!1,xC()}}return r}function NC(n,e,t){return!!(t[e+(n>>AC)]&1<<n)}function LC(n,e){return!(n&D.Self||n&D.Host&&e)}class ts{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return RC(this._tNode,this._lView,e,Gu(i),t)}}function vB(){return new ts(Mr(),Te())}function Ey(n){return _f(n)?()=>{const e=Ey(Vt(n));return e&&e()}:vl(n)}function kC(n){const e=n[at],t=e.type;return 2===t?e.declTNode:1===t?n[kr]:null}const id="__parameters__";function sd(n,e,t){return To(()=>{const i=function Ay(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(id)?c[id]:Object.defineProperty(c,id,{value:[]})[id];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function ad(n,e){n.forEach(t=>Array.isArray(t)?ad(t,e):e(t))}function BC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function dm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Lf(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Ps(n,e,t){let i=cd(n,e);return i>=0?n[1|i]=t:(i=~i,function TB(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Dy(n,e){const t=cd(n,e);if(t>=0)return n[1|t]}function cd(n,e){return function UC(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const fm=Zo(sd("Optional"),8),pm=Zo(sd("SkipSelf"),4);function ym(n){return 128==(128&n.flags)}var Mc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Mc||{});const Ny=new Map;let ZB=0;const ky="__ngContext__";function Fr(n,e){ps(e)?(n[ky]=e[Sf],function KB(n){Ny.set(n[Sf],n)}(e)):n[ky]=e}let Fy;function By(n,e){return Fy(n,e)}function Bf(n){const e=n[hi];return Zr(e)?e[hi]:e}function sT(n){return aT(n[xf])}function oT(n){return aT(n[Eo])}function aT(n){for(;null!==n&&!Zr(n);)n=n[Eo];return n}function dd(n,e,t,i,r){if(null!=i){let s,o=!1;Zr(i)?s=i:ps(i)&&(o=!0,i=i[Ci]);const a=si(i);0===n&&null!==t?null==r?dT(e,t,a):xl(e,t,a,r||null,!0):1===n&&null!==t?xl(e,t,a,r||null,!0):2===n?function Tm(n,e,t){const i=Sm(n,e);i&&function _U(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function bU(n,e,t,i,r){const s=t[Ko];s!==si(t)&&dd(e,n,i,s,r);for(let a=br;a<t.length;a++){const c=t[a];Vf(c[at],c,n,e,i,s)}}(e,n,s,t,r)}}function xm(n,e,t){return n.createElement(e,t)}function lT(n,e){const t=n[Zu],i=t.indexOf(e);cC(e),t.splice(i,1)}function Mm(n,e){if(n.length<=br)return;const t=br+e,i=n[t];if(i){const r=i[Mf];null!==r&&r!==n&&lT(r,i),e>0&&(n[t-1][Eo]=i[Eo]);const s=dm(n,br+e);!function lU(n,e){Vf(n,e,e[Yt],2,null,null),e[Ci]=null,e[kr]=null}(i[at],i);const o=s[Jo];null!==o&&o.detachView(s[at]),i[hi]=null,i[Eo]=null,i[en]&=-129}return i}function Vy(n,e){if(!(256&e[en])){const t=e[Yt];e[Cf]&&qS(e[Cf]),e[Tf]&&qS(e[Tf]),t.destroyNode&&Vf(n,e,t,3,null,null),function hU(n){let e=n[xf];if(!e)return Hy(n[at],n);for(;e;){let t=null;if(ps(e))t=e[xf];else{const i=e[br];i&&(t=i)}if(!t){for(;e&&!e[Eo]&&e!==n;)ps(e)&&Hy(e[at],e),e=e[hi];null===e&&(e=n),ps(e)&&Hy(e[at],e),t=e&&e[Eo]}e=t}}(e)}}function Hy(n,e){if(!(256&e[en])){e[en]&=-129,e[en]|=256,function mU(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof If)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],c=s[o+1];Qo(4,a,c);try{c.call(a)}finally{Qo(5,a,c)}}else{Qo(4,r,s);try{s.call(r)}finally{Qo(5,r,s)}}}}}(n,e),function gU(n,e){const t=n.cleanup,i=e[$u];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[$u]=null);const r=e[yc];if(null!==r){e[yc]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[at].type&&e[Yt].destroy();const t=e[Mf];if(null!==t&&Zr(e[hi])){t!==e[hi]&&lT(t,e);const i=e[Jo];null!==i&&i.detachView(n)}!function QB(n){Ny.delete(n[Sf])}(e)}}function Gy(n,e,t){return function uT(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Ci];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Ki.None||s===Ki.Emulated)return null}return gs(i,t)}}(n,e.parent,t)}function xl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function dT(n,e,t){n.appendChild(e,t)}function hT(n,e,t,i,r){null!==i?xl(n,e,t,i,r):dT(n,e,t)}function Sm(n,e){return n.parentNode(e)}function fT(n,e,t){return gT(n,e,t)}let zy,qy,Am,gT=function pT(n,e,t){return 40&n.type?gs(n,t):null};function Cm(n,e,t,i){const r=Gy(n,i,e),s=e[Yt],a=fT(i.parent||e[kr],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)hT(s,r,t[c],a,!1);else hT(s,r,t,a,!1);void 0!==zy&&zy(s,i,e,t,r)}function Uf(n,e){if(null!==e){const t=e.type;if(3&t)return gs(e,n);if(4&t)return jy(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Uf(n,i);{const r=n[e.index];return Zr(r)?jy(-1,r):si(r)}}if(32&t)return By(e,n)()||si(n[e.index]);{const i=_T(n,e);return null!==i?Array.isArray(i)?i[0]:Uf(Bf(n[Fi]),i):Uf(n,e.next)}}return null}function _T(n,e){return null!==e?n[Fi][kr].projection[e.projection]:null}function jy(n,e){const t=br+n+1;if(t<e.length){const i=e[t],r=i[at].firstChild;if(null!==r)return Uf(i,r)}return e[Ko]}function Wy(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],c=t.type;if(o&&0===e&&(a&&Fr(si(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)Wy(n,e,t.child,i,r,s,!1),dd(e,n,r,a,s);else if(32&c){const l=By(t,i);let u;for(;u=l();)dd(e,n,r,u,s);dd(e,n,r,a,s)}else 16&c?yT(n,e,i,t,r,s):dd(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Vf(n,e,t,i,r,s){Wy(t,i,n.firstChild,e,r,s,!1)}function yT(n,e,t,i,r,s){const o=t[Fi],c=o[kr].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)dd(e,n,r,c[l],s);else{let l=c;const u=o[hi];ym(i)&&(l.flags|=128),Wy(n,e,l,u,r,s,!0)}}function bT(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function wT(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&ml(n,e,i),null!==r&&bT(n,e,r),null!==s&&function xU(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function ST(n){return function Xy(){if(void 0===Am&&(Am=null,ie.trustedTypes))try{Am=ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Am}()?.createScriptURL(n)||n}class CT{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Uu})`}}function Sc(n){return n instanceof CT?n.changingThisBreaksApplicationSecurity:n}function Hf(n,e){const t=function RU(n){return n instanceof CT&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Uu})`)}return t===e}const kU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var pd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(pd||{});function er(n){const e=zf();return e?e.sanitize(pd.URL,n)||"":Hf(n,"URL")?Sc(n):function Yy(n){return(n=String(n)).match(kU)?n:"unsafe:"+n}(Ht(n))}function RT(n){const e=zf();if(e)return ST(e.sanitize(pd.RESOURCE_URL,n)||"");if(Hf(n,"ResourceURL"))return ST(Sc(n));throw new Ie(904,!1)}function zf(){const n=Te();return n&&n[qu].sanitizer}class vt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=nt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jf=new vt("ENVIRONMENT_INITIALIZER"),NT=new vt("INJECTOR",-1),LT=new vt("INJECTOR_DEF_TYPES");class Qy{get(e,t=Yn){if(t===Yn){const i=new Error(`NullInjectorError: No provider for ${Li(e)}!`);throw i.name="NullInjectorError",i}return t}}function YU(...n){return{\u0275providers:FT(0,n),\u0275fromNgModule:!0}}function FT(n,...e){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return ad(e,o=>{const a=o;Im(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&BT(r,s),t}function BT(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];eb(r,s=>{e(s,i)})}}function Im(n,e,t,i){if(!(n=Vt(n)))return!1;let r=null,s=Hu(n);const o=!s&&An(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const c=n.ngModule;if(s=Hu(c),!s)return!1;r=c}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Im(l,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;i.add(r);try{ad(s.imports,u=>{Im(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&BT(l,e)}if(!a){const l=vl(r)||(()=>new r);e({provide:r,useFactory:l,deps:on},r),e({provide:LT,useValue:r,multi:!0},r),e({provide:jf,useValue:()=>Qe(r),multi:!0},r)}const c=s.providers;if(null!=c&&!a){const l=n;eb(c,u=>{e(u,l)})}}}return r!==n&&void 0!==n.providers}function eb(n,e){for(let t of n)wo(t)&&(t=t.\u0275providers),Array.isArray(t)?eb(t,e):e(t)}const ZU=Nn({provide:String,useValue:Nn});function tb(n){return null!==n&&"object"==typeof n&&ZU in n}function Ml(n){return"function"==typeof n}const nb=new vt("Set Injector scope."),Om={},KU={};let ib;function Rm(){return void 0===ib&&(ib=new Qy),ib}class _s{}class Pm extends _s{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sb(e,o=>this.processProvider(o)),this.records.set(NT,gd(void 0,this)),r.has("environment")&&this.records.set(_s,gd(void 0,this));const s=this.records.get(nb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(LT.multi,on,D.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ks(this),i=$(void 0);try{return e()}finally{Ks(t),$(i)}}get(e,t=Yn,i=D.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gl))return e[gl](this);i=Gu(i);const s=Ks(this),o=$(void 0);try{if(!(i&D.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function iV(n){return"function"==typeof n||"object"==typeof n&&n instanceof vt}(e)&&ll(e);c=l&&this.injectableDefInScope(l)?gd(rb(e),Om):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&D.Self?Rm():this.parent).get(e,t=i&D.Optional&&t===Yn?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[fc]=a[fc]||[]).unshift(Li(e)),s)throw a;return function pc(n,e,t,i){const r=n[fc];throw e[So]&&r.unshift(e[So]),n.message=function iy(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Li(e);if(Array.isArray(e))r=e.map(Li).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Li(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(ul,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[fc]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{$(o),Ks(s)}}resolveInjectorInitializers(){const e=Ks(this),t=$(void 0);try{const r=this.get(jf.multi,on,D.Self);for(const s of r)s()}finally{Ks(e),$(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Li(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(e){let t=Ml(e=Vt(e))?e:Vt(e&&e.provide);const i=function eV(n){return tb(n)?gd(void 0,n.useValue):gd(function HT(n,e,t){let i;if(Ml(n)){const r=Vt(n);return vl(r)||rb(r)}if(tb(n))i=()=>Vt(n.useValue);else if(function VT(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...In(n.deps||[]));else if(function UT(n){return!(!n||!n.useExisting)}(n))i=()=>Qe(Vt(n.useExisting));else{const r=Vt(n&&(n.useClass||n.provide));if(!function tV(n){return!!n.deps}(n))return vl(r)||rb(r);i=()=>new r(...In(n.deps))}return i}(n),Om)}(e);if(Ml(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=gd(void 0,Om,!0),r.factory=()=>In(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Om&&(t.value=KU,t.value=t.factory()),"object"==typeof t.value&&t.value&&function nV(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Vt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function rb(n){const e=ll(n),t=null!==e?e.factory:vl(n);if(null!==t)return t;if(n instanceof vt)throw new Ie(204,!1);if(n instanceof Function)return function QU(n){const e=n.length;if(e>0)throw Lf(e,"?"),new Ie(204,!1);const t=function ny(n){return n&&(n[h]||n[x])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ie(204,!1)}function gd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function sb(n,e){for(const t of n)Array.isArray(t)?sb(t,e):t&&wo(t)?sb(t.\u0275providers,e):e(t)}const Nm=new vt("AppId",{providedIn:"root",factory:()=>rV}),rV="ng",GT=new vt("Platform Initializer"),md=new vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zT=new vt("CSP nonce",{providedIn:"root",factory:()=>function fd(){if(void 0!==qy)return qy;if(typeof document<"u")return document;throw new Ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jT=(n,e,t)=>null;function fb(n,e,t=!1){return jT(n,e,t)}class pV{}class qT{}class mV{resolveComponentFactory(e){throw function gV(n){const e=Error(`No component factory found for ${Li(n)}.`);return e.ngComponent=n,e}(e)}}let Vm=(()=>{class n{static#e=this.NULL=new mV}return n})();function _V(){return yd(Mr(),Te())}function yd(n,e){return new Un(gs(n,e))}let Un=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=_V}return n})();function vV(n){return n instanceof Un?n.nativeElement:n}class mb{}let Ns=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yV(){const n=Te(),t=Rs(Mr().index,n);return(ps(t)?t:n)[Yt]}()}return n})(),bV=(()=>{class n{static#e=this.\u0275prov=nt({token:n,providedIn:"root",factory:()=>null})}return n})();class qf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wV=new qf("16.2.7"),_b={};function KT(n,e=null,t=null,i){const r=QT(n,e,t,i);return r.resolveInjectorInitializers(),r}function QT(n,e=null,t=null,i,r=new Set){const s=[t||on,YU(n)];return i=i||("object"==typeof n?void 0:Li(n)),new Pm(s,e||Rm(),i||null,r)}let Sr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Yn;static#t=this.NULL=new Qy;static create(t,i){if(Array.isArray(t))return KT({name:""},i,t,"");{const r=t.name??"";return KT({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=nt({token:n,providedIn:"any",factory:()=>Qe(NT)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function yb(n){return n.ngOriginalError}class Ra{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&yb(e);for(;t&&yb(t);)t=yb(t);return t||null}}function wb(n){return e=>{setTimeout(n,void 0,e)}}const Ct=class AV extends Rn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=wb(s),r&&(r=wb(r)),o&&(o=wb(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof Mi&&e.add(a),a}};function tE(...n){}class Mn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ct(!1),this.onMicrotaskEmpty=new Ct(!1),this.onStable=new Ct(!1),this.onError=new Ct(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function DV(){const n="function"==typeof ie.requestAnimationFrame;let e=ie[n?"requestAnimationFrame":"setTimeout"],t=ie[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function RV(n){const e=()=>{!function OV(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ie,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Mb(n),n.isCheckStableRunning=!0,xb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Mb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function NV(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return nE(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),iE(n)}},onInvoke:(t,i,r,s,o,a,c)=>{try{return nE(n),t.invoke(r,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),iE(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Mb(n),xb(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mn.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Mn.isInAngularZone())throw new Ie(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,IV,tE,tE);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const IV={};function xb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Mb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function nE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iE(n){n._nesting--,xb(n)}class PV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ct,this.onMicrotaskEmpty=new Ct,this.onStable=new Ct,this.onError=new Ct}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const rE=new vt("",{providedIn:"root",factory:sE});function sE(){const n=ct(Mn);let e=!0;return function _r(...n){const e=uc(n),t=function Gg(n,e){return"number"==typeof lf(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?mi(i[0]):Sa(t)(Ni(i,e)):Pr}(new jn(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new jn(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Mn.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Mn.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(jg()))}function Pa(n){return n instanceof Function?n():n}let Sb=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=nt({token:n,providedIn:"root",factory:()=>new n})}return n})();function Xf(n){for(;n;){n[en]|=64;const e=Bf(n);if(oy(n)&&!e)return n;n=e}return null}const uE=new vt("",{providedIn:"root",factory:()=>!1});let Gm=null;function pE(n,e){return n[e]??_E()}function gE(n,e){const t=_E();t.producerNode?.length&&(n[e]=Gm,t.lView=n,Gm=mE())}const jV={...HS,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Xf(n.lView)},lView:null};function mE(){return Object.create(jV)}function _E(){return Gm??=mE(),Gm}const Qt={};function Oe(n){vE(Dn(),Te(),es()+n,!1)}function vE(n,e,t,i){if(!i)if(3==(3&e[en])){const s=n.preOrderCheckHooks;null!==s&&sm(e,s,t)}else{const s=n.preOrderHooks;null!==s&&om(e,s,0,t)}yl(t)}function J(n,e=D.Default){const t=Te();return null===t?Qe(n,e):RC(Mr(),t,Vt(n),e)}function zm(n,e,t,i,r,s,o,a,c,l,u){const d=e.blueprint.slice();return d[Ci]=r,d[en]=140|i,(null!==l||n&&2048&n[en])&&(d[en]|=2048),aC(d),d[hi]=d[Xu]=n,d[ki]=t,d[qu]=o||n&&n[qu],d[Yt]=a||n&&n[Yt],d[vc]=c||n&&n[vc]||null,d[kr]=s,d[Sf]=function JB(){return ZB++}(),d[Aa]=u,d[FS]=l,d[Fi]=2==e.type?n[Fi]:d,d}function xd(n,e,t,i,r){let s=n.data[e];if(null===s)s=function Cb(n,e,t,i,r){const s=fC(),o=py(),c=n.data[e]=function KV(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return Qu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,i,r),function Z3(){return Gt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Df(){const n=Gt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ea(s,!0),s}function Yf(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function bE(n,e,t,i,r){const s=pE(e,Cf),o=es(),a=2&i;try{yl(-1),a&&e.length>bn&&vE(n,e,bn,!1),Qo(a?2:0,r);const l=a?s:null,u=cy(l);try{null!==l&&(l.dirty=!1),t(i,r)}finally{ly(l,u)}}finally{a&&null===e[Cf]&&gE(e,Cf),yl(o),Qo(a?3:1,r)}}function Tb(n,e,t){if(sy(e)){const i=eo(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{eo(i)}}}function Eb(n,e,t){hC()&&(function s4(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;_l(t)&&function h4(n,e,t){const i=gs(e,n),r=wE(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=jm(n,zm(n,r,null,o,i,e,null,n[qu].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||cm(t,e),Fr(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const c=n.data[a],l=bl(e,n,a,t);Fr(l,e),null!==o&&f4(0,a-r,l,c,0,o),Ao(c)&&(Rs(t.index,e)[ki]=bl(e,n,a,t))}}(n,e,t,gs(t,e)),64==(64&t.flags)&&TE(n,e,t))}function Ab(n,e,t=gs){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function wE(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Db(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Db(n,e,t,i,r,s,o,a,c,l,u){const d=bn+i,f=d+r,p=function $V(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Qt);return t}(d,f),m="function"==typeof l?l():l;return p[at]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}let xE=n=>null;function ME(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?SE(t,e,r,s):i.hasOwnProperty(r)&&SE(t,e,i[r],s)}return t}function SE(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Ib(n,e,t,i){if(hC()){const r=null===i?null:{"":-1},s=function a4(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(rt(e,o.selectors,!1))if(i||(i=[]),Ao(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Ob(n,e,a.length)}else i.unshift(o),Ob(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&CE(n,e,t,o,r,a),r&&function c4(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Ie(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=mc(t.mergedAttrs,t.attrs)}function CE(n,e,t,i,r,s){for(let l=0;l<i.length;l++)Ty(cm(t,e),n,i[l].type);!function u4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Yf(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=mc(t.mergedAttrs,u.hostAttrs),d4(n,t,e,c,u),l4(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function QV(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],f=t?t.get(d):null,m=f?f.outputs:null;c=ME(d.inputs,u,c,f?f.inputs:null),l=ME(d.outputs,u,l,m);const y=null===c||null===o||ue(e)?null:p4(c,u,o);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function TE(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function K3(){return Gt.lFrame.currentDirectiveIndex}();try{yl(s);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];my(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&o4(c,l)}}finally{yl(-1),my(o)}}function o4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ob(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function l4(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ao(e)&&(t[""]=n)}}function d4(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=vl(r.type)),o=new If(s,Ao(r),J);n.blueprint[i]=o,t[i]=o,function i4(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function r4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,Yf(n,t,r.hostVars,Qt),r)}function na(n,e,t,i,r,s){const o=gs(n,e);!function Rb(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?Ht(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[Yt],o,s,n.value,t,i,r)}function f4(n,e,t,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)EE(i,t,o[a++],o[a++],o[a++])}function EE(n,e,t,i,r){const s=eo(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{eo(s)}}function p4(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function AE(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function DE(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];vy(t[i]),o.contentQueries(2,e[s],s)}}}function jm(n,e){return n[xf]?n[kS][Eo]=e:n[xf]=e,n[kS]=e,e}function Pb(n,e,t){vy(0);const i=eo(null);try{e(n,t)}finally{eo(i)}}function IE(n){return n[$u]||(n[$u]=[])}function OE(n){return n.cleanup||(n.cleanup=[])}function PE(n,e){const t=n[vc],i=t?t.get(Ra,null):null;i&&i.handleError(e)}function Nb(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];EE(n.data[o],e[o],i,a,r)}}function g4(n,e){const t=Rs(e,n),i=t[at];!function m4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Ci];null!==r&&null===t[Aa]&&(t[Aa]=fb(r,t[vc])),Lb(i,t,t[ki])}function Lb(n,e,t){yy(e);try{const i=n.viewQuery;null!==i&&Pb(1,i,t);const r=n.template;null!==r&&bE(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&DE(n,e),n.staticViewQueries&&Pb(2,n.viewQuery,t);const s=n.components;null!==s&&function _4(n,e){for(let t=0;t<e.length;t++)g4(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[en]&=-5,by()}}let NE=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function A3(n,e,t){const i=Object.create(D3);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>WS(i),run:()=>{if(i.dirty=!1,i.hasRun&&!$S(i))return;i.hasRun=!0;const o=cy(i);try{i.cleanupFn(),i.cleanupFn=eC,i.fn(r)}finally{ly(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,s)},r);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=nt({token:n,providedIn:"root",factory:()=>new n})}return n})();function Wm(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=$r(r,a):2==s&&(i=$r(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Zf(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];null!==s&&i.push(si(s)),Zr(s)&&LE(s,i);const o=t.type;if(8&o)Zf(n,e,t.child,i);else if(32&o){const a=By(t,e);let c;for(;c=a();)i.push(c)}else if(16&o){const a=_T(e,t);if(Array.isArray(a))i.push(...a);else{const c=Bf(e[Fi]);Zf(c[at],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function LE(n,e){for(let t=br;t<n.length;t++){const i=n[t],r=i[at].firstChild;null!==r&&Zf(i[at],i,r,e)}n[Ko]!==n[Ci]&&e.push(n[Ko])}function $m(n,e,t,i=!0){const r=e[qu],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{kE(n,e,n.template,t)}catch(c){throw i&&PE(e,c),c}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function kE(n,e,t,i){const r=e[en];if(256!=(256&r)){e[qu].effectManager?.flush(),yy(e);try{aC(e),function gC(n){return Gt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&bE(n,e,t,2,i);const o=3==(3&r);if(o){const l=n.preOrderCheckHooks;null!==l&&sm(e,l,null)}else{const l=n.preOrderHooks;null!==l&&om(e,l,0,null),wy(e,0)}if(function b4(n){for(let e=sT(n);null!==e;e=oT(e)){if(!e[BS])continue;const t=e[Zu];for(let i=0;i<t.length;i++){U3(t[i])}}}(e),FE(e,2),null!==n.contentQueries&&DE(n,e),o){const l=n.contentCheckHooks;null!==l&&sm(e,l)}else{const l=n.contentHooks;null!==l&&om(e,l,1),wy(e,1)}!function WV(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=pE(e,Tf);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)yl(~s);else{const o=s,a=t[++r],c=t[++r];J3(a,o),i.dirty=!1;const l=cy(i);try{c(2,e[o])}finally{ly(i,l)}}}}finally{null===e[Tf]&&gE(e,Tf),yl(-1)}}(n,e);const a=n.components;null!==a&&UE(e,a,0);const c=n.viewQuery;if(null!==c&&Pb(2,c,i),o){const l=n.viewCheckHooks;null!==l&&sm(e,l)}else{const l=n.viewHooks;null!==l&&om(e,l,2),wy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[en]&=-73,cC(e)}finally{by()}}}function FE(n,e){for(let t=sT(n);null!==t;t=oT(t))for(let i=br;i<t.length;i++)BE(t[i],e)}function w4(n,e,t){BE(Rs(e,n),t)}function BE(n,e){if(!function F3(n){return 128==(128&n[en])}(n))return;const t=n[at],i=n[en];if(80&i&&0===e||1024&i||2===e)kE(t,n,t.template,n[ki]);else if(n[wf]>0){FE(n,1);const r=t.components;null!==r&&UE(n,r,1)}}function UE(n,e,t){for(let i=0;i<e.length;i++)w4(n,e[i],t)}class Jf{get rootNodes(){const e=this._lView,t=e[at];return Zf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(e){this._lView[ki]=e}get destroyed(){return 256==(256&this._lView[en])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[hi];if(Zr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Mm(e,i),dm(t,i))}this._attachedToViewContainer=!1}Vy(this._lView[at],this._lView)}onDestroy(e){!function uC(n,e){if(256==(256&n[en]))throw new Ie(911,!1);null===n[yc]&&(n[yc]=[]),n[yc].push(e)}(this._lView,e)}markForCheck(){Xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[en]&=-129}reattach(){this._lView[en]|=128}detectChanges(){$m(this._lView[at],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dU(n,e){Vf(n,e,e[Yt],2,null,null)}(this._lView[at],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=e}}class x4 extends Jf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;$m(e[at],e,e[ki],!1)}checkNoChanges(){}get context(){return null}}class VE extends Vm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=An(e);return new Kf(t,this.ngModule)}}function HE(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class S4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Gu(i);const r=this.injector.get(e,_b,i);return r!==_b||t===_b?r:this.parentInjector.get(e,t,i)}}class Kf extends qT{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=HE(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return HE(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Lr(n){return n.map(Zn).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof _s?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new S4(e,s):e,a=o.get(mb,null);if(null===a)throw new Ie(407,!1);const d={rendererFactory:a,sanitizer:o.get(bV,null),effectManager:o.get(NE,null),afterRenderEventManager:o.get(Sb,null)},f=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=i?function qV(n,e,t,i){const s=i.get(uE,!1)||t===Ki.ShadowDom,o=n.selectRootElement(e,s);return function XV(n){xE(n)}(o),o}(f,i,this.componentDef.encapsulation,o):xm(f,p,function M4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==m&&(M=fb(m,o,!0));const S=Db(0,null,null,1,0,null,null,null,null,null,null),A=zm(null,S,null,_,null,null,d,f,o,null,M);let O,L;yy(A);try{const N=this.componentDef;let V,R=null;N.findHostDirectiveDefs?(V=[],R=new Map,N.findHostDirectiveDefs(N,V,R),V.push(N)):V=[N];const B=function T4(n,e){const t=n[at],i=bn;return n[i]=e,xd(t,i,2,"#host",null)}(A,m),Q=function E4(n,e,t,i,r,s,o){const a=r[at];!function A4(n,e,t,i){for(const r of n)e.mergedAttrs=mc(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Wm(e,e.mergedAttrs,!0),null!==t&&wT(i,t,e))}(i,n,e,o);let c=null;null!==e&&(c=fb(e,r[vc]));const l=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=zm(r,wE(t),null,u,r[n.index],n,s,l,null,null,c);return a.firstCreatePass&&Ob(a,n,i.length-1),jm(r,d),r[n.index]=d}(B,m,N,V,A,d,f);L=oC(S,bn),m&&function I4(n,e,t,i){if(i)ml(n,t,["ng-version",wV.full]);else{const{attrs:r,classes:s}=function or(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Ye(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&ml(n,t,r),s&&s.length>0&&bT(n,t,s.join(" "))}}(f,N,m,i),void 0!==t&&function O4(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(L,this.ngContentSelectors,t),O=function D4(n,e,t,i,r,s){const o=Mr(),a=r[at],c=gs(o,r);CE(a,r,o,t,null,i);for(let u=0;u<t.length;u++)Fr(bl(r,a,o.directiveStart+u,o),r);TE(a,r,o),c&&Fr(c,r);const l=bl(r,a,o.directiveStart+o.componentOffset,o);if(n[ki]=r[ki]=l,null!==s)for(const u of s)u(l,e);return Tb(a,o,n),l}(Q,N,V,R,A,[R4]),Lb(S,A,null)}finally{by()}return new C4(this.componentType,O,yd(L,A),A,L)}}class C4 extends pV{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new x4(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Nb(s[at],s,r,e,t),this.previousInputValues.set(e,t),Xf(Rs(this._tNode.index,s))}}get injector(){return new ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function R4(){const n=Mr();rm(Te()[at],n)}function $E(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function kb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ia(n,e,t){return n[e]=t}function Br(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Hn(n,e,t,i){const r=Te();return Br(r,ed(),e)&&(Dn(),na(vi(),r,n,e,t,i)),Hn}function et(n,e,t,i,r,s,o,a){const c=Te(),l=Dn(),u=n+bn,d=l.firstCreatePass?function oH(n,e,t,i,r,s,o,a,c){const l=e.consts,u=xd(e,n,4,o||null,wc(l,a));Ib(e,t,u,wc(l,c)),rm(e,u);const d=u.tView=Db(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,s,o):l.data[u];ea(d,!1);const f=sA(l,c,d,n);im()&&Cm(l,c,f,d),Fr(f,c),jm(c,c[u]=AE(f,c,f,d)),Qg(d)&&Eb(l,c,d),null!=o&&Ab(c,d,a)}let sA=function oA(n,e,t,i){return xc(!0),e[Yt].createComment("")};function De(n,e,t){const i=Te();return Br(i,ed(),e)&&function Ls(n,e,t,i,r,s,o,a){const c=gs(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(Nb(n,t,u,i,r),_l(e)&&function t4(n,e){const t=Rs(e,n);16&t[en]||(t[en]|=64)}(t,e.index)):3&e.type&&(i=function e4(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(c,i,r))}(Dn(),vi(),i,n,e,i[Yt],t,!1),De}function Gb(n,e,t,i,r){const o=r?"class":"style";Nb(n,t,e.inputs[o],o,i)}function b(n,e,t,i){const r=Te(),s=Dn(),o=bn+n,a=r[Yt],c=s.firstCreatePass?function uH(n,e,t,i,r,s){const o=e.consts,c=xd(e,n,2,i,wc(o,r));return Ib(e,t,c,wc(o,s)),null!==c.attrs&&Wm(c,c.attrs,!1),null!==c.mergedAttrs&&Wm(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,e,t,i):s.data[o],l=aA(s,r,c,a,e,n);r[o]=l;const u=Qg(c);return ea(c,!0),wT(a,l,c),32!=(32&c.flags)&&im()&&Cm(s,r,l,c),0===function H3(){return Gt.lFrame.elementDepthCount}()&&Fr(l,r),function G3(){Gt.lFrame.elementDepthCount++}(),u&&(Eb(s,r,c),Tb(s,c,r)),null!==i&&Ab(r,c),b}function w(){let n=Mr();py()?gy():(n=n.parent,ea(n,!1));const e=n;(function j3(n){return Gt.skipHydrationRootTNode===n})(e)&&function X3(){Gt.skipHydrationRootTNode=null}(),function z3(){Gt.lFrame.elementDepthCount--}();const t=Dn();return t.firstCreatePass&&(rm(t,n),sy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function lB(n){return 0!=(8&n.flags)}(e)&&Gb(t,e,Te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uB(n){return 0!=(16&n.flags)}(e)&&Gb(t,e,Te(),e.stylesWithoutHost,!1),w}function G(n,e,t,i){return b(n,e,t,i),w(),G}let aA=(n,e,t,i,r,s)=>(xc(!0),xm(i,r,function MC(){return Gt.lFrame.currentNamespace}()));function vs(){return Te()}function rp(n){return!!n&&"function"==typeof n.then}function uA(n){return!!n&&"function"==typeof n.subscribe}function Fe(n,e,t,i){const r=Te(),s=Dn(),o=Mr();return function hA(n,e,t,i,r,s,o){const a=Qg(i),l=n.firstCreatePass&&OE(n),u=e[ki],d=IE(e);let f=!0;if(3&i.type||o){const y=gs(i,e),v=o?o(y):y,_=d.length,M=o?A=>o(si(A[i.index])):i.index;let S=null;if(!o&&a&&(S=function mH(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[$u],c=r[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,f=!1;else{s=pA(i,e,u,s,!1);const A=t.listen(v,r,s);d.push(s,A),l&&l.push(r,M,_,_+1)}}else s=pA(i,e,u,s,!1);const p=i.outputs;let m;if(f&&null!==p&&(m=p[r])){const y=m.length;if(y)for(let v=0;v<y;v+=2){const O=e[m[v]][m[v+1]].subscribe(s),L=d.length;d.push(s,O),l&&l.push(r,i.index,L,-(L+1))}}}(s,r,r[Yt],o,n,e,i),Fe}function fA(n,e,t,i){try{return Qo(6,e,t),!1!==t(i)}catch(r){return PE(n,r),!1}finally{Qo(7,e,t)}}function pA(n,e,t,i,r){return function s(o){if(o===Function)return i;Xf(n.componentOffset>-1?Rs(n.index,e):e);let c=fA(e,t,i,o),l=s.__ngNextListenerFn__;for(;l;)c=fA(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&o.preventDefault(),c}}function kt(n=1){return function eB(n){return(Gt.lFrame.contextLView=function tB(n,e){for(;n>0;)e=e[Xu],n--;return e}(n,Gt.lFrame.contextLView))[ki]}(n)}function _H(n,e){let t=null;const i=function hn(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?rt(n,s,!0):fn(i,s))return r}else t=r}return t}function e_(n,e){return n<<17|e<<2}function Cc(n){return n>>17&32767}function $b(n){return 2|n}function Cl(n){return(131068&n)>>2}function qb(n,e){return-131069&n|e<<2}function Xb(n){return 1|n}function CA(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Cc(s):Cl(s),c=!1;for(;0!==a&&(!1===c||o);){const u=n[a+1];MH(n[a],e)&&(c=!0,n[a+1]=i?Xb(u):$b(u)),a=i?Cc(u):Cl(u)}c&&(n[t+1]=i?$b(s):Xb(s))}function MH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&cd(n,e)>=0}const tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TA(n){return n.substring(tr.key,tr.keyEnd)}function EA(n,e){const t=tr.textEnd;return t===e?-1:(e=tr.keyEnd=function EH(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,tr.key=e,t),Rd(n,e,t))}function Rd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ln(n,e){return function Do(n,e,t,i){const r=Te(),s=Dn(),o=Ia(2);s.firstUpdatePass&&NA(s,n,o,i),e!==Qt&&Br(r,o,e)&&kA(s,s.data[es()],r,r[Yt],n,r[o+1]=function BH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Li(Sc(n)))),n}(e,t),i,o)}(n,e,null,!0),Ln}function Tl(n){!function Io(n,e,t,i){const r=Dn(),s=Ia(2);r.firstUpdatePass&&NA(r,null,s,i);const o=Te();if(t!==Qt&&Br(o,s,t)){const a=r.data[es()];if(BA(a,i)&&!PA(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=$r(c,t||"")),Gb(r,a,o,t,i)}else!function FH(n,e,t,i,r,s,o,a){r===Qt&&(r=on);let c=0,l=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const f=c<r.length?r[c+1]:void 0,p=l<s.length?s[l+1]:void 0;let y,m=null;u===d?(c+=2,l+=2,f!==p&&(m=d,y=p)):null===d||null!==u&&u<d?(c+=2,m=u):(l+=2,m=d,y=p),null!==m&&kA(n,e,t,i,m,y,o,a),u=c<r.length?r[c]:null,d=l<s.length?s[l]:null}}(r,a,o,o[Yt],o[s+1],o[s+1]=function LH(n,e,t){if(null==t||""===t)return on;const i=[],r=Sc(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}(kH,oa,n,!0)}function oa(n,e){for(let t=function CH(n){return function DA(n){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=n.length}(n),EA(n,Rd(n,0,tr.textEnd))}(e);t>=0;t=EA(e,t))Ps(n,TA(e),!0)}function PA(n,e){return e>=n.expandoStartIndex}function NA(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[es()],o=PA(n,t);BA(s,i)&&null===e&&!o&&(e=!1),e=function OH(n,e,t,i){const r=function _y(n){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=sp(t=Yb(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=Yb(r,n,e,t,i),null===s){let c=function RH(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Cl(i))return n[Cc(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Yb(null,n,e,c[1],i),c=sp(c,e.attrs,i),function PH(n,e,t,i){n[Cc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else s=function NH(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=sp(i,n[s].hostAttrs,t);return sp(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function wH(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Cc(o),c=Cl(o);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||cd(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const f=Cc(n[a+1]);n[i+1]=e_(f,a),0!==f&&(n[f+1]=qb(n[f+1],i)),n[a+1]=function yH(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=e_(a,0),0!==a&&(n[a+1]=qb(n[a+1],i)),a=i;else n[i+1]=e_(c,0),0===a?a=i:n[c+1]=qb(n[c+1],i),c=i;l&&(n[i+1]=$b(n[i+1])),CA(n,u,i,!0),CA(n,u,i,!1),function xH(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&cd(s,e)>=0&&(t[i+1]=Xb(t[i+1]))}(e,u,n,i,s),o=e_(a,c),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function Yb(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=sp(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function sp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ps(n,o,!!t||e[++s]))}return void 0===n?null:n}function kH(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Ps(n,i,t)}function kA(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function bH(n){return 1==(1&n)}(l)?FA(c,e,t,r,Cl(l),o):void 0;t_(u)||(t_(s)||function vH(n){return 2==(2&n)}(l)&&(s=FA(c,null,t,r,a,o)),function wU(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Mc.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Mc.Important),n.setStyle(t,i,r,s))}}(i,o,function nm(n,e){return si(e[n])}(es(),t),r,s))}function FA(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=t[r+1];f===Qt&&(f=d?on:void 0);let p=d?Dy(f,i):u===i?f:void 0;if(l&&!t_(p)&&(p=Dy(c,i)),t_(p)&&(a=p,o))return a;const m=n[r+1];r=o?Cc(m):Cl(m)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Dy(c,i))}return a}function t_(n){return void 0!==n}function BA(n,e){return 0!=(n.flags&(e?8:16))}function E(n,e=""){const t=Te(),i=Dn(),r=n+bn,s=i.firstCreatePass?xd(i,r,1,e,null):i.data[r],o=UA(i,t,s,e,n);t[r]=o,im()&&Cm(i,t,o,s),ea(s,!1)}let UA=(n,e,t,i,r)=>(xc(!0),function wm(n,e){return n.createText(e)}(e[Yt],i));const Ld="en-US";let oD=Ld;class Al{}class RD{}class n1 extends Al{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VE(this);const r=Os(e);this._bootstrapComponents=Pa(r.bootstrap),this._r3Injector=QT(e,t,[{provide:Al,useValue:this},{provide:Vm,useValue:this.componentFactoryResolver},...i],Li(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class i1 extends RD{constructor(e){super(),this.moduleType=e}create(e){return new n1(this.moduleType,e,[])}}class PD extends Al{constructor(e){super(),this.componentFactoryResolver=new VE(this),this.instance=null;const t=new Pm([...e.providers,{provide:Al,useValue:this},{provide:Vm,useValue:this.componentFactoryResolver}],e.parent||Rm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function r1(n,e,t=null){return new PD({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let aG=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=FT(0,t.type),r=i.length>0?r1([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=nt({token:n,providedIn:"environment",factory:()=>new n(Qe(_s))})}return n})();function ro(n){n.getStandaloneInjector=e=>e.get(aG).getOrCreateStandaloneInjector(n)}function fi(n,e,t){const i=Qr()+n,r=Te();return r[i]===Qt?ia(r,i,t?e.call(t):e()):function ep(n,e){return n[e]}(r,i)}function so(n,e,t,i,r){return function HD(n,e,t,i,r,s,o){const a=e+t;return function Sl(n,e,t,i){const r=Br(n,e,t);return Br(n,e+1,i)||r}(n,a,r,s)?ia(n,a+2,o?i.call(o,r,s):i(r,s)):function fp(n,e){const t=n[e];return t===Qt?void 0:t}(n,a+2)}(Te(),Qr(),n,e,t,i,r)}function DG(){return this._results[Symbol.iterator]()}class a1{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ct)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=a1.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=DG)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function to(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function SB(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function OG(n,e,t,i=!0){const r=e[at];if(function fU(n,e,t,i){const r=br+i,s=t.length;i>0&&(t[r-1][Eo]=e),i<s-br?(e[Eo]=t[r],BC(t,br+i,e)):(t.push(e),e[Eo]=null),e[hi]=t;const o=e[Mf];null!==o&&t!==o&&function pU(n,e){const t=n[Zu];e[Fi]!==e[hi][hi][Fi]&&(n[BS]=!0),null===t?n[Zu]=[e]:t.push(e)}(o,e);const a=e[Jo];null!==a&&a.insertView(n),e[en]|=128}(r,e,n,t),i){const s=jy(t,n),o=e[Yt],a=Sm(o,n[Ko]);null!==a&&function uU(n,e,t,i,r,s){i[Ci]=r,i[kr]=e,Vf(n,i,t,1,r,s)}(r,n[kr],o,e,a,s)}}let yi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=NG}return n})();const RG=yi,PG=class extends RG{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function IG(n,e,t,i){const r=e.tView,a=zm(n,r,t,4096&n[en]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Mf]=n[e.index];const l=n[Jo];return null!==l&&(a[Jo]=l.createEmbeddedView(r)),Lb(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Jf(r)}};function NG(){return o_(Mr(),Te())}function o_(n,e){return 4&n.type?new PG(e,n,yd(n,e)):null}let oo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=VG}return n})();function VG(){return JD(Mr(),Te())}const HG=oo,YD=class extends HG{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return yd(this._hostTNode,this._hostLView)}get injector(){return new ts(this._hostTNode,this._hostLView)}get parentInjector(){const e=lm(this._hostTNode,this._hostLView);if(My(e)){const t=Rf(e,this._hostLView),i=Of(e);return new ts(t[at].data[i+8],t)}return new ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ZD(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-br}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,s){const o=e&&!function Nf(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const y=t||{};a=y.index,i=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}const c=o?e:new Kf(An(e)),l=i||this.parentInjector;if(!s&&null==c.ngModule){const v=(o?l:this.parentInjector).get(_s,null);v&&(s=v)}An(c.componentType??{});const p=c.create(l,r,null,s);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function B3(n){return Zr(n[hi])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=r[hi],u=new YD(l,l[kr],l[hi]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return OG(a,r,o,!i),e.attachToViewContainerRef(),BC(c1(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ZD(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Mm(this._lContainer,t);i&&(dm(c1(this._lContainer),t),Vy(i[at],i))}detach(e){const t=this._adjustIndex(e,-1),i=Mm(this._lContainer,t);return i&&null!=dm(c1(this._lContainer),t)?new Jf(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function ZD(n){return n[8]}function c1(n){return n[8]||(n[8]=[])}function JD(n,e){let t;const i=e[n.index];return Zr(i)?t=i:(t=AE(i,e,null,n),e[n.index]=t,jm(e,t)),KD(t,e,n,i),new YD(t,n,e)}let KD=function QD(n,e,t,i){if(n[Ko])return;let r;r=8&t.type?si(i):function GG(n,e){const t=n[Yt],i=t.createComment(""),r=gs(e,n);return xl(t,Sm(t,r),i,function vU(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Ko]=r};class l1{constructor(e){this.queryList=e,this.matches=null}clone(){return new l1(this.queryList)}setDirty(){this.queryList.setDirty()}}class u1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new u1(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rI(e,t).matches&&this.queries[t].setDirty()}}class eI{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class d1{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new d1(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class h1{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new h1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,WG(t,s)),this.matchTNodeWithReadOption(e,t,um(t,e,s,!1,!1))}else i===yi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,um(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Un||r===oo||r===yi&&4&t.type)this.addMatch(t.index,-2);else{const s=um(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function WG(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function qG(n,e,t,i){return-1===t?function $G(n,e){return 11&n.type?yd(n,e):4&n.type?o_(n,e):null}(e,n):-2===t?function XG(n,e,t){return t===Un?yd(e,n):t===yi?o_(e,n):t===oo?JD(e,n):void 0}(n,e,i):bl(n,n[at],t,e)}function tI(n,e,t,i){const r=e[Jo].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:qG(e,s[l],o[c+1],t.metadata.read))}r.matches=a}return r.matches}function f1(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=tI(n,e,r,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)i.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=br;d<u.length;d++){const f=u[d];f[Mf]===f[hi]&&f1(f[at],f,l,i)}if(null!==u[Zu]){const d=u[Zu];for(let f=0;f<d.length;f++){const p=d[f];f1(p[at],p,l,i)}}}}}return i}function Wn(n){const e=Te(),t=Dn(),i=_C();vy(i+1);const r=rI(t,i);if(n.dirty&&function k3(n){return 4==(4&n[en])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?f1(t,e,i,[]):tI(t,e,r,i);n.reset(s,vV),n.notifyOnChanges()}return!0}return!1}function Dl(n,e,t){const i=Dn();i.firstCreatePass&&(function iI(n,e,t){null===n.queries&&(n.queries=new d1),n.queries.track(new h1(e,t))}(i,new eI(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function nI(n,e,t){const i=new a1(4==(4&t));(function JV(n,e,t,i){const r=IE(e);r.push(t),n.firstCreatePass&&OE(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Jo]&&(e[Jo]=new u1),e[Jo].queries.push(new l1(i))}(i,Te(),e)}function rI(n,e){return n.queries.getByIndex(e)}const y1=new vt("Application Initializer");let b1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ct(y1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(rp(s))t.push(s);else if(uA(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wI=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ro=new vt("LocaleId",{providedIn:"root",factory:()=>ct(Ro,D.Optional|D.SkipSelf)||function _z(){return typeof $localize<"u"&&$localize.locale||Ld}()});let xI=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zi(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let MI=(()=>{class n{compileModuleSync(t){return new i1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=Pa(Os(t).declarations).reduce((o,a)=>{const c=An(a);return c&&o.push(new Kf(c)),o},[]);return new bz(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const EI=new vt(""),u_=new vt("");let C1,M1=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,C1||(function Vz(n){C1=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(Mn),Qe(S1),Qe(u_))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})(),S1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return C1?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Tc=null;const AI=new vt("AllowMultipleToken"),T1=new vt("PlatformDestroyListeners"),E1=new vt("appBootstrapListener");class II{constructor(e,t){this.name=e,this.token=t}}function RI(n,e,t=[]){const i=`Platform: ${e}`,r=new vt(i);return(s=[])=>{let o=A1();if(!o||o.injector.get(AI,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function zz(n){if(Tc&&!Tc.get(AI,!1))throw new Ie(400,!1);(function DI(){!function M3(n){ZS=n}(()=>{throw new Ie(600,!1)})})(),Tc=n;const e=n.get(NI);(function OI(n){n.get(GT,null)?.forEach(t=>t())})(n)}(function PI(n=[],e){return Sr.create({name:e,providers:[{provide:nb,useValue:"platform"},{provide:T1,useValue:new Set([()=>Tc=null])},...n]})}(a,i))}return function Wz(n){const e=A1();if(!e)throw new Ie(401,!1);return e}()}}function A1(){return Tc?.get(NI)??null}let NI=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function $z(n="zone.js",e){return"noop"===n?new PV:"zone.js"===n?new Mn(e):n}(i?.ngZone,function LI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function oG(n,e,t){return new n1(n,e,t)}(t.moduleType,this.injector,function VI(n){return[{provide:Mn,useFactory:n},{provide:jf,multi:!0,useFactory:()=>{const e=ct(Xz,{optional:!0});return()=>e.initialize()}},{provide:UI,useFactory:qz},{provide:rE,useFactory:sE}]}(()=>r)),o=s.injector.get(Ra,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{d_(this._modules,s),a.unsubscribe()})}),function kI(n,e,t){try{const i=t();return rp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(b1);return a.runInitializers(),a.donePromise.then(()=>(function aD(n){Nr(n,"Expected localeId to be defined"),"string"==typeof n&&(oD=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ro,Ld)||Ld),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=FI({},i);return function Hz(n,e,t){const i=new i1(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Ec);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Ie(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(T1,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(Sr))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function FI(n,e){return Array.isArray(e)?e.reduce(FI,n):{...n,...e}}let Ec=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ct(UI),this.zoneIsStable=ct(rE),this.componentTypes=[],this.components=[],this.isStable=ct(xI).hasPendingTasks.pipe(Wr(t=>t?It(!1):this.zoneIsStable),function mf(n,e=sn){return n=n??Fu,ni((t,i)=>{let r,s=!0;t.subscribe(Xn(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),jg()),this._injector=ct(_s)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof qT;if(!this._injector.get(b1).done)throw!r&&function Wu(n){const e=An(n)||yr(n)||Yr(n);return null!==e&&e.standalone}(t),new Ie(405,!1);let o;o=r?t:this._injector.get(Vm).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Gz(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Al),l=o.create(Sr.NULL,[],i||o.selector,a),u=l.location.nativeElement,d=l.injector.get(EI,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),d_(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;d_(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(E1,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>d_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ie(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const UI=new vt("",{providedIn:"root",factory:()=>ct(Ra).handleError.bind(void 0)});function qz(){const n=ct(Mn),e=ct(Ra);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Xz=(()=>{class n{constructor(){this.zone=ct(Mn),this.applicationRef=ct(Ec)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Po=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Zz}return n})();function Zz(n){return function Jz(n,e,t){if(_l(n)&&!t){const i=Rs(n.index,e);return new Jf(i,i)}return 47&n.type?new Jf(e[Fi],e):null}(Mr(),Te(),16==(16&n))}class qI{constructor(){}supports(e){return e instanceof Map||kb(e)}create(){return new o8}}class o8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||kb(e)))throw new Ie(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new a8(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class a8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YI(){return new _p([new qI])}let _p=(()=>{class n{static#e=this.\u0275prov=nt({token:n,providedIn:"root",factory:YI});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||YI()),deps:[[n,new pm,new fm]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Ie(901,!1)}}return n})();const u8=RI(null,"core",[]);let d8=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(Ec))};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})();function Bd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function N1(n,e){const t=An(n),i=e.elementInjector||Rm();return new Kf(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}let L1=null;function Ac(){return L1}class C8{}const nr=new vt("DocumentToken");let k1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:function(){return ct(E8)},providedIn:"platform"})}return n})();const T8=new vt("Location Initialized");let E8=(()=>{class n extends k1{constructor(){super(),this._doc=ct(nr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ac().getBaseHref(this._doc)}onPopState(t){const i=Ac().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ac().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function F1(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function rO(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ka(n){return n&&"?"!==n[0]?"?"+n:n}let Ol=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:function(){return ct(oO)},providedIn:"root"})}return n})();const sO=new vt("appBaseHref");let oO=(()=>{class n extends Ol{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ct(nr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return F1(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ka(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+ka(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+ka(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(k1),Qe(sO,8))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A8=(()=>{class n extends Ol{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=F1(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+ka(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+ka(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(k1),Qe(sO,8))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})(),B1=(()=>{class n{constructor(t){this._subject=new Ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function O8(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(rO(aO(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ka(i))}normalize(t){return n.stripTrailingSlash(function I8(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,aO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ka(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ka(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=ka;static#t=this.joinWithSlash=F1;static#n=this.stripTrailingSlash=rO;static#i=this.\u0275fac=function(i){return new(i||n)(Qe(Ol))};static#r=this.\u0275prov=nt({token:n,factory:function(){return function D8(){return new B1(Qe(Ol))}()},providedIn:"root"})}return n})();function aO(n){return n.replace(/\/index.html$/,"")}let Ic=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new m6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(J(oo),J(yi))};static#t=this.\u0275dir=Ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class m6{constructor(){this.$implicit=null,this.ngIf=null}}function wO(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Li(e)}'.`)}let K1=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:Mc.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(J(Un),J(_p),J(Ns))};static#t=this.\u0275dir=Ze({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),G6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})();function CO(n){return"server"===n}let $6=(()=>{class n{static#e=this.\u0275prov=nt({token:n,providedIn:"root",factory:()=>new q6(Qe(nr),window)})}return n})();class q6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function X6(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class vj extends C8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iw extends vj{static makeCurrent(){!function S8(n){L1||(L1=n)}(new iw)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yj(){return wp=wp||document.querySelector("base"),wp?wp.getAttribute("href"):null}();return null==t?null:function bj(n){A_=A_||document.createElement("a"),A_.setAttribute("href",n);const e=A_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function h6(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let A_,wp=null,xj=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})();const rw=new vt("EventManagerPlugins");let IO=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new Ie(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(rw),Qe(Mn))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})();class OO{constructor(e){this._doc=e}}const sw="ng-app-id";let RO=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=CO(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${sw}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(sw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(sw,this.appId),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(nr),Qe(Nm),Qe(zT,8),Qe(md))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})();const ow={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},aw=/%COMP%/g,Tj=new vt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function NO(n,e){return e.map(t=>t.replace(aw,n))}let LO=(()=>{class n{constructor(t,i,r,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=CO(a),this.defaultRenderer=new cw(t,o,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ki.ShadowDom&&(i={...i,encapsulation:Ki.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof FO?r.applyToHost(t):r instanceof lw&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Ki.Emulated:s=new FO(c,l,i,this.appId,u,o,a,d);break;case Ki.ShadowDom:return new Ij(c,l,t,i,o,a,this.nonce,d);default:s=new lw(c,l,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(IO),Qe(RO),Qe(Nm),Qe(Tj),Qe(nr),Qe(md),Qe(Mn),Qe(zT))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})();class cw{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ow[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(kO(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(kO(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new Ie(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=ow[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ow[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Mc.DashCase|Mc.Important)?e.style.setProperty(t,i,r&Mc.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Mc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Ac().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function kO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ij extends cw{constructor(e,t,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=NO(r.id,r.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lw extends cw{constructor(e,t,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?NO(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class FO extends lw{constructor(e,t,i,r,s,o,a,c){const l=r+"-"+i.id;super(e,t,i,s,o,a,c,l),this.contentAttr=function Ej(n){return"_ngcontent-%COMP%".replace(aw,n)}(l),this.hostAttr=function Aj(n){return"_nghost-%COMP%".replace(aw,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Oj=(()=>{class n extends OO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(nr))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})();const BO=["alt","control","meta","shift"],Rj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Nj=(()=>{class n extends OO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ac().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),BO.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(t,i){let r=Rj[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),BO.forEach(o=>{o!==r&&(0,Pj[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(nr))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})();const Bj=RI(u8,"browser",[{provide:md,useValue:"browser"},{provide:GT,useValue:function Lj(){iw.makeCurrent()},multi:!0},{provide:nr,useFactory:function Fj(){return function TU(n){qy=n}(document),document},deps:[]}]),Uj=new vt(""),HO=[{provide:u_,useClass:class wj{addToWindow(e){ie.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Ie(5103,!1);return s},ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),ie.getAllAngularRootElements=()=>e.getAllRootElements(),ie.frameworkStabilizers||(ie.frameworkStabilizers=[]),ie.frameworkStabilizers.push(i=>{const r=ie.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(c){o=o||c,s--,0==s&&i(o)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ac().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:EI,useClass:M1,deps:[Mn,S1,u_]},{provide:M1,useClass:M1,deps:[Mn,S1,u_]}],GO=[{provide:nb,useValue:"root"},{provide:Ra,useFactory:function kj(){return new Ra},deps:[]},{provide:rw,useClass:Oj,multi:!0,deps:[nr,Mn,md]},{provide:rw,useClass:Nj,multi:!0,deps:[nr]},LO,RO,IO,{provide:mb,useExisting:LO},{provide:class Y6{},useClass:xj,deps:[]},[]];let Vj=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Nm,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(Uj,12))};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({providers:[...GO,...HO],imports:[G6,d8]})}return n})(),zO=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(nr))};static#t=this.\u0275prov=nt({token:n,factory:function(i){let r=null;return r=i?new i:function Gj(){return new zO(Qe(nr))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:Xj}=Array,{getPrototypeOf:Yj,prototype:Zj,keys:Jj}=Object;const{isArray:Qj}=Array;function dw(n){return _n(e=>function eW(n,e){return Qj(e)?n(...e):n(e)}(n,e))}function hw(...n){const e=uc(n),t=Xo(n),{args:i,keys:r}=function qO(n){if(1===n.length){const e=n[0];if(Xj(e))return{args:e,keys:null};if(function Kj(n){return n&&"object"==typeof n&&Yj(n)===Zj}(e)){const t=Jj(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return Ni([],e);const s=new jn(function tW(n,e,t=sn){return i=>{YO(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let c=0;c<r;c++)YO(e,()=>{const l=Ni(n[c],e);let u=!1;l.subscribe(Xn(i,d=>{s[c]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>function XO(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,o):sn));return t?s.pipe(dw(t)):s}function YO(n,e,t){n?Ys(t,n,e):e()}const D_=Dt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xp(...n){return function nW(){return Sa(1)}()(Ni(n,uc(n)))}function ZO(n){return new jn(e=>{mi(n()).subscribe(e)})}function Mp(n,e){const t=cn(n)?n:()=>n,i=r=>r.error(t());return new jn(e?r=>e.schedule(i,0,r):i)}function fw(){return ni((n,e)=>{let t=null;n._refCount++;const i=Xn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class JO extends jn{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ac(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mi;const t=this.getSubject();e.add(this.source.subscribe(Xn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mi.EMPTY)}return e}refCount(){return fw()(this)}}function Cr(n){return n<=0?()=>Pr:ni((e,t)=>{let i=0;e.subscribe(Xn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function cr(n,e){return ni((t,i)=>{let r=0;t.subscribe(Xn(i,s=>n.call(e,s,r++)&&i.next(s)))})}function I_(n){return ni((e,t)=>{let i=!1;e.subscribe(Xn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function QO(n=iW){return ni((e,t)=>{let i=!1;e.subscribe(Xn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function iW(){return new D_}function Rl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cr((r,s)=>n(r,s,i)):sn,Cr(1),t?I_(e):QO(()=>new D_))}function Sp(n,e){return cn(e)?ri(n,e,1):ri(n,1)}function lr(n,e,t){const i=cn(n)||e||t?{next:n,error:e,complete:t}:n;return i?ni((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Xn(s,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),s.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),s.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):sn}function Pl(n){return ni((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Xn(t,void 0,void 0,o=>{s=mi(n(o,Pl(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function pw(n){return n<=0?()=>Pr:ni((e,t)=>{let i=[];e.subscribe(Xn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function gw(n){return ni((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Vi(n){return ni((e,t)=>{mi(n).subscribe(Xn(t,()=>t.complete(),Es)),!t.closed&&e.subscribe(t)})}const nn="primary",Cp=Symbol("RouteTitle");class aW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hd(n){return new aW(n)}function cW(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function aa(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!tR(n[r],e[r]))return!1;return!0}function tR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function nR(n){return n.length>0?n[n.length-1]:null}function Rc(n){return function qj(n){return!!n&&(n instanceof jn||cn(n.lift)&&cn(n.subscribe))}(n)?n:rp(n)?Ni(Promise.resolve(n)):It(n)}const uW={exact:function sR(n,e,t){if(!Nl(n.segments,e.segments)||!O_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!sR(n.children[i],e.children[i],t))return!1;return!0},subset:oR},iR={exact:function dW(n,e){return aa(n,e)},subset:function hW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tR(n[t],e[t]))},ignored:()=>!0};function rR(n,e,t){return uW[t.paths](n.root,e.root,t.matrixParams)&&iR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oR(n,e,t){return aR(n,e,e.segments,t)}function aR(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Nl(r,t)||e.hasChildren()||!O_(r,t,i))}if(n.segments.length===t.length){if(!Nl(n.segments,t)||!O_(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!oR(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Nl(n.segments,r)&&O_(n.segments,r,i)&&n.children[nn])&&aR(n.children[nn],e,s,i)}}function O_(n,e,t){return e.every((i,r)=>iR[t](n[r].parameters,i.parameters))}class Gd{constructor(e=new qn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hd(this.queryParams)),this._queryParamMap}toString(){return gW.serialize(this)}}class qn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return R_(this)}}class Tp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hd(this.parameters)),this._parameterMap}toString(){return uR(this)}}function Nl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ep=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:function(){return new mw},providedIn:"root"})}return n})();class mw{parse(e){const t=new TW(e);return new Gd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ap(e.root,!0)}`,i=function vW(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${P_(t)}=${P_(r)}`).join("&"):`${P_(t)}=${P_(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function mW(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gW=new mw;function R_(n){return n.segments.map(e=>uR(e)).join("/")}function Ap(n,e){if(!n.hasChildren())return R_(n);if(e){const t=n.children[nn]?Ap(n.children[nn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==nn&&i.push(`${r}:${Ap(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function pW(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===nn&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==nn&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===nn?[Ap(n.children[nn],!1)]:[`${r}:${Ap(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${R_(n)}/${t[0]}`:`${R_(n)}/(${t.join("//")})`}}function cR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function P_(n){return cR(n).replace(/%3B/gi,";")}function _w(n){return cR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function N_(n){return decodeURIComponent(n)}function lR(n){return N_(n.replace(/\+/g,"%20"))}function uR(n){return`${_w(n.path)}${function _W(n){return Object.keys(n).map(e=>`;${_w(e)}=${_w(n[e])}`).join("")}(n.parameters)}`}const yW=/^[^\/()?;#]+/;function vw(n){const e=n.match(yW);return e?e[0]:""}const bW=/^[^\/()?;=#]+/,xW=/^[^=?&#]+/,SW=/^[^&#]+/;class TW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[nn]=new qn(e,t)),i}parseSegment(){const e=vw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ie(4009,!1);return this.capture(e),new Tp(N_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function wW(n){const e=n.match(bW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=vw(this.remaining);r&&(i=r,this.capture(i))}e[N_(t)]=N_(i)}parseQueryParam(e){const t=function MW(n){const e=n.match(xW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function CW(n){const e=n.match(SW);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=lR(t),s=lR(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=vw(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Ie(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[nn]:new qn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ie(4011,!1)}}function dR(n){return n.segments.length>0?new qn([],{[nn]:n}):n}function hR(n){const e={};for(const i of Object.keys(n.children)){const s=hR(n.children[i]);if(i===nn&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function EW(n){if(1===n.numberOfChildren&&n.children[nn]){const e=n.children[nn];return new qn(n.segments.concat(e.segments),e.children)}return n}(new qn(n.segments,e))}function Ll(n){return n instanceof Gd}function fR(n){let e;const r=dR(function t(s){const o={};for(const c of s.children){const l=t(c);o[c.outlet]=l}const a=new qn(s.url,o);return s===n&&(e=a),a}(n.root));return e??r}function pR(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return yw(r,r,r,t,i);const s=function DW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mR(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new mR(t,e,i)}(e);if(s.toRoot())return yw(r,r,new qn([],{}),t,i);const o=function IW(n,e,t){if(n.isAbsolute)return new k_(e,!0,0);if(!t)return new k_(e,!1,NaN);if(null===t.parent)return new k_(t,!0,0);const i=L_(n.commands[0])?0:1;return function OW(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Ie(4005,!1);r=i.segments.length}return new k_(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?Ip(o.segmentGroup,o.index,s.commands):_R(o.segmentGroup,o.index,s.commands);return yw(r,o.segmentGroup,a,t,i)}function L_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dp(n){return"object"==typeof n&&null!=n&&n.outlets}function yw(n,e,t,i,r){let o,s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:gR(n,e,t);const a=dR(hR(o));return new Gd(a,s,r)}function gR(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:gR(s,e,t)}),new qn(n.segments,i)}class mR{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&L_(i[0]))throw new Ie(4003,!1);const r=i.find(Dp);if(r&&r!==nR(i))throw new Ie(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class k_{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function _R(n,e,t){if(n||(n=new qn([],{})),0===n.segments.length&&n.hasChildren())return Ip(n,e,t);const i=function PW(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Dp(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!yR(c,l,o))return s;i+=2}else{if(!yR(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new qn(n.segments.slice(0,i.pathIndex),{});return s.children[nn]=new qn(n.segments.slice(i.pathIndex),n.children),Ip(s,0,r)}return i.match&&0===r.length?new qn(n.segments,{}):i.match&&!n.hasChildren()?bw(n,e,t):i.match?Ip(n,0,r):bw(n,e,t)}function Ip(n,e,t){if(0===t.length)return new qn(n.segments,{});{const i=function RW(n){return Dp(n[0])?n[0].outlets:{[nn]:n}}(t),r={};if(Object.keys(i).some(s=>s!==nn)&&n.children[nn]&&1===n.numberOfChildren&&0===n.children[nn].segments.length){const s=Ip(n.children[nn],e,t);return new qn(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=_R(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new qn(n.segments,r)}}function bw(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Dp(s)){const c=NW(s.outlets);return new qn(i,c)}if(0===r&&L_(t[0])){i.push(new Tp(n.segments[e].path,vR(t[0]))),r++;continue}const o=Dp(s)?s.outlets[nn]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&L_(a)?(i.push(new Tp(o,vR(a))),r+=2):(i.push(new Tp(o,{})),r++)}return new qn(i,{})}function NW(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=bw(new qn([],{}),0,i))}),e}function vR(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function yR(n,e,t){return n==t.path&&aa(e,t.parameters)}const Op="imperative";class ca{constructor(e,t){this.id=e,this.url=t}}class F_ extends ca{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pc extends ca{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rp extends ca{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zd extends ca{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class B_ extends ca{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bR extends ca{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LW extends ca{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kW extends ca{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FW extends ca{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BW extends ca{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wR{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ww{}class xw{constructor(e){this.url=e}}class WW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pp,this.attachRef=null}}let Pp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new WW,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Mw(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Mw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Sw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Sw(e,this._root).map(t=>t.value)}}function Mw(n,e){if(n===e.value)return e;for(const t of e.children){const i=Mw(n,t);if(i)return i}return null}function Sw(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Sw(n,t);if(i.length)return i.unshift(e),i}return[]}class Ua{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class MR extends xR{constructor(e,t){super(e),this.snapshot=t,Cw(this,e)}toString(){return this.snapshot.toString()}}function SR(n,e){const t=function $W(n,e){const o=new U_([],{},{},"",{},nn,e,null,{});return new TR("",new Ua(o,[]))}(0,e),i=new Zi([new Tp("",{})]),r=new Zi({}),s=new Zi({}),o=new Zi({}),a=new Zi(""),c=new Wd(i,r,o,a,s,nn,e,t.root);return c.snapshot=t.root,new MR(new Ua(c,[]),t)}class Wd{constructor(e,t,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_n(l=>l[Cp]))??It(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_n(e=>Hd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_n(e=>Hd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CR(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function qW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class U_{get title(){return this.data?.[Cp]}constructor(e,t,i,r,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TR extends xR{constructor(e,t){super(t),this.url=e,Cw(this,t)}toString(){return ER(this._root)}}function Cw(n,e){e.value._routerState=n,e.children.forEach(t=>Cw(n,t))}function ER(n){const e=n.children.length>0?` { ${n.children.map(ER).join(", ")} } `:"";return`${n.value}${e}`}function Tw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,aa(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),aa(e.params,t.params)||n.paramsSubject.next(t.params),function lW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!aa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),aa(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ew(n,e){const t=aa(n.params,e.params)&&function fW(n,e){return Nl(n,e)&&n.every((t,i)=>aa(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ew(n.parent,e.parent))}let Aw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=nn,this.activateEvents=new Ct,this.deactivateEvents=new Ct,this.attachEvents=new Ct,this.detachEvents=new Ct,this.parentContexts=ct(Pp),this.location=ct(oo),this.changeDetector=ct(Po),this.environmentInjector=ct(_s),this.inputBinder=ct(V_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ie(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Ie(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new XW(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xr]})}return n})();class XW{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Wd?this.route:e===Pp?this.childContexts:this.parent.get(e,t)}}const V_=new vt("");let AR=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=hw([i.queryParams,i.params,i.data]).pipe(Wr(([s,o,a],c)=>(a={...s,...o,...a},0===c?It(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function M8(n){const e=An(n);if(!e)return null;const t=new Kf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})();function Np(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ZW(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Np(n,i,r);return Np(n,i)})}(n,e,t);return new Ua(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Np(n,a)),o}}const i=function JW(n){return new Wd(new Zi(n.url),new Zi(n.params),new Zi(n.queryParams),new Zi(n.fragment),new Zi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Np(n,s));return new Ua(i,r)}}const Dw="ngNavigationCancelingError";function DR(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ll(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=IR(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function IR(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Dw]=!0,i.cancellationCode=e,t&&(i.url=t),i}function OR(n){return n&&n[Dw]}let RR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kn({type:n,selectors:[["ng-component"]],standalone:!0,features:[ro],decls:1,vars:0,template:function(i,r){1&i&&G(0,"router-outlet")},dependencies:[Aw],encapsulation:2})}return n})();function Iw(n){const e=n.children&&n.children.map(Iw),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nn&&(t.component=RR),t}function ko(n){return n.outlet||nn}function Lp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class s9{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Tw(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=jd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=jd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=jd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=jd(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new jW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new GW(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Tw(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Tw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Lp(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class PR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class H_{constructor(e,t){this.component=e,this.route=t}}function o9(n,e,t){const i=n._root;return kp(i,e?e._root:null,t,[i.value])}function $d(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function bf(n){return null!==ll(n)}(n)?e.get(n):n:i}function kp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=jd(e);return n.children.forEach(o=>{(function c9(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function l9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Nl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Nl(n.url,e.url)||!aa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ew(n,e)||!aa(n.queryParams,e.queryParams);default:return!Ew(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new PR(i)):(s.data=o.data,s._resolvedData=o._resolvedData),kp(n,e,s.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new H_(a.outlet.component,o))}else o&&Fp(e,a,r),r.canActivateChecks.push(new PR(i)),kp(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Fp(a,t.getContext(o),r)),r}function Fp(n,e,t){const i=jd(n),r=n.value;Object.entries(i).forEach(([s,o])=>{Fp(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new H_(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Bp(n){return"function"==typeof n}function NR(n){return n instanceof D_||"EmptyError"===n?.name}const G_=Symbol("INITIAL_VALUE");function qd(){return Wr(n=>hw(n.map(e=>e.pipe(Cr(1),function KO(...n){const e=uc(n);return ni((t,i)=>{(e?xp(n,t,e):xp(n,t)).subscribe(i)})}(G_)))).pipe(_n(e=>{for(const t of e)if(!0!==t){if(t===G_)return G_;if(!1===t||t instanceof Gd)return t}return!0}),cr(e=>e!==G_),Cr(1)))}function LR(n){return function va(...n){return Eu(n)}(lr(e=>{if(Ll(e))throw DR(0,e)}),_n(e=>!0===e))}class z_{constructor(e){this.segmentGroup=e||null}}class kR{constructor(e){this.urlTree=e}}function Xd(n){return Mp(new z_(n))}function FR(n){return Mp(new kR(n))}class D9{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new Ie(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return It(i);if(r.numberOfChildren>1||!r.children[nn])return Mp(new Ie(4e3,!1));r=r.children[nn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Gd(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new qn(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Ie(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const Ow={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function I9(n,e,t,i,r){const s=Rw(n,e,t);return s.matched?(i=function QW(n,e){return n.providers&&!n._injector&&(n._injector=r1(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function T9(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?It(r.map(o=>{const a=$d(o,n);return Rc(function g9(n){return n&&Bp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(qd(),LR()):It(!0)}(i,e,t).pipe(_n(o=>!0===o?s:{...Ow}))):It(s)}function Rw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ow}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||cW)(t,n,e);if(!r)return{...Ow};const s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function BR(n,e,t,i){return t.length>0&&function P9(n,e,t){return t.some(i=>j_(n,e,i)&&ko(i)!==nn)}(n,t,i)?{segmentGroup:new qn(e,R9(i,new qn(t,n.children))),slicedSegments:[]}:0===t.length&&function N9(n,e,t){return t.some(i=>j_(n,e,i))}(n,t,i)?{segmentGroup:new qn(n.segments,O9(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new qn(n.segments,n.children),slicedSegments:t}}function O9(n,e,t,i,r){const s={};for(const o of i)if(j_(n,t,o)&&!r[ko(o)]){const a=new qn([],{});s[ko(o)]=a}return{...r,...s}}function R9(n,e){const t={};t[nn]=e;for(const i of n)if(""===i.path&&ko(i)!==nn){const r=new qn([],{});t[ko(i)]=r}return t}function j_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class B9{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new D9(this.urlSerializer,this.urlTree)}noMatchError(e){return new Ie(4002,!1)}recognize(){const e=BR(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nn).pipe(Pl(t=>{if(t instanceof kR)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof z_?this.noMatchError(t):t}),_n(t=>{const i=new U_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,{}),r=new Ua(i,t),s=new TR("",r),o=function AW(n,e,t=null,i=null){return pR(fR(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,nn).pipe(Pl(i=>{throw i instanceof z_?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=CR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Ni(r).pipe(Sp(s=>{const o=i.children[s],a=function i9(n,e){const t=n.filter(i=>ko(i)===e);return t.push(...n.filter(i=>ko(i)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function sW(n,e){return ni(function rW(n,e,t,i,r){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Xn(o,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),I_(null),function oW(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cr((r,s)=>n(r,s,i)):sn,pw(1),t?I_(e):QO(()=>new D_))}(),ri(s=>{if(null===s)return Xd(i);const o=UR(s);return function U9(n){n.sort((e,t)=>e.value.outlet===nn?-1:t.value.outlet===nn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),It(o)}))}processSegment(e,t,i,r,s,o){return Ni(t).pipe(Sp(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(Pl(c=>{if(c instanceof z_)return It(null);throw c}))),Rl(a=>!!a),Pl(a=>{if(NR(a))return function k9(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?It([]):Xd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return function L9(n,e,t,i){return!!(ko(n)===i||i!==nn&&j_(e,t,n))&&("**"===n.path||Rw(e,n,t).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):Xd(r):Xd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?FR(s):this.applyRedirects.lineralizeSegments(i,s).pipe(ri(o=>{const a=new qn(o,{});return this.processSegment(e,t,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=Rw(t,r,s);if(!a)return Xd(t);const d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?FR(d):this.applyRedirects.lineralizeSegments(r,d).pipe(ri(f=>this.processSegment(e,i,t,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a;if("**"===i.path){const c=r.length>0?nR(r).parameters:{};a=It({snapshot:new U_(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VR(i),ko(i),i.component??i._loadedComponent??null,i,HR(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=I9(t,i,r,e).pipe(_n(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new U_(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VR(i),ko(i),i.component??i._loadedComponent??null,i,HR(i)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Wr(c=>null===c?Xd(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Wr(({routes:l})=>{const u=i._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:p}=c,{segmentGroup:m,slicedSegments:y}=BR(t,f,p,l);if(0===y.length&&m.hasChildren())return this.processChildren(u,l,m).pipe(_n(_=>null===_?null:[new Ua(d,_)]));if(0===l.length&&0===y.length)return It([new Ua(d,[])]);const v=ko(i)===s;return this.processSegment(u,l,m,y,v?nn:s,!0).pipe(_n(_=>[new Ua(d,_)]))}))))}getChildConfig(e,t,i){return t.children?It({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?It({routes:t._loadedRoutes,injector:t._loadedInjector}):function C9(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?It(!0):It(r.map(o=>{const a=$d(o,n);return Rc(function d9(n){return n&&Bp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(qd(),LR())}(e,t,i).pipe(ri(r=>r?this.configLoader.loadChildren(e,t).pipe(lr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function A9(n){return Mp(IR(!1,3))}())):It({routes:[],injector:e})}}function V9(n){const e=n.value.routeConfig;return e&&""===e.path}function UR(n){const e=[],t=new Set;for(const i of n){if(!V9(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=UR(i.children);e.push(new Ua(i.value,r))}return e.filter(i=>!t.has(i))}function VR(n){return n.data||{}}function HR(n){return n.resolve||{}}function G9(n,e){return ri(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return It(t);let s=0;return Ni(r).pipe(Sp(o=>function z9(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!GR(r)&&(s[Cp]=r.title),function j9(n,e,t,i){const r=function W9(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return It({});const s={};return Ni(r).pipe(ri(o=>function $9(n,e,t,i){const r=Lp(e)??i,s=$d(n,r);return Rc(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Rl(),lr(a=>{s[o]=a}))),pw(1),function eR(n){return _n(()=>n)}(s),Pl(o=>NR(o)?Pr:Mp(o)))}(s,n,e,i).pipe(_n(o=>(n._resolvedData=o,n.data=CR(n,t).resolve,r&&GR(r)&&(n.data[Cp]=r.title),null)))}(o.route,i,n,e)),lr(()=>s++),pw(1),ri(o=>s===r.length?It(t):Pr))})}function GR(n){return"string"==typeof n.title||null===n.title}function Pw(n){return Wr(e=>{const t=n(e);return t?Ni(t).pipe(_n(()=>e)):It(e)})}const Yd=new vt("ROUTES");let Nw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ct(MI)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return It(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Rc(t.loadComponent()).pipe(_n(zR),lr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),gw(()=>{this.componentLoaders.delete(t)})),r=new JO(i,()=>new Rn).pipe(fw());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return It({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function q9(n,e,t,i){return Rc(n.loadChildren()).pipe(_n(zR),ri(r=>r instanceof RD||Array.isArray(r)?It(r):Ni(e.compileModuleAsync(r))),_n(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(Yd,[],{optional:!0,self:!0}).flat()),{routes:o.map(Iw),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(gw(()=>{this.childrenLoaders.delete(i)})),o=new JO(s,()=>new Rn).pipe(fw());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zR(n){return function X9(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let W_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Rn,this.transitionAbortSubject=new Rn,this.configLoader=ct(Nw),this.environmentInjector=ct(_s),this.urlSerializer=ct(Ep),this.rootContexts=ct(Pp),this.inputBindingEnabled=null!==ct(V_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>It(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new VW(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new UW(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Zi({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Op,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cr(s=>0!==s.id),_n(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Wr(s=>{this.currentTransition=s;let o=!1,a=!1;return It(s).pipe(lr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wr(c=>{const l=c.currentBrowserUrl.toString(),u=!t.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new zd(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Pr}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return It(c).pipe(Wr(f=>{const p=this.transitions?.getValue();return this.events.next(new F_(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Pr:Promise.resolve(f)}),function H9(n,e,t,i,r,s){return ri(o=>function F9(n,e,t,i,r,s,o="emptyOnly"){return new B9(n,e,t,i,r,o,s).recognize()}(n,e,t,i,o.extractedUrl,r,s).pipe(_n(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),lr(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new bR(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:m,restoredState:y,extras:v}=c,_=new F_(f,this.urlSerializer.serialize(p),m,y);this.events.next(_);const M=SR(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:M,urlAfterRedirects:p,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},It(s)}{const f="";return this.events.next(new zd(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Pr}}),lr(c=>{const l=new LW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),_n(c=>(this.currentTransition=s={...c,guards:o9(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function _9(n,e){return ri(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?It({...t,guardsResult:!0}):function v9(n,e,t,i){return Ni(n).pipe(ri(r=>function S9(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?It(s.map(a=>{const c=Lp(e)??r,l=$d(a,c);return Rc(function p9(n){return n&&Bp(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):c.runInContext(()=>l(n,e,t,i))).pipe(Rl())})).pipe(qd()):It(!0)}(r.component,r.route,t,e,i)),Rl(r=>!0!==r,!0))}(o,i,r,n).pipe(ri(a=>a&&function u9(n){return"boolean"==typeof n}(a)?function y9(n,e,t,i){return Ni(e).pipe(Sp(r=>xp(function w9(n,e){return null!==n&&e&&e(new HW(n)),It(!0)}(r.route.parent,i),function b9(n,e){return null!==n&&e&&e(new zW(n)),It(!0)}(r.route,i),function M9(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function a9(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>ZO(()=>It(o.guards.map(c=>{const l=Lp(o.node)??t,u=$d(c,l);return Rc(function f9(n){return n&&Bp(n.canActivateChild)}(u)?u.canActivateChild(i,n):l.runInContext(()=>u(i,n))).pipe(Rl())})).pipe(qd())));return It(s).pipe(qd())}(n,r.path,t),function x9(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return It(!0);const r=i.map(s=>ZO(()=>{const o=Lp(e)??t,a=$d(s,o);return Rc(function h9(n){return n&&Bp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Rl())}));return It(r).pipe(qd())}(n,r.route,t))),Rl(r=>!0!==r,!0))}(i,s,n,e):It(a)),_n(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),lr(c=>{if(s.guardsResult=c.guardsResult,Ll(c.guardsResult))throw DR(0,c.guardsResult);const l=new kW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),cr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),Pw(c=>{if(c.guards.canActivateChecks.length)return It(c).pipe(lr(l=>{const u=new FW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Wr(l=>{let u=!1;return It(l).pipe(G9(t.paramsInheritanceStrategy,this.environmentInjector),lr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),lr(l=>{const u=new BW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Pw(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(lr(f=>{u.component=f}),_n(()=>{})));for(const f of u.children)d.push(...l(f));return d};return hw(l(c.targetSnapshot.root)).pipe(I_(),Cr(1))}),Pw(()=>this.afterPreactivation()),_n(c=>{const l=function YW(n,e,t){const i=Np(n,e._root,t?t._root:void 0);return new MR(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},s}),lr(()=>{this.events.next(new ww)}),((n,e,t,i)=>_n(r=>(new s9(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Cr(1),lr({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Vi(this.transitionAbortSubject.pipe(lr(c=>{throw c}))),gw(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Pl(c=>{if(a=!0,OR(c))this.events.next(new Rp(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function KW(n){return OR(n)&&Ll(n.url)}(c)?this.events.next(new xw(c.url)):s.resolve(!1);else{this.events.next(new B_(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(c))}catch(l){s.reject(l)}}return Pr}))}))}cancelNavigationTransition(t,i,r){const s=new Rp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jR(n){return n!==Op}let WR=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===nn);return i}getResolvedTitleForRoute(t){return t.data[Cp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:function(){return ct(Y9)},providedIn:"root"})}return n})(),Y9=(()=>{class n extends WR{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(zO))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:function(){return ct(K9)},providedIn:"root"})}return n})();class J9{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let K9=(()=>{class n extends J9{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=function Bi(n){return To(()=>{const e=n.prototype.constructor,t=e[Is]||Ey(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Is]||Ey(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(n)))(r||n)}}();static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $_=new vt("",{providedIn:"root",factory:()=>({})});let Q9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:function(){return ct(e$)},providedIn:"root"})}return n})(),e$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Up=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Up||{});function $R(n,e){n.events.pipe(cr(t=>t instanceof Pc||t instanceof Rp||t instanceof B_||t instanceof zd),_n(t=>t instanceof Pc||t instanceof zd?Up.COMPLETE:t instanceof Rp&&(0===t.code||1===t.code)?Up.REDIRECTING:Up.FAILED),cr(t=>t!==Up.REDIRECTING),Cr(1)).subscribe(()=>{e()})}function t$(n){throw n}function n$(n,e,t){return e.parse("/")}const i$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},r$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ct(wI),this.isNgZoneEnabled=!1,this._events=new Rn,this.options=ct($_,{optional:!0})||{},this.pendingTasks=ct(xI),this.errorHandler=this.options.errorHandler||t$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||n$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ct(Q9),this.routeReuseStrategy=ct(Z9),this.titleStrategy=ct(WR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ct(Yd,{optional:!0})?.flat()??[],this.navigationTransitions=ct(W_),this.urlSerializer=ct(Ep),this.location=ct(B1),this.componentInputBindingEnabled=!!ct(V_,{optional:!0}),this.eventsSubscription=new Mi,this.isNgZoneEnabled=ct(Mn)instanceof Mn&&Mn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=SR(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(qR(i)&&this._events.next(i));if(i instanceof F_)jR(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof zd)this.rawUrlTree=r.rawUrl;else if(i instanceof bR){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof ww)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Rp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof xw){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jR(r.source)};this.scheduleNavigation(s,Op,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof B_&&this.restoreHistory(r,!0),i instanceof Pc&&(this.navigated=!0),qR(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Op,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Iw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=fR(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return pR(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ll(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Op,null,i)}navigate(t,i={skipLocationChange:!1}){return function s$(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new Ie(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...i$}:!1===i?{...r$}:i,Ll(t))return rR(this.currentUrlTree,t,r);const s=this.parseUrl(t);return rR(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,f)=>{a=d,c=f});const u=this.pendingTasks.add();return $R(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qR(n){return!(n instanceof ww||n instanceof xw)}let Zd=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Rn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Pc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function PT(n,e,t){return function XU(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?RT:er}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(J(Fs),J(Wd),function wl(n){return function pB(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(Zg(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Mr(),n)}("tabindex"),J(Ns),J(Un),J(Ol))};static#t=this.\u0275dir=Ze({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Fe("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Hn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Bd],skipLocationChange:["skipLocationChange","skipLocationChange",Bd],replaceUrl:["replaceUrl","replaceUrl",Bd],routerLink:"routerLink"},standalone:!0,features:[$E,xr]})}return n})();class XR{}let c$=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(cr(t=>t instanceof Pc),Sp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=r1(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ni(r).pipe(Sa())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):It(null);const s=r.pipe(ri(o=>null===o?It(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?Ni([s,this.loader.loadComponent(i)]).pipe(Sa()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(Fs),Qe(MI),Qe(_s),Qe(XR),Qe(Nw))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lw=new vt("");let YR=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof F_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof zd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function yE(){throw new Error("invalid")}()};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac})}return n})();function Va(n,e){return{\u0275kind:n,\u0275providers:e}}function JR(){const n=ct(Sr);return e=>{const t=n.get(Ec);if(e!==t.components[0])return;const i=n.get(Fs),r=n.get(KR);1===n.get(kw)&&i.initialNavigation(),n.get(QR,null,D.Optional)?.setUpPreloading(),n.get(Lw,null,D.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const KR=new vt("",{factory:()=>new Rn}),kw=new vt("",{providedIn:"root",factory:()=>1}),QR=new vt("");function h$(n){return Va(0,[{provide:QR,useExisting:c$},{provide:XR,useExisting:n}])}const eP=new vt("ROUTER_FORROOT_GUARD"),p$=[B1,{provide:Ep,useClass:mw},Fs,Pp,{provide:Wd,useFactory:function ZR(n){return n.routerState.root},deps:[Fs]},Nw,[]];function g$(){return new II("Router",Fs)}let tP=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[p$,[],{provide:Yd,multi:!0,useValue:t},{provide:eP,useFactory:y$,deps:[[Fs,new fm,new pm]]},{provide:$_,useValue:i||{}},i?.useHash?{provide:Ol,useClass:A8}:{provide:Ol,useClass:oO},{provide:Lw,useFactory:()=>{const n=ct($6),e=ct(Mn),t=ct($_),i=ct(W_),r=ct(Ep);return t.scrollOffset&&n.setOffset(t.scrollOffset),new YR(r,i,n,e,t)}},i?.preloadingStrategy?h$(i.preloadingStrategy).\u0275providers:[],{provide:II,multi:!0,useFactory:g$},i?.initialNavigation?b$(i):[],i?.bindToComponentInputs?Va(8,[AR,{provide:V_,useExisting:AR}]).\u0275providers:[],[{provide:nP,useFactory:JR},{provide:E1,multi:!0,useExisting:nP}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Yd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(eP,8))};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})();function y$(n){return"guarded"}function b$(n){return["disabled"===n.initialNavigation?Va(3,[{provide:y1,multi:!0,useFactory:()=>{const e=ct(Fs);return()=>{e.setUpLocationChangeListener()}}},{provide:kw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Va(2,[{provide:kw,useValue:0},{provide:y1,multi:!0,deps:[Sr],useFactory:e=>{const t=e.get(T8,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Fs),s=e.get(KR);$R(r,()=>{i(!0)}),e.get(W_).afterPreactivation=()=>(i(!0),s.closed?It(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const nP=new vt("");function iP(n,e,t,i,r,s,o){try{var a=n[s](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function Jd(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(c){iP(s,i,r,o,a,"next",c)}function a(c){iP(s,i,r,o,a,"throw",c)}o(void 0)})}}const sP=1,S$=2,Ha=3,q_=0,j$=1,W$=2,Lc=0,$$=1,q$=2,X$=3,Y$=4,Z$=5,kc=301,kl=302,Vp=306,Fl=1e3,Ur=1001,Hi=1003,Ei=1006,za=1008,Fc=1009,Bc=1014,ja=1015,zp=1016,Bl=1020,lo=1023,Ul=1026,nh=1027,jp=2300,ih=2301,rh=2400,sh=2401,Vl=3001,wi="srgb",Tr="srgb-linear",Zw="display-p3",K_="display-p3-linear",Q_="linear",li="srgb",ev="rec709",tv="p3",qP="300 es",Wa=2e3;class Uc{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Vr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const Gl=Math.PI/180,oh=180/Math.PI;function Bs(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Vr[255&n]+Vr[n>>8&255]+Vr[n>>16&255]+Vr[n>>24&255]+"-"+Vr[255&e]+Vr[e>>8&255]+"-"+Vr[e>>16&15|64]+Vr[e>>24&255]+"-"+Vr[63&t|128]+Vr[t>>8&255]+"-"+Vr[t>>16&255]+Vr[t>>24&255]+Vr[255&i]+Vr[i>>8&255]+Vr[i>>16&255]+Vr[i>>24&255]).toLowerCase()}function Ai(n,e,t){return Math.max(e,Math.min(t,n))}function Qw(n,e){return(n%e+e)%e}function Wp(n,e,t){return(1-t)*n+t*e}function ex(n){return 0==(n&n-1)&&0!==n}function YP(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function rv(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function ws(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function an(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const ZP_DEG2RAD=Gl,ZP_radToDeg=function P7(n){return n*oh};class xe{constructor(e=0,t=0){xe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ai(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class pn{constructor(e,t,i,r,s,o,a,c,l){pn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,c,l)}set(e,t,i,r,s,o,a,c,l){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=c,u[6]=i,u[7]=o,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],c=i[6],l=i[1],u=i[4],d=i[7],f=i[2],p=i[5],m=i[8],y=r[0],v=r[3],_=r[6],M=r[1],S=r[4],A=r[7],O=r[2],L=r[5],N=r[8];return s[0]=o*y+a*M+c*O,s[3]=o*v+a*S+c*L,s[6]=o*_+a*A+c*N,s[1]=l*y+u*M+d*O,s[4]=l*v+u*S+d*L,s[7]=l*_+u*A+d*N,s[2]=f*y+p*M+m*O,s[5]=f*v+p*S+m*L,s[8]=f*_+p*A+m*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-i*s*u+i*a*c+r*s*l-r*o*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],d=u*o-a*l,f=a*c-u*s,p=l*s-o*c,m=t*d+i*f+r*p;if(0===m)return this.set(0,0,0,0,0,0,0,0,0);const y=1/m;return e[0]=d*y,e[1]=(r*l-u*i)*y,e[2]=(a*i-r*o)*y,e[3]=f*y,e[4]=(u*t-r*c)*y,e[5]=(r*s-a*t)*y,e[6]=p*y,e[7]=(i*c-l*t)*y,e[8]=(o*t-i*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const c=Math.cos(s),l=Math.sin(s);return this.set(i*c,i*l,-i*(c*o+l*a)+o+e,-r*l,r*c,-r*(-l*o+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(tx.makeScale(e,t)),this}rotate(e){return this.premultiply(tx.makeRotation(-e)),this}translate(e,t){return this.premultiply(tx.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const tx=new pn;function JP(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function $p(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function k7(){const n=$p("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const KP={};function qp(n){n in KP||(KP[n]=!0,console.warn(n))}const QP=(new pn).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),eN=(new pn).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),sv={[Tr]:{transfer:Q_,primaries:ev,toReference:n=>n,fromReference:n=>n},[wi]:{transfer:li,primaries:ev,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[K_]:{transfer:Q_,primaries:tv,toReference:n=>n.applyMatrix3(eN),fromReference:n=>n.applyMatrix3(QP)},[Zw]:{transfer:li,primaries:tv,toReference:n=>n.convertSRGBToLinear().applyMatrix3(eN),fromReference:n=>n.applyMatrix3(QP).convertLinearToSRGB()}},F7=new Set([Tr,K_]),Gn={enabled:!0,_workingColorSpace:Tr,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!F7.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){return!1!==this.enabled&&e!==t&&e&&t?(0,sv[t].fromReference)((0,sv[e].toReference)(n)):n},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return sv[n].primaries},getTransfer:function(n){return""===n?Q_:sv[n].transfer}};function ch(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function nx(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let lh;class tN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===lh&&(lh=$p("canvas")),lh.width=e.width,lh.height=e.height;const i=lh.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=lh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=$p("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*ch(s[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*ch(t[i]/255)):ch(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let B7=0;class uh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:B7++}),this.uuid=Bs(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(ix(r[o].isDataTexture?r[o].image:r[o]))}else s=ix(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function ix(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?tN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let U7=0,Fo=(()=>{class n extends Uc{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=Ur,s=Ur,o=Ei,a=za,c=lo,l=Fc,u=n.DEFAULT_ANISOTROPY,d=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:U7++}),this.uuid=Bs(),this.name="",this.source=new uh(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=c,this.internalFormat=null,this.type=l,this.offset=new xe(0,0),this.repeat=new xe(1,1),this.center=new xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new pn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof d?this.colorSpace=d:(qp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Vl?wi:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Fl:t.x=t.x-Math.floor(t.x);break;case Ur:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Fl:t.y=t.y-Math.floor(t.y);break;case Ur:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return qp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===wi?Vl:3e3}set encoding(t){qp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Vl?wi:""}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class Jn{constructor(e=0,t=0,i=0,r=1){Jn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,l=c[0],u=c[4],d=c[8],f=c[1],p=c[5],m=c[9],y=c[2],v=c[6],_=c[10];if(Math.abs(u-f)<.01&&Math.abs(d-y)<.01&&Math.abs(m-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+y)<.1&&Math.abs(m+v)<.1&&Math.abs(l+p+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(l+1)/2,A=(p+1)/2,O=(_+1)/2,L=(u+f)/4,N=(d+y)/4,V=(m+v)/4;return S>A&&S>O?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=L/i,s=N/i):A>O?A<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(A),i=L/r,s=V/r):O<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(O),i=N/s,r=V/s),this.set(i,r,s,t),this}let M=Math.sqrt((v-m)*(v-m)+(d-y)*(d-y)+(f-u)*(f-u));return Math.abs(M)<.001&&(M=1),this.x=(v-m)/M,this.y=(d-y)/M,this.z=(f-u)/M,this.w=Math.acos((l+p+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class V7 extends Uc{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Jn(0,0,e,t),this.scissorTest=!1,this.viewport=new Jn(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(qp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Vl?wi:""),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ei,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new Fo(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new uh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zl extends V7{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class rx extends Fo{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Hi,this.minFilter=Hi,this.wrapR=Ur,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nN extends Fo{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Hi,this.minFilter=Hi,this.wrapR=Ur,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Er{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let c=i[r+0],l=i[r+1],u=i[r+2],d=i[r+3];const f=s[o+0],p=s[o+1],m=s[o+2],y=s[o+3];if(0===a)return e[t+0]=c,e[t+1]=l,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=f,e[t+1]=p,e[t+2]=m,void(e[t+3]=y);if(d!==y||c!==f||l!==p||u!==m){let v=1-a;const _=c*f+l*p+u*m+d*y,M=_>=0?1:-1,S=1-_*_;if(S>Number.EPSILON){const O=Math.sqrt(S),L=Math.atan2(O,_*M);v=Math.sin(v*L)/O,a=Math.sin(a*L)/O}const A=a*M;if(c=c*v+f*A,l=l*v+p*A,u=u*v+m*A,d=d*v+y*A,v===1-a){const O=1/Math.sqrt(c*c+l*l+u*u+d*d);c*=O,l*=O,u*=O,d*=O}}e[t]=c,e[t+1]=l,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],c=i[r+1],l=i[r+2],u=i[r+3],d=s[o],f=s[o+1],p=s[o+2],m=s[o+3];return e[t]=a*m+u*d+c*p-l*f,e[t+1]=c*m+u*f+l*d-a*p,e[t+2]=l*m+u*p+a*f-c*d,e[t+3]=u*m-a*d-c*f-l*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,c=Math.sin,l=a(i/2),u=a(r/2),d=a(s/2),f=c(i/2),p=c(r/2),m=c(s/2);switch(o){case"XYZ":this._x=f*u*d+l*p*m,this._y=l*p*d-f*u*m,this._z=l*u*m+f*p*d,this._w=l*u*d-f*p*m;break;case"YXZ":this._x=f*u*d+l*p*m,this._y=l*p*d-f*u*m,this._z=l*u*m-f*p*d,this._w=l*u*d+f*p*m;break;case"ZXY":this._x=f*u*d-l*p*m,this._y=l*p*d+f*u*m,this._z=l*u*m+f*p*d,this._w=l*u*d-f*p*m;break;case"ZYX":this._x=f*u*d-l*p*m,this._y=l*p*d+f*u*m,this._z=l*u*m-f*p*d,this._w=l*u*d+f*p*m;break;case"YZX":this._x=f*u*d+l*p*m,this._y=l*p*d+f*u*m,this._z=l*u*m-f*p*d,this._w=l*u*d-f*p*m;break;case"XZY":this._x=f*u*d-l*p*m,this._y=l*p*d-f*u*m,this._z=l*u*m+f*p*d,this._w=l*u*d+f*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],c=t[9],l=t[2],u=t[6],d=t[10],f=i+a+d;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(u-c)*p,this._y=(s-l)*p,this._z=(o-r)*p}else if(i>a&&i>d){const p=2*Math.sqrt(1+i-a-d);this._w=(u-c)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(s+l)/p}else if(a>d){const p=2*Math.sqrt(1+a-i-d);this._w=(s-l)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(c+u)/p}else{const p=2*Math.sqrt(1+d-i-a);this._w=(o-r)/p,this._x=(s+l)/p,this._y=(c+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ai(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,c=t._y,l=t._z,u=t._w;return this._x=i*u+o*a+r*l-s*c,this._y=r*u+o*c+s*a-i*l,this._z=s*u+o*l+i*c-r*a,this._w=o*u-i*a-r*c-s*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const c=1-a*a;if(c<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*i+t*this._x,this._y=p*r+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),u=Math.atan2(l,a),d=Math.sin((1-t)*u)/l,f=Math.sin(t*u)/l;return this._w=o*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class U{constructor(e=0,t=0,i=0){U.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(iN.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(iN.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,c=e.w,l=c*t+o*r-a*i,u=c*i+a*t-s*r,d=c*r+s*i-o*t,f=-s*t-o*i-a*r;return this.x=l*c+f*-s+u*-a-d*-o,this.y=u*c+f*-o+d*-s-l*-a,this.z=d*c+f*-a+l*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,c=t.z;return this.x=r*c-s*a,this.y=s*o-i*c,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return sx.copy(this).projectOnVector(e),this.sub(sx)}reflect(e){return this.sub(sx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ai(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const sx=new U,iN=new Er;class Bo{constructor(e=new U(1/0,1/0,1/0),t=new U(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(qa.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(qa.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=qa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),dh.copy(e.boundingBox),dh.applyMatrix4(e.matrixWorld),this.union(dh);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)qa.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(qa)}else null===r.boundingBox&&r.computeBoundingBox(),dh.copy(r.boundingBox),dh.applyMatrix4(e.matrixWorld),this.union(dh)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qa),qa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xp),ov.subVectors(this.max,Xp),hh.subVectors(e.a,Xp),fh.subVectors(e.b,Xp),ph.subVectors(e.c,Xp),Vc.subVectors(fh,hh),Hc.subVectors(ph,fh),jl.subVectors(hh,ph);let t=[0,-Vc.z,Vc.y,0,-Hc.z,Hc.y,0,-jl.z,jl.y,Vc.z,0,-Vc.x,Hc.z,0,-Hc.x,jl.z,0,-jl.x,-Vc.y,Vc.x,0,-Hc.y,Hc.x,0,-jl.y,jl.x,0];return!(!ox(t,hh,fh,ph,ov)||(t=[1,0,0,0,1,0,0,0,1],!ox(t,hh,fh,ph,ov)))&&(av.crossVectors(Vc,Hc),t=[av.x,av.y,av.z],ox(t,hh,fh,ph,ov))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(qa).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||($a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($a)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $a=[new U,new U,new U,new U,new U,new U,new U,new U],qa=new U,dh=new Bo,hh=new U,fh=new U,ph=new U,Vc=new U,Hc=new U,jl=new U,Xp=new U,ov=new U,av=new U,Wl=new U;function ox(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Wl.fromArray(n,s);const a=r.x*Math.abs(Wl.x)+r.y*Math.abs(Wl.y)+r.z*Math.abs(Wl.z),c=e.dot(Wl),l=t.dot(Wl),u=i.dot(Wl);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>a)return!1}return!0}const H7=new Bo,Yp=new U,ax=new U;class Uo{constructor(e=new U,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):H7.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Yp.subVectors(e,this.center);const t=Yp.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(Yp,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(ax.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Yp.copy(e.center).add(ax)),this.expandByPoint(Yp.copy(e.center).sub(ax))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Xa=new U,cx=new U,cv=new U,Gc=new U,lx=new U,lv=new U,ux=new U;class gh{constructor(e=new U,t=new U(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Xa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Xa.copy(this.origin).addScaledVector(this.direction,t),Xa.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){cx.copy(e).add(t).multiplyScalar(.5),cv.copy(t).sub(e).normalize(),Gc.copy(this.origin).sub(cx);const s=.5*e.distanceTo(t),o=-this.direction.dot(cv),a=Gc.dot(this.direction),c=-Gc.dot(cv),l=Gc.lengthSq(),u=Math.abs(1-o*o);let d,f,p,m;if(u>0)if(d=o*c-a,f=o*a-c,m=s*u,d>=0)if(f>=-m)if(f<=m){const y=1/u;d*=y,f*=y,p=d*(d+o*f+2*a)+f*(o*d+f+2*c)+l}else f=s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*c)+l;else f=-s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*c)+l;else f<=-m?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-c),s),p=-d*d+f*(f+2*c)+l):f<=m?(d=0,f=Math.min(Math.max(-s,-c),s),p=f*(f+2*c)+l):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-c),s),p=-d*d+f*(f+2*c)+l);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(cx).addScaledVector(cv,f),p}intersectSphere(e,t){Xa.subVectors(e.center,this.origin);const i=Xa.dot(this.direction),r=Xa.dot(Xa)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,c=i+o;return c<0?null:this.at(a<0?c:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,c;const l=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return l>=0?(i=(e.min.x-f.x)*l,r=(e.max.x-f.x)*l):(i=(e.max.x-f.x)*l,r=(e.min.x-f.x)*l),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-f.z)*d,c=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,c=(e.min.z-f.z)*d),i>c||a>r)||((a>i||i!=i)&&(i=a),(c<r||r!=r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,Xa)}intersectTriangle(e,t,i,r,s){lx.subVectors(t,e),lv.subVectors(i,e),ux.crossVectors(lx,lv);let a,o=this.direction.dot(ux);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Gc.subVectors(this.origin,e);const c=a*this.direction.dot(lv.crossVectors(Gc,lv));if(c<0)return null;const l=a*this.direction.dot(lx.cross(Gc));if(l<0||c+l>o)return null;const u=-a*Gc.dot(ux);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class qt{constructor(e,t,i,r,s,o,a,c,l,u,d,f,p,m,y,v){qt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,c,l,u,d,f,p,m,y,v)}set(e,t,i,r,s,o,a,c,l,u,d,f,p,m,y,v){const _=this.elements;return _[0]=e,_[4]=t,_[8]=i,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=c,_[2]=l,_[6]=u,_[10]=d,_[14]=f,_[3]=p,_[7]=m,_[11]=y,_[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new qt).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/mh.setFromMatrixColumn(e,0).length(),s=1/mh.setFromMatrixColumn(e,1).length(),o=1/mh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),c=Math.cos(r),l=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===e.order){const f=o*u,p=o*d,m=a*u,y=a*d;t[0]=c*u,t[4]=-c*d,t[8]=l,t[1]=p+m*l,t[5]=f-y*l,t[9]=-a*c,t[2]=y-f*l,t[6]=m+p*l,t[10]=o*c}else if("YXZ"===e.order){const f=c*u,p=c*d,m=l*u,y=l*d;t[0]=f+y*a,t[4]=m*a-p,t[8]=o*l,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=p*a-m,t[6]=y+f*a,t[10]=o*c}else if("ZXY"===e.order){const f=c*u,p=c*d,m=l*u,y=l*d;t[0]=f-y*a,t[4]=-o*d,t[8]=m+p*a,t[1]=p+m*a,t[5]=o*u,t[9]=y-f*a,t[2]=-o*l,t[6]=a,t[10]=o*c}else if("ZYX"===e.order){const f=o*u,p=o*d,m=a*u,y=a*d;t[0]=c*u,t[4]=m*l-p,t[8]=f*l+y,t[1]=c*d,t[5]=y*l+f,t[9]=p*l-m,t[2]=-l,t[6]=a*c,t[10]=o*c}else if("YZX"===e.order){const f=o*c,p=o*l,m=a*c,y=a*l;t[0]=c*u,t[4]=y-f*d,t[8]=m*d+p,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=p*d+m,t[10]=f-y*d}else if("XZY"===e.order){const f=o*c,p=o*l,m=a*c,y=a*l;t[0]=c*u,t[4]=-d,t[8]=l*u,t[1]=f*d+y,t[5]=o*u,t[9]=p*d-m,t[2]=m*d-p,t[6]=a*u,t[10]=y*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(G7,e,z7)}lookAt(e,t,i){const r=this.elements;return Us.subVectors(e,t),0===Us.lengthSq()&&(Us.z=1),Us.normalize(),zc.crossVectors(i,Us),0===zc.lengthSq()&&(1===Math.abs(i.z)?Us.x+=1e-4:Us.z+=1e-4,Us.normalize(),zc.crossVectors(i,Us)),zc.normalize(),uv.crossVectors(Us,zc),r[0]=zc.x,r[4]=uv.x,r[8]=Us.x,r[1]=zc.y,r[5]=uv.y,r[9]=Us.y,r[2]=zc.z,r[6]=uv.z,r[10]=Us.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],c=i[8],l=i[12],u=i[1],d=i[5],f=i[9],p=i[13],m=i[2],y=i[6],v=i[10],_=i[14],M=i[3],S=i[7],A=i[11],O=i[15],L=r[0],N=r[4],V=r[8],R=r[12],B=r[1],Q=r[5],he=r[9],fe=r[13],X=r[2],se=r[6],de=r[10],pe=r[14],Le=r[3],me=r[7],Se=r[11],ee=r[15];return s[0]=o*L+a*B+c*X+l*Le,s[4]=o*N+a*Q+c*se+l*me,s[8]=o*V+a*he+c*de+l*Se,s[12]=o*R+a*fe+c*pe+l*ee,s[1]=u*L+d*B+f*X+p*Le,s[5]=u*N+d*Q+f*se+p*me,s[9]=u*V+d*he+f*de+p*Se,s[13]=u*R+d*fe+f*pe+p*ee,s[2]=m*L+y*B+v*X+_*Le,s[6]=m*N+y*Q+v*se+_*me,s[10]=m*V+y*he+v*de+_*Se,s[14]=m*R+y*fe+v*pe+_*ee,s[3]=M*L+S*B+A*X+O*Le,s[7]=M*N+S*Q+A*se+O*me,s[11]=M*V+S*he+A*de+O*Se,s[15]=M*R+S*fe+A*pe+O*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],c=e[9],l=e[13],u=e[2],d=e[6],f=e[10],p=e[14];return e[3]*(+s*c*d-r*l*d-s*a*f+i*l*f+r*a*p-i*c*p)+e[7]*(+t*c*p-t*l*f+s*o*f-r*o*p+r*l*u-s*c*u)+e[11]*(+t*l*d-t*a*p-s*o*d+i*o*p+s*a*u-i*l*u)+e[15]*(-r*a*u-t*c*d+t*a*f+r*o*d-i*o*f+i*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],d=e[9],f=e[10],p=e[11],m=e[12],y=e[13],v=e[14],_=e[15],M=d*v*l-y*f*l+y*c*p-a*v*p-d*c*_+a*f*_,S=m*f*l-u*v*l-m*c*p+o*v*p+u*c*_-o*f*_,A=u*y*l-m*d*l+m*a*p-o*y*p-u*a*_+o*d*_,O=m*d*c-u*y*c-m*a*f+o*y*f+u*a*v-o*d*v,L=t*M+i*S+r*A+s*O;if(0===L)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/L;return e[0]=M*N,e[1]=(y*f*s-d*v*s-y*r*p+i*v*p+d*r*_-i*f*_)*N,e[2]=(a*v*s-y*c*s+y*r*l-i*v*l-a*r*_+i*c*_)*N,e[3]=(d*c*s-a*f*s-d*r*l+i*f*l+a*r*p-i*c*p)*N,e[4]=S*N,e[5]=(u*v*s-m*f*s+m*r*p-t*v*p-u*r*_+t*f*_)*N,e[6]=(m*c*s-o*v*s-m*r*l+t*v*l+o*r*_-t*c*_)*N,e[7]=(o*f*s-u*c*s+u*r*l-t*f*l-o*r*p+t*c*p)*N,e[8]=A*N,e[9]=(m*d*s-u*y*s-m*i*p+t*y*p+u*i*_-t*d*_)*N,e[10]=(o*y*s-m*a*s+m*i*l-t*y*l-o*i*_+t*a*_)*N,e[11]=(u*a*s-o*d*s-u*i*l+t*d*l+o*i*p-t*a*p)*N,e[12]=O*N,e[13]=(u*y*r-m*d*r+m*i*f-t*y*f-u*i*v+t*d*v)*N,e[14]=(m*a*r-o*y*r-m*i*c+t*y*c+o*i*v-t*a*v)*N,e[15]=(o*d*r-u*a*r+u*i*c-t*d*c-o*i*f+t*a*f)*N,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,c=e.z,l=s*o,u=s*a;return this.set(l*o+i,l*a-r*c,l*c+r*a,0,l*a+r*c,u*a+i,u*c-r*o,0,l*c-r*a,u*c+r*o,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,c=t._w,l=s+s,u=o+o,d=a+a,f=s*l,p=s*u,m=s*d,y=o*u,v=o*d,_=a*d,M=c*l,S=c*u,A=c*d,O=i.x,L=i.y,N=i.z;return r[0]=(1-(y+_))*O,r[1]=(p+A)*O,r[2]=(m-S)*O,r[3]=0,r[4]=(p-A)*L,r[5]=(1-(f+_))*L,r[6]=(v+M)*L,r[7]=0,r[8]=(m+S)*N,r[9]=(v-M)*N,r[10]=(1-(f+y))*N,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=mh.set(r[0],r[1],r[2]).length();const o=mh.set(r[4],r[5],r[6]).length(),a=mh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Vo.copy(this);const l=1/s,u=1/o,d=1/a;return Vo.elements[0]*=l,Vo.elements[1]*=l,Vo.elements[2]*=l,Vo.elements[4]*=u,Vo.elements[5]*=u,Vo.elements[6]*=u,Vo.elements[8]*=d,Vo.elements[9]*=d,Vo.elements[10]*=d,t.setFromRotationMatrix(Vo),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Wa){const c=this.elements,l=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),f=(i+r)/(i-r);let p,m;if(a===Wa)p=-(o+s)/(o-s),m=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);p=-o/(o-s),m=-o*s/(o-s)}return c[0]=l,c[4]=0,c[8]=d,c[12]=0,c[1]=0,c[5]=u,c[9]=f,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Wa){const c=this.elements,l=1/(t-e),u=1/(i-r),d=1/(o-s),f=(t+e)*l,p=(i+r)*u;let m,y;if(a===Wa)m=(o+s)*d,y=-2*d;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);m=s*d,y=-1*d}return c[0]=2*l,c[4]=0,c[8]=0,c[12]=-f,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-p,c[2]=0,c[6]=0,c[10]=y,c[14]=-m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const mh=new U,Vo=new qt,G7=new U(0,0,0),z7=new U(1,1,1),zc=new U,uv=new U,Us=new U,rN=new qt,sN=new Er;let j7=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],c=s[8],l=s[1],u=s[5],d=s[9],f=s[2],p=s[6],m=s[10];switch(i){case"XYZ":this._y=Math.asin(Ai(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ai(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(c,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ai(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Ai(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Ai(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(c,m));break;case"XZY":this._z=Math.asin(-Ai(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return rN.makeRotationFromQuaternion(t),this.setFromRotationMatrix(rN,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return sN.setFromEuler(this),this.setFromQuaternion(sN,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class dx{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let W7=0;const oN=new U,_h=new Er,Ya=new qt,dv=new U,Zp=new U,$7=new U,q7=new Er,aN=new U(1,0,0),cN=new U(0,1,0),lN=new U(0,0,1),X7={type:"added"},Y7={type:"removed"};let ur=(()=>{class n extends Uc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:W7++}),this.uuid=Bs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new U,i=new j7,r=new Er,s=new U(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new qt},normalMatrix:{value:new pn}}),this.matrix=new qt,this.matrixWorld=new qt,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new dx,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return _h.setFromAxisAngle(t,i),this.quaternion.multiply(_h),this}rotateOnWorldAxis(t,i){return _h.setFromAxisAngle(t,i),this.quaternion.premultiply(_h),this}rotateX(t){return this.rotateOnAxis(aN,t)}rotateY(t){return this.rotateOnAxis(cN,t)}rotateZ(t){return this.rotateOnAxis(lN,t)}translateOnAxis(t,i){return oN.copy(t).applyQuaternion(this.quaternion),this.position.add(oN.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(aN,t)}translateY(t){return this.translateOnAxis(cN,t)}translateZ(t){return this.translateOnAxis(lN,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Ya.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?dv.copy(t):dv.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),Zp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ya.lookAt(Zp,dv,this.up):Ya.lookAt(dv,Zp,this.up),this.quaternion.setFromRotationMatrix(Ya),s&&(Ya.extractRotation(s.matrixWorld),_h.setFromRotationMatrix(Ya),this.quaternion.premultiply(_h.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(X7)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(Y7)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Ya.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ya.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ya),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,o=this.children.length;s<o;s++){const a=this.children[s].getObjectsByProperty(t,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zp,t,$7),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zp,q7,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const o=i[r];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++){const c=s[o];!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(c,l){return void 0===c[l.uuid]&&(c[l.uuid]=l.toJSON(t)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const l=c.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++)o(t.shapes,l[u]);else o(t.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let l=0,u=this.material.length;l<u;l++)c.push(o(t.materials,this.material[l]));s.material=c}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++)s.animations.push(o(t.animations,this.animations[c]))}if(i){const c=a(t.geometries),l=a(t.materials),u=a(t.textures),d=a(t.images),f=a(t.shapes),p=a(t.skeletons),m=a(t.animations),y=a(t.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=s,r;function a(c){const l=[];for(const u in c){const d=c[u];delete d.metadata,l.push(d)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new U(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Ho=new U,Za=new U,hx=new U,Ja=new U,vh=new U,yh=new U,uN=new U,fx=new U,px=new U,gx=new U;let hv=!1;class Vs{constructor(e=new U,t=new U,i=new U){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ho.subVectors(e,t),r.cross(Ho);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Ho.subVectors(r,t),Za.subVectors(i,t),hx.subVectors(e,t);const o=Ho.dot(Ho),a=Ho.dot(Za),c=Ho.dot(hx),l=Za.dot(Za),u=Za.dot(hx),d=o*l-a*a;if(0===d)return s.set(-2,-1,-1);const f=1/d,p=(l*c-a*u)*f,m=(o*u-a*c)*f;return s.set(1-p-m,m,p)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ja),Ja.x>=0&&Ja.y>=0&&Ja.x+Ja.y<=1}static getUV(e,t,i,r,s,o,a,c){return!1===hv&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),hv=!0),this.getInterpolation(e,t,i,r,s,o,a,c)}static getInterpolation(e,t,i,r,s,o,a,c){return this.getBarycoord(e,t,i,r,Ja),c.setScalar(0),c.addScaledVector(s,Ja.x),c.addScaledVector(o,Ja.y),c.addScaledVector(a,Ja.z),c}static isFrontFacing(e,t,i,r){return Ho.subVectors(i,t),Za.subVectors(e,t),Ho.cross(Za).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ho.subVectors(this.c,this.b),Za.subVectors(this.a,this.b),.5*Ho.cross(Za).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Vs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===hv&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),hv=!0),Vs.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Vs.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Vs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;vh.subVectors(r,i),yh.subVectors(s,i),fx.subVectors(e,i);const c=vh.dot(fx),l=yh.dot(fx);if(c<=0&&l<=0)return t.copy(i);px.subVectors(e,r);const u=vh.dot(px),d=yh.dot(px);if(u>=0&&d<=u)return t.copy(r);const f=c*d-u*l;if(f<=0&&c>=0&&u<=0)return o=c/(c-u),t.copy(i).addScaledVector(vh,o);gx.subVectors(e,s);const p=vh.dot(gx),m=yh.dot(gx);if(m>=0&&p<=m)return t.copy(s);const y=p*l-c*m;if(y<=0&&l>=0&&m<=0)return a=l/(l-m),t.copy(i).addScaledVector(yh,a);const v=u*m-p*d;if(v<=0&&d-u>=0&&p-m>=0)return uN.subVectors(s,r),a=(d-u)/(d-u+(p-m)),t.copy(r).addScaledVector(uN,a);const _=1/(v+y+f);return o=y*_,a=f*_,t.copy(i).addScaledVector(vh,o).addScaledVector(yh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Z7=0;class Go extends Uc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Z7++}),this.uuid=Bs(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const c=s[a];delete c.metadata,o.push(c)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const dN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jc={h:0,s:0,l:0},fv={h:0,s:0,l:0};function mx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class st{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=wi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Gn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Gn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Gn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Gn.workingColorSpace){if(e=Qw(e,1),t=Ai(t,0,1),i=Ai(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=mx(o,s,e+1/3),this.g=mx(o,s,e),this.b=mx(o,s,e-1/3)}return Gn.toWorkingColorSpace(this,r),this}setStyle(e,t=wi){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=wi){const i=dN[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ch(e.r),this.g=ch(e.g),this.b=ch(e.b),this}copyLinearToSRGB(e){return this.r=nx(e.r),this.g=nx(e.g),this.b=nx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wi){return Gn.fromWorkingColorSpace(Hr.copy(this),e),65536*Math.round(Ai(255*Hr.r,0,255))+256*Math.round(Ai(255*Hr.g,0,255))+Math.round(Ai(255*Hr.b,0,255))}getHexString(e=wi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Gn.workingColorSpace){Gn.fromWorkingColorSpace(Hr.copy(this),t);const i=Hr.r,r=Hr.g,s=Hr.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let c,l;const u=(a+o)/2;if(a===o)c=0,l=0;else{const d=o-a;switch(l=u<=.5?d/(o+a):d/(2-o-a),o){case i:c=(r-s)/d+(r<s?6:0);break;case r:c=(s-i)/d+2;break;case s:c=(i-r)/d+4}c/=6}return e.h=c,e.s=l,e.l=u,e}getRGB(e,t=Gn.workingColorSpace){return Gn.fromWorkingColorSpace(Hr.copy(this),t),e.r=Hr.r,e.g=Hr.g,e.b=Hr.b,e}getStyle(e=wi){Gn.fromWorkingColorSpace(Hr.copy(this),e);const t=Hr.r,i=Hr.g,r=Hr.b;return e!==wi?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(jc),this.setHSL(jc.h+e,jc.s+t,jc.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(jc),e.getHSL(fv);const i=Wp(jc.h,fv.h,t),r=Wp(jc.s,fv.s,t),s=Wp(jc.l,fv.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Hr=new st;st.NAMES=dN;class dr extends Go{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new st(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=q_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wi=new U,pv=new xe;class Di{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=ja,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)pv.fromBufferAttribute(this,t),pv.applyMatrix3(e),this.setXY(t,pv.x,pv.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)Wi.fromBufferAttribute(this,t),Wi.applyMatrix3(e),this.setXYZ(t,Wi.x,Wi.y,Wi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Wi.fromBufferAttribute(this,t),Wi.applyMatrix4(e),this.setXYZ(t,Wi.x,Wi.y,Wi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Wi.fromBufferAttribute(this,t),Wi.applyNormalMatrix(e),this.setXYZ(t,Wi.x,Wi.y,Wi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Wi.fromBufferAttribute(this,t),Wi.transformDirection(e),this.setXYZ(t,Wi.x,Wi.y,Wi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=ws(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=an(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ws(t,this.array)),t}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ws(t,this.array)),t}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ws(t,this.array)),t}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ws(t,this.array)),t}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array),r=an(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),i=an(i,this.array),r=an(r,this.array),s=an(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class hN extends Di{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class fN extends Di{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class bt extends Di{constructor(e,t,i){super(new Float32Array(e),t,i)}}let K7=0;const ho=new qt,_x=new ur,bh=new U,Hs=new Bo,Kp=new Bo,hr=new U;class mn extends Uc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:K7++}),this.uuid=Bs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(JP(e)?fN:hN)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new pn).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ho.makeRotationFromQuaternion(e),this.applyMatrix4(ho),this}rotateX(e){return ho.makeRotationX(e),this.applyMatrix4(ho),this}rotateY(e){return ho.makeRotationY(e),this.applyMatrix4(ho),this}rotateZ(e){return ho.makeRotationZ(e),this.applyMatrix4(ho),this}translate(e,t,i){return ho.makeTranslation(e,t,i),this.applyMatrix4(ho),this}scale(e,t,i){return ho.makeScale(e,t,i),this.applyMatrix4(ho),this}lookAt(e){return _x.lookAt(e),_x.updateMatrix(),this.applyMatrix4(_x.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bh).negate(),this.translate(bh.x,bh.y,bh.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new bt(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Bo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new U(-1/0,-1/0,-1/0),new U(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)Hs.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(hr.addVectors(this.boundingBox.min,Hs.min),this.boundingBox.expandByPoint(hr),hr.addVectors(this.boundingBox.max,Hs.max),this.boundingBox.expandByPoint(hr)):(this.boundingBox.expandByPoint(Hs.min),this.boundingBox.expandByPoint(Hs.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Uo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new U,1/0);if(e){const i=this.boundingSphere.center;if(Hs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)Kp.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(hr.addVectors(Hs.min,Kp.min),Hs.expandByPoint(hr),hr.addVectors(Hs.max,Kp.max),Hs.expandByPoint(hr)):(Hs.expandByPoint(Kp.min),Hs.expandByPoint(Kp.max));Hs.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)hr.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(hr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],c=this.morphTargetsRelative;for(let l=0,u=a.count;l<u;l++)hr.fromBufferAttribute(a,l),c&&(bh.fromBufferAttribute(e,l),hr.add(bh)),r=Math.max(r,i.distanceToSquared(hr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Di(new Float32Array(4*a),4));const c=this.getAttribute("tangent").array,l=[],u=[];for(let B=0;B<a;B++)l[B]=new U,u[B]=new U;const d=new U,f=new U,p=new U,m=new xe,y=new xe,v=new xe,_=new U,M=new U;function S(B,Q,he){d.fromArray(r,3*B),f.fromArray(r,3*Q),p.fromArray(r,3*he),m.fromArray(o,2*B),y.fromArray(o,2*Q),v.fromArray(o,2*he),f.sub(d),p.sub(d),y.sub(m),v.sub(m);const fe=1/(y.x*v.y-v.x*y.y);isFinite(fe)&&(_.copy(f).multiplyScalar(v.y).addScaledVector(p,-y.y).multiplyScalar(fe),M.copy(p).multiplyScalar(y.x).addScaledVector(f,-v.x).multiplyScalar(fe),l[B].add(_),l[Q].add(_),l[he].add(_),u[B].add(M),u[Q].add(M),u[he].add(M))}let A=this.groups;0===A.length&&(A=[{start:0,count:i.length}]);for(let B=0,Q=A.length;B<Q;++B){const he=A[B],fe=he.start;for(let se=fe,de=fe+he.count;se<de;se+=3)S(i[se+0],i[se+1],i[se+2])}const O=new U,L=new U,N=new U,V=new U;function R(B){N.fromArray(s,3*B),V.copy(N);const Q=l[B];O.copy(Q),O.sub(N.multiplyScalar(N.dot(Q))).normalize(),L.crossVectors(V,Q);const fe=L.dot(u[B])<0?-1:1;c[4*B]=O.x,c[4*B+1]=O.y,c[4*B+2]=O.z,c[4*B+3]=fe}for(let B=0,Q=A.length;B<Q;++B){const he=A[B],fe=he.start;for(let se=fe,de=fe+he.count;se<de;se+=3)R(i[se+0]),R(i[se+1]),R(i[se+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Di(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let f=0,p=i.count;f<p;f++)i.setXYZ(f,0,0,0);const r=new U,s=new U,o=new U,a=new U,c=new U,l=new U,u=new U,d=new U;if(e)for(let f=0,p=e.count;f<p;f+=3){const m=e.getX(f+0),y=e.getX(f+1),v=e.getX(f+2);r.fromBufferAttribute(t,m),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,v),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,m),c.fromBufferAttribute(i,y),l.fromBufferAttribute(i,v),a.add(u),c.add(u),l.add(u),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(y,c.x,c.y,c.z),i.setXYZ(v,l.x,l.y,l.z)}else for(let f=0,p=t.count;f<p;f+=3)r.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)hr.fromBufferAttribute(e,t),hr.normalize(),e.setXYZ(t,hr.x,hr.y,hr.z)}toNonIndexed(){function e(a,c){const l=a.array,u=a.itemSize,d=a.normalized,f=new l.constructor(c.length*u);let p=0,m=0;for(let y=0,v=c.length;y<v;y++){p=a.isInterleavedBufferAttribute?c[y]*a.data.stride+a.offset:c[y]*u;for(let _=0;_<u;_++)f[m++]=l[p++]}return new Di(f,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mn,i=this.index.array,r=this.attributes;for(const a in r){const l=e(r[a],i);t.setAttribute(a,l)}const s=this.morphAttributes;for(const a in s){const c=[],l=s[a];for(let u=0,d=l.length;u<d;u++){const p=e(l[u],i);c.push(p)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,c=o.length;a<c;a++){const l=o[a];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const l in c)void 0!==c[l]&&(e[l]=c[l]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i)e.data.attributes[c]=i[c].toJSON(e.data);const r={};let s=!1;for(const c in this.morphAttributes){const l=this.morphAttributes[c],u=[];for(let d=0,f=l.length;d<f;d++)u.push(l[d].toJSON(e.data));u.length>0&&(r[c]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const l in r)this.setAttribute(l,r[l].clone(t));const s=e.morphAttributes;for(const l in s){const u=[],d=s[l];for(let f=0,p=d.length;f<p;f++)u.push(d[f].clone(t));this.morphAttributes[l]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,u=o.length;l<u;l++){const d=o[l];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const c=e.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const pN=new qt,$l=new gh,gv=new Uo,gN=new U,wh=new U,xh=new U,Mh=new U,vx=new U,mv=new U,_v=new xe,vv=new xe,yv=new xe,mN=new U,_N=new U,vN=new U,bv=new U,wv=new U;class Ar extends ur{constructor(e=new mn,t=new dr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){mv.set(0,0,0);for(let c=0,l=s.length;c<l;c++){const u=a[c];0!==u&&(vx.fromBufferAttribute(s[c],e),mv.addScaledVector(o?vx:vx.sub(t),u))}t.add(mv)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),gv.copy(i.boundingSphere),gv.applyMatrix4(s),$l.copy(e.ray).recast(e.near),(!1!==gv.containsPoint($l.origin)||!(null===$l.intersectSphere(gv,gN)||$l.origin.distanceToSquared(gN)>(e.far-e.near)**2))&&(pN.copy(s).invert(),$l.copy(e.ray).applyMatrix4(pN),(null===i.boundingBox||!1!==$l.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,$l)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,c=s.attributes.position,l=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,p=s.drawRange;if(null!==a)if(Array.isArray(o))for(let m=0,y=f.length;m<y;m++){const v=f[m],_=o[v.materialIndex];for(let A=Math.max(v.start,p.start),O=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));A<O;A+=3)r=xv(this,_,e,i,l,u,d,a.getX(A),a.getX(A+1),a.getX(A+2)),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(let v=Math.max(0,p.start),_=Math.min(a.count,p.start+p.count);v<_;v+=3)r=xv(this,o,e,i,l,u,d,a.getX(v),a.getX(v+1),a.getX(v+2)),r&&(r.faceIndex=Math.floor(v/3),t.push(r));else if(void 0!==c)if(Array.isArray(o))for(let m=0,y=f.length;m<y;m++){const v=f[m],_=o[v.materialIndex];for(let A=Math.max(v.start,p.start),O=Math.min(c.count,Math.min(v.start+v.count,p.start+p.count));A<O;A+=3)r=xv(this,_,e,i,l,u,d,A,A+1,A+2),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(let v=Math.max(0,p.start),_=Math.min(c.count,p.start+p.count);v<_;v+=3)r=xv(this,o,e,i,l,u,d,v,v+1,v+2),r&&(r.faceIndex=Math.floor(v/3),t.push(r))}}function xv(n,e,t,i,r,s,o,a,c,l){n.getVertexPosition(a,wh),n.getVertexPosition(c,xh),n.getVertexPosition(l,Mh);const u=function Q7(n,e,t,i,r,s,o,a){let c;if(c=1===e.side?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,0===e.side,a),null===c)return null;wv.copy(a),wv.applyMatrix4(n.matrixWorld);const l=t.ray.origin.distanceTo(wv);return l<t.near||l>t.far?null:{distance:l,point:wv.clone(),object:n}}(n,e,t,i,wh,xh,Mh,bv);if(u){r&&(_v.fromBufferAttribute(r,a),vv.fromBufferAttribute(r,c),yv.fromBufferAttribute(r,l),u.uv=Vs.getInterpolation(bv,wh,xh,Mh,_v,vv,yv,new xe)),s&&(_v.fromBufferAttribute(s,a),vv.fromBufferAttribute(s,c),yv.fromBufferAttribute(s,l),u.uv1=Vs.getInterpolation(bv,wh,xh,Mh,_v,vv,yv,new xe),u.uv2=u.uv1),o&&(mN.fromBufferAttribute(o,a),_N.fromBufferAttribute(o,c),vN.fromBufferAttribute(o,l),u.normal=Vs.getInterpolation(bv,wh,xh,Mh,mN,_N,vN,new U),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:c,c:l,normal:new U,materialIndex:0};Vs.getNormal(wh,xh,Mh,d.normal),u.face=d}return u}class ql extends mn{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const c=[],l=[],u=[],d=[];let f=0,p=0;function m(y,v,_,M,S,A,O,L,N,V,R){const B=A/N,Q=O/V,he=A/2,fe=O/2,X=L/2,se=N+1,de=V+1;let pe=0,Le=0;const me=new U;for(let Se=0;Se<de;Se++){const ee=Se*Q-fe;for(let _e=0;_e<se;_e++)me[y]=(_e*B-he)*M,me[v]=ee*S,me[_]=X,l.push(me.x,me.y,me.z),me[y]=0,me[v]=0,me[_]=L>0?1:-1,u.push(me.x,me.y,me.z),d.push(_e/N),d.push(1-Se/V),pe+=1}for(let Se=0;Se<V;Se++)for(let ee=0;ee<N;ee++){const Ue=f+ee+se*(Se+1),ze=f+(ee+1)+se*(Se+1),Ge=f+(ee+1)+se*Se;c.push(f+ee+se*Se,Ue,Ge),c.push(Ue,ze,Ge),Le+=6}a.addGroup(p,Le,R),p+=Le,f+=pe}m("z","y","x",-1,-1,i,t,e,o,s,0),m("z","y","x",1,-1,i,t,-e,o,s,1),m("x","z","y",1,1,e,i,t,r,o,2),m("x","z","y",1,-1,e,i,-t,r,o,3),m("x","y","z",1,-1,e,t,i,r,s,4),m("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(u,3)),this.setAttribute("uv",new bt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ql(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Sh(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function ss(n){const e={};for(let t=0;t<n.length;t++){const i=Sh(n[t]);for(const r in i)e[r]=i[r]}return e}function yN(n){return null===n.getRenderTarget()?n.outputColorSpace:Gn.workingColorSpace}const tq={clone:Sh,merge:ss};class Wc extends Go{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sh(e.uniforms),this.uniformsGroups=function eq(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class yx extends ur{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new qt,this.projectionMatrix=new qt,this.projectionMatrixInverse=new qt,this.coordinateSystem=Wa}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class fr extends yx{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*oh*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Gl*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*oh*Math.atan(Math.tan(.5*Gl*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Gl*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const c=o.fullWidth,l=o.fullHeight;s+=o.offsetX*r/c,t-=o.offsetY*i/l,r*=o.width/c,i*=o.height/l}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class rq extends ur{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new fr(-90,1,e,t);r.layers=this.layers,this.add(r);const s=new fr(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new fr(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new fr(-90,1,e,t);a.layers=this.layers,this.add(a);const c=new fr(-90,1,e,t);c.layers=this.layers,this.add(c);const l=new fr(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,c]=t;for(const l of t)this.remove(l);if(e===Wa)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,c,l,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const y=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,c),e.setRenderTarget(i,4,r),e.render(t,l),i.texture.generateMipmaps=y,e.setRenderTarget(i,5,r),e.render(t,u),e.setRenderTarget(d,f,p),e.xr.enabled=m,i.texture.needsPMREMUpdate=!0}}class Mv extends Fo{constructor(e,t,i,r,s,o,a,c,l,u){super(e=void 0!==e?e:[],t=void 0!==t?t:kc,i,r,s,o,a,c,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class sq extends zl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(qp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Vl?wi:""),this.texture=new Mv(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ei}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new ql(5,5,5),s=new Wc({name:"CubemapFromEquirect",uniforms:Sh(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new Ar(r,s),a=t.minFilter;return t.minFilter===za&&(t.minFilter=Ei),new rq(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const bx=new U,oq=new U,aq=new pn;class $c{constructor(e=new U(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=bx.subVectors(i,t).cross(oq.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(bx),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||aq.getNormalMatrix(e),r=this.coplanarPoint(bx).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Xl=new Uo,Sv=new U;class wx{constructor(e=new $c,t=new $c,i=new $c,r=new $c,s=new $c,o=new $c){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Wa){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],c=r[3],l=r[4],u=r[5],d=r[6],f=r[7],p=r[8],m=r[9],y=r[10],v=r[11],_=r[12],M=r[13],S=r[14],A=r[15];if(i[0].setComponents(c-s,f-l,v-p,A-_).normalize(),i[1].setComponents(c+s,f+l,v+p,A+_).normalize(),i[2].setComponents(c+o,f+u,v+m,A+M).normalize(),i[3].setComponents(c-o,f-u,v-m,A-M).normalize(),i[4].setComponents(c-a,f-d,v-y,A-S).normalize(),t===Wa)i[5].setComponents(c+a,f+d,v+y,A+S).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(a,d,y,S).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Xl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Xl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Xl)}intersectsSprite(e){return Xl.center.set(0,0,0),Xl.radius=.7071067811865476,Xl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Sv.x=r.normal.x>0?e.max.x:e.min.x,Sv.y=r.normal.y>0?e.max.y:e.min.y,Sv.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Sv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function bN(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function cq(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function o(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)},remove:function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=i.get(l);u&&(n.deleteBuffer(u.buffer),i.delete(l))},update:function c(l,u){if(l.isGLBufferAttribute){const f=i.get(l);return void((!f||f.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const d=i.get(l);void 0===d?i.set(l,function r(l,u){const d=l.array,f=l.usage,p=n.createBuffer();let m;if(n.bindBuffer(u,p),n.bufferData(u,d,f),l.onUploadCallback(),d instanceof Float32Array)m=n.FLOAT;else if(d instanceof Uint16Array)if(l.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");m=n.HALF_FLOAT}else m=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)m=n.SHORT;else if(d instanceof Uint32Array)m=n.UNSIGNED_INT;else if(d instanceof Int32Array)m=n.INT;else if(d instanceof Int8Array)m=n.BYTE;else if(d instanceof Uint8Array)m=n.UNSIGNED_BYTE;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);m=n.UNSIGNED_BYTE}return{buffer:p,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version}}(l,u)):d.version<l.version&&(function s(l,u,d){const f=u.array,p=u.updateRange;n.bindBuffer(d,l),-1===p.count?n.bufferSubData(d,0,f):(t?n.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):n.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}(d.buffer,l,u),d.version=l.version)}}}class Cv extends mn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),c=Math.floor(r),l=a+1,u=c+1,d=e/a,f=t/c,p=[],m=[],y=[],v=[];for(let _=0;_<u;_++){const M=_*f-o;for(let S=0;S<l;S++)m.push(S*d-s,-M,0),y.push(0,0,1),v.push(S/a),v.push(1-_/c)}for(let _=0;_<c;_++)for(let M=0;M<a;M++){const A=M+l*(_+1),O=M+1+l*(_+1),L=M+1+l*_;p.push(M+l*_,A,L),p.push(A,O,L)}this.setIndex(p),this.setAttribute("position",new bt(m,3)),this.setAttribute("normal",new bt(y,3)),this.setAttribute("uv",new bt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cv(e.width,e.height,e.widthSegments,e.heightSegments)}}const un={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal;\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},tt={common:{diffuse:{value:new st(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new pn},alphaMap:{value:null},alphaMapTransform:{value:new pn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new pn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new pn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new pn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new pn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new pn},normalScale:{value:new xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new pn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new pn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new pn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new pn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new st(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new st(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new pn},alphaTest:{value:0},uvTransform:{value:new pn}},sprite:{diffuse:{value:new st(16777215)},opacity:{value:1},center:{value:new xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new pn},alphaMap:{value:null},alphaMapTransform:{value:new pn},alphaTest:{value:0}}},ua={basic:{uniforms:ss([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.fog]),vertexShader:un.meshbasic_vert,fragmentShader:un.meshbasic_frag},lambert:{uniforms:ss([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new st(0)}}]),vertexShader:un.meshlambert_vert,fragmentShader:un.meshlambert_frag},phong:{uniforms:ss([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new st(0)},specular:{value:new st(1118481)},shininess:{value:30}}]),vertexShader:un.meshphong_vert,fragmentShader:un.meshphong_frag},standard:{uniforms:ss([tt.common,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.roughnessmap,tt.metalnessmap,tt.fog,tt.lights,{emissive:{value:new st(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:un.meshphysical_vert,fragmentShader:un.meshphysical_frag},toon:{uniforms:ss([tt.common,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.gradientmap,tt.fog,tt.lights,{emissive:{value:new st(0)}}]),vertexShader:un.meshtoon_vert,fragmentShader:un.meshtoon_frag},matcap:{uniforms:ss([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,{matcap:{value:null}}]),vertexShader:un.meshmatcap_vert,fragmentShader:un.meshmatcap_frag},points:{uniforms:ss([tt.points,tt.fog]),vertexShader:un.points_vert,fragmentShader:un.points_frag},dashed:{uniforms:ss([tt.common,tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:un.linedashed_vert,fragmentShader:un.linedashed_frag},depth:{uniforms:ss([tt.common,tt.displacementmap]),vertexShader:un.depth_vert,fragmentShader:un.depth_frag},normal:{uniforms:ss([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,{opacity:{value:1}}]),vertexShader:un.meshnormal_vert,fragmentShader:un.meshnormal_frag},sprite:{uniforms:ss([tt.sprite,tt.fog]),vertexShader:un.sprite_vert,fragmentShader:un.sprite_frag},background:{uniforms:{uvTransform:{value:new pn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:un.background_vert,fragmentShader:un.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:un.backgroundCube_vert,fragmentShader:un.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:un.cube_vert,fragmentShader:un.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:un.equirect_vert,fragmentShader:un.equirect_frag},distanceRGBA:{uniforms:ss([tt.common,tt.displacementmap,{referencePosition:{value:new U},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:un.distanceRGBA_vert,fragmentShader:un.distanceRGBA_frag},shadow:{uniforms:ss([tt.lights,tt.fog,{color:{value:new st(0)},opacity:{value:1}}]),vertexShader:un.shadow_vert,fragmentShader:un.shadow_frag}};ua.physical={uniforms:ss([ua.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new pn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new pn},clearcoatNormalScale:{value:new xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new pn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new pn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new pn},sheen:{value:0},sheenColor:{value:new st(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new pn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new pn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new pn},transmissionSamplerSize:{value:new xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new pn},attenuationDistance:{value:0},attenuationColor:{value:new st(0)},specularColor:{value:new st(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new pn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new pn},anisotropyVector:{value:new xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new pn}}]),vertexShader:un.meshphysical_vert,fragmentShader:un.meshphysical_frag};const Tv={r:0,b:0,g:0};function oY(n,e,t,i,r,s,o){const a=new st(0);let l,u,c=!0===s?0:1,d=null,f=0,p=null;function y(v,_){v.getRGB(Tv,yN(n)),i.buffers.color.setClear(Tv.r,Tv.g,Tv.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(v,_=1){a.set(v),c=_,y(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(v){c=v,y(a,c)},render:function m(v,_){let M=!1,S=!0===_.isScene?_.background:null;S&&S.isTexture&&(S=(_.backgroundBlurriness>0?t:e).get(S)),null===S?y(a,c):S&&S.isColor&&(y(S,1),M=!0);const A=n.xr.getEnvironmentBlendMode();"additive"===A?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===A&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||M)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Vp)?(void 0===u&&(u=new Ar(new ql(1,1,1),new Wc({name:"BackgroundCubeMaterial",uniforms:Sh(ua.backgroundCube.uniforms),vertexShader:ua.backgroundCube.vertexShader,fragmentShader:ua.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(O,L,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&!1===S.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=Gn.getTransfer(S.colorSpace)!==li,(d!==S||f!==S.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,d=S,f=S.version,p=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(void 0===l&&(l=new Ar(new Cv(2,2),new Wc({name:"BackgroundMaterial",uniforms:Sh(ua.background.uniforms),vertexShader:ua.background.vertexShader,fragmentShader:ua.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=S,l.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,l.material.toneMapped=Gn.getTransfer(S.colorSpace)!==li,!0===S.matrixAutoUpdate&&S.updateMatrix(),l.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||f!==S.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,d=S,f=S.version,p=n.toneMapping),l.layers.enableAll(),v.unshift(l,l.geometry,l.material,0,0,null))}}}function aY(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},c=v(null);let l=c,u=!1;function p(X){return i.isWebGL2?n.bindVertexArray(X):s.bindVertexArrayOES(X)}function m(X){return i.isWebGL2?n.deleteVertexArray(X):s.deleteVertexArrayOES(X)}function v(X){const se=[],de=[],pe=[];for(let Le=0;Le<r;Le++)se[Le]=0,de[Le]=0,pe[Le]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:se,enabledAttributes:de,attributeDivisors:pe,object:X,attributes:{},index:null}}function S(){const X=l.newAttributes;for(let se=0,de=X.length;se<de;se++)X[se]=0}function A(X){O(X,0)}function O(X,se){const pe=l.enabledAttributes,Le=l.attributeDivisors;l.newAttributes[X]=1,0===pe[X]&&(n.enableVertexAttribArray(X),pe[X]=1),Le[X]!==se&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](X,se),Le[X]=se)}function L(){const X=l.newAttributes,se=l.enabledAttributes;for(let de=0,pe=se.length;de<pe;de++)se[de]!==X[de]&&(n.disableVertexAttribArray(de),se[de]=0)}function N(X,se,de,pe,Le,me,Se){!0===Se?n.vertexAttribIPointer(X,se,de,Le,me):n.vertexAttribPointer(X,se,de,pe,Le,me)}function he(){fe(),u=!0,l!==c&&(l=c,p(l.object))}function fe(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function d(X,se,de,pe,Le){let me=!1;if(o){const Se=function y(X,se,de){const pe=!0===de.wireframe;let Le=a[X.id];void 0===Le&&(Le={},a[X.id]=Le);let me=Le[se.id];void 0===me&&(me={},Le[se.id]=me);let Se=me[pe];return void 0===Se&&(Se=v(function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),me[pe]=Se),Se}(pe,de,se);l!==Se&&(l=Se,p(l.object)),me=function _(X,se,de,pe){const Le=l.attributes,me=se.attributes;let Se=0;const ee=de.getAttributes();for(const _e in ee)if(ee[_e].location>=0){const ze=Le[_e];let Ge=me[_e];if(void 0===Ge&&("instanceMatrix"===_e&&X.instanceMatrix&&(Ge=X.instanceMatrix),"instanceColor"===_e&&X.instanceColor&&(Ge=X.instanceColor)),void 0===ze||ze.attribute!==Ge||Ge&&ze.data!==Ge.data)return!0;Se++}return l.attributesNum!==Se||l.index!==pe}(X,pe,de,Le),me&&function M(X,se,de,pe){const Le={},me=se.attributes;let Se=0;const ee=de.getAttributes();for(const _e in ee)if(ee[_e].location>=0){let ze=me[_e];void 0===ze&&("instanceMatrix"===_e&&X.instanceMatrix&&(ze=X.instanceMatrix),"instanceColor"===_e&&X.instanceColor&&(ze=X.instanceColor));const Ge={};Ge.attribute=ze,ze&&ze.data&&(Ge.data=ze.data),Le[_e]=Ge,Se++}l.attributes=Le,l.attributesNum=Se,l.index=pe}(X,pe,de,Le)}else{const Se=!0===se.wireframe;(l.geometry!==pe.id||l.program!==de.id||l.wireframe!==Se)&&(l.geometry=pe.id,l.program=de.id,l.wireframe=Se,me=!0)}null!==Le&&t.update(Le,n.ELEMENT_ARRAY_BUFFER),(me||u)&&(u=!1,function V(X,se,de,pe){if(!1===i.isWebGL2&&(X.isInstancedMesh||pe.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;S();const Le=pe.attributes,me=de.getAttributes(),Se=se.defaultAttributeValues;for(const ee in me){const _e=me[ee];if(_e.location>=0){let Ue=Le[ee];if(void 0===Ue&&("instanceMatrix"===ee&&X.instanceMatrix&&(Ue=X.instanceMatrix),"instanceColor"===ee&&X.instanceColor&&(Ue=X.instanceColor)),void 0!==Ue){const ze=Ue.normalized,Ge=Ue.itemSize,ut=t.get(Ue);if(void 0===ut)continue;const ft=ut.buffer,lt=ut.type,tn=ut.bytesPerElement,gn=!0===i.isWebGL2&&(lt===n.INT||lt===n.UNSIGNED_INT||1013===Ue.gpuType);if(Ue.isInterleavedBufferAttribute){const yt=Ue.data,k=yt.stride,ke=Ue.offset;if(yt.isInstancedInterleavedBuffer){for(let Me=0;Me<_e.locationSize;Me++)O(_e.location+Me,yt.meshPerAttribute);!0!==X.isInstancedMesh&&void 0===pe._maxInstanceCount&&(pe._maxInstanceCount=yt.meshPerAttribute*yt.count)}else for(let Me=0;Me<_e.locationSize;Me++)A(_e.location+Me);n.bindBuffer(n.ARRAY_BUFFER,ft);for(let Me=0;Me<_e.locationSize;Me++)N(_e.location+Me,Ge/_e.locationSize,lt,ze,k*tn,(ke+Ge/_e.locationSize*Me)*tn,gn)}else{if(Ue.isInstancedBufferAttribute){for(let yt=0;yt<_e.locationSize;yt++)O(_e.location+yt,Ue.meshPerAttribute);!0!==X.isInstancedMesh&&void 0===pe._maxInstanceCount&&(pe._maxInstanceCount=Ue.meshPerAttribute*Ue.count)}else for(let yt=0;yt<_e.locationSize;yt++)A(_e.location+yt);n.bindBuffer(n.ARRAY_BUFFER,ft);for(let yt=0;yt<_e.locationSize;yt++)N(_e.location+yt,Ge/_e.locationSize,lt,ze,Ge*tn,Ge/_e.locationSize*yt*tn,gn)}}else if(void 0!==Se){const ze=Se[ee];if(void 0!==ze)switch(ze.length){case 2:n.vertexAttrib2fv(_e.location,ze);break;case 3:n.vertexAttrib3fv(_e.location,ze);break;case 4:n.vertexAttrib4fv(_e.location,ze);break;default:n.vertexAttrib1fv(_e.location,ze)}}}}L()}(X,se,de,pe),null!==Le&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(Le).buffer))},reset:he,resetDefaultState:fe,dispose:function R(){he();for(const X in a){const se=a[X];for(const de in se){const pe=se[de];for(const Le in pe)m(pe[Le].object),delete pe[Le];delete se[de]}delete a[X]}},releaseStatesOfGeometry:function B(X){if(void 0===a[X.id])return;const se=a[X.id];for(const de in se){const pe=se[de];for(const Le in pe)m(pe[Le].object),delete pe[Le];delete se[de]}delete a[X.id]},releaseStatesOfProgram:function Q(X){for(const se in a){const de=a[se];if(void 0===de[X.id])continue;const pe=de[X.id];for(const Le in pe)m(pe[Le].object),delete pe[Le];delete de[X.id]}},initAttributes:S,enableAttribute:A,disableUnusedAttributes:L}}function cY(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function o(l){s=l},this.render=function a(l,u){n.drawArrays(s,l,u),t.update(u,s,1)},this.renderInstances=function c(l,u,d){if(0===d)return;let f,p;if(r)f=n,p="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",null===f)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[p](s,l,u,d),t.update(u,s,d)}}function lY(n,e,t){let i;function s(N){if("highp"===N){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return"mediump"===N&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const c=s(a);c!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",c,"instead."),a=c);const l=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),m=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),v=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),_=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=f>0,A=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const N=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:m,maxAttributes:y,maxVertexUniforms:v,maxVaryings:_,maxFragmentUniforms:M,vertexTextures:S,floatFragmentTextures:A,floatVertexTextures:S&&A,maxSamples:o?n.getParameter(n.MAX_SAMPLES):0}}function uY(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new $c,a=new pn,c={value:null,needsUpdate:!1};function u(d,f,p,m){const y=null!==d?d.length:0;let v=null;if(0!==y){if(v=c.value,!0!==m||null===v){const _=p+4*y,M=f.matrixWorldInverse;a.getNormalMatrix(M),(null===v||v.length<_)&&(v=new Float32Array(_));for(let S=0,A=p;S!==y;++S,A+=4)o.copy(d[S]).applyMatrix4(M,a),o.normal.toArray(v,A),v[A+3]=o.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const p=0!==d.length||f||0!==i||r;return r=f,i=d.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,p){const m=d.clippingPlanes,y=d.clipIntersection,v=d.clipShadows,_=n.get(d);if(!r||null===m||0===m.length||s&&!v)s?u(null):function l(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const M=s?0:i,S=4*M;let A=_.clippingState||null;c.value=A,A=u(m,f,S,p);for(let O=0;O!==S;++O)A[O]=t[O];_.clippingState=A,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=M}}}function dY(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=kc:304===a&&(o.mapping=kl),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const c=e.get(a);void 0!==c&&(e.delete(a),c.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const c=o.image;if(c&&c.height>0){const l=new sq(c.height/2);return l.fromEquirectangularTexture(n,o),e.set(o,l),o.addEventListener("dispose",r),t(l.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}class Ev extends yx{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,c=r-t;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,o=s+l*this.view.width,a-=u*this.view.offsetY,c=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const wN=[.125,.215,.35,.446,.526,.582],xx=new Ev,xN=new st;let Mx=null;const Zl=(1+Math.sqrt(5))/2,Ah=1/Zl,MN=[new U(1,1,1),new U(-1,1,1),new U(1,1,-1),new U(-1,1,-1),new U(0,Zl,Ah),new U(0,Zl,-Ah),new U(Ah,0,Zl),new U(-Ah,0,Zl),new U(Zl,Ah,0),new U(-Zl,Ah,0)];class SN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Mx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=EN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=TN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Mx),e.scissorTest=!1,Av(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===kc||e.mapping===kl?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),Mx=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Ei,minFilter:Ei,generateMipmaps:!1,type:zp,format:lo,colorSpace:Tr,depthBuffer:!1},r=CN(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=CN(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function hY(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+wN.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let c=1/a;o>n-4?c=wN[o-n+4-1]:0===o&&(c=0),i.push(c);const l=1/(a-2),u=-l,d=1+l,f=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,m=6,y=3,v=2,_=1,M=new Float32Array(y*m*p),S=new Float32Array(v*m*p),A=new Float32Array(_*m*p);for(let L=0;L<p;L++){const N=L%3*2/3-1,V=L>2?0:-1;M.set([N,V,0,N+2/3,V,0,N+2/3,V+1,0,N,V,0,N+2/3,V+1,0,N,V+1,0],y*m*L),S.set(f,v*m*L),A.set([L,L,L,L,L,L],_*m*L)}const O=new mn;O.setAttribute("position",new Di(M,y)),O.setAttribute("uv",new Di(S,v)),O.setAttribute("faceIndex",new Di(A,_)),e.push(O),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function fY(n,e,t){const i=new Float32Array(20),r=new U(0,1,0);return new Wc({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new Ar(this._lodPlanes[0],e);this._renderer.compile(t,xx)}_sceneToCubeUV(e,t,i,r){const a=new fr(90,1,t,i),c=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(xN),u.toneMapping=Lc,u.autoClear=!1;const p=new dr({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),m=new Ar(new ql,p);let y=!1;const v=e.background;v?v.isColor&&(p.color.copy(v),e.background=null,y=!0):(p.color.copy(xN),y=!0);for(let _=0;_<6;_++){const M=_%3;0===M?(a.up.set(0,c[_],0),a.lookAt(l[_],0,0)):1===M?(a.up.set(0,0,c[_]),a.lookAt(0,l[_],0)):(a.up.set(0,c[_],0),a.lookAt(0,0,l[_]));const S=this._cubeSize;Av(r,M*S,_>2?S:0,S,S),u.setRenderTarget(r),y&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===kc||e.mapping===kl;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=EN()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=TN());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Ar(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const c=this._cubeSize;Av(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(o,xx)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,MN[(r-1)%MN.length])}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const c=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new Ar(this._lodPlanes[r],l),f=l.uniforms,p=this._sizeLods[i]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/39,y=s/m,v=isFinite(s)?1+Math.floor(3*y):20;v>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to 20`);const _=[];let M=0;for(let N=0;N<20;++N){const V=N/y,R=Math.exp(-V*V/2);_.push(R),0===N?M+=R:N<v&&(M+=2*R)}for(let N=0;N<_.length;N++)_[N]=_[N]/M;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=_,f.latitudinal.value="latitudinal"===o,a&&(f.poleAxis.value=a);const{_lodMax:S}=this;f.dTheta.value=m,f.mipInt.value=S-i;const A=this._sizeLods[r];Av(t,3*A*(r>S-4?r-S+4:0),4*(this._cubeSize-A),3*A,2*A),c.setRenderTarget(t),c.render(d,xx)}}function CN(n,e,t){const i=new zl(n,e,t);return i.texture.mapping=Vp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Av(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function TN(){return new Wc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function EN(){return new Wc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function pY(n){let e=new WeakMap,t=null;function s(a){const c=a.target;c.removeEventListener("dispose",s);const l=e.get(c);void 0!==l&&(e.delete(c),l.dispose())}return{get:function i(a){if(a&&a.isTexture){const c=a.mapping,l=303===c||304===c,u=c===kc||c===kl;if(l||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=e.get(a);return null===t&&(t=new SN(n)),d=l?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}if(e.has(a))return e.get(a).texture;{const d=a.image;if(l&&d&&d.height>0||u&&d&&function r(a){let c=0;for(let u=0;u<6;u++)void 0!==a[u]&&c++;return 6===c}(d)){null===t&&(t=new SN(n));const f=l?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function gY(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function mY(n,e,t,i){const r={},s=new WeakMap;function o(d){const f=d.target;null!==f.index&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);for(const m in f.morphAttributes){const y=f.morphAttributes[m];for(let v=0,_=y.length;v<_;v++)e.remove(y[v])}f.removeEventListener("dispose",o),delete r[f.id];const p=s.get(f);p&&(e.remove(p),s.delete(f)),i.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,t.memory.geometries--}function l(d){const f=[],p=d.index,m=d.attributes.position;let y=0;if(null!==p){const M=p.array;y=p.version;for(let S=0,A=M.length;S<A;S+=3){const O=M[S+0],L=M[S+1],N=M[S+2];f.push(O,L,L,N,N,O)}}else{if(void 0===m)return;y=m.version;for(let S=0,A=m.array.length/3-1;S<A;S+=3){const O=S+0,L=S+1,N=S+2;f.push(O,L,L,N,N,O)}}const v=new(JP(f)?fN:hN)(f,1);v.version=y;const _=s.get(d);_&&e.remove(_),s.set(d,v)}return{get:function a(d,f){return!0===r[f.id]||(f.addEventListener("dispose",o),r[f.id]=!0,t.memory.geometries++),f},update:function c(d){const f=d.attributes;for(const m in f)e.update(f[m],n.ARRAY_BUFFER);const p=d.morphAttributes;for(const m in p){const y=p[m];for(let v=0,_=y.length;v<_;v++)e.update(y[v],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(d){const f=s.get(d);if(f){const p=d.index;null!==p&&f.version<p.version&&l(d)}else l(d);return s.get(d)}}}function _Y(n,e,t,i){const r=i.isWebGL2;let s,a,c;this.setMode=function o(f){s=f},this.setIndex=function l(f){a=f.type,c=f.bytesPerElement},this.render=function u(f,p){n.drawElements(s,p,a,f*c),t.update(p,s,1)},this.renderInstances=function d(f,p,m){if(0===m)return;let y,v;if(r)y=n,v="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",null===y)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");y[v](s,p,a,f*c,m),t.update(p,s,m)}}function vY(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function yY(n,e){return n[0]-e[0]}function bY(n,e){return Math.abs(e[1])-Math.abs(n[1])}function wY(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Jn,a=[];for(let l=0;l<8;l++)a[l]=[l,0];return{update:function c(l,u,d){const f=l.morphTargetInfluences;if(!0===e.isWebGL2){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=void 0!==p?p.length:0;let y=s.get(u);if(void 0===y||y.count!==m){let X=function(){he.dispose(),s.delete(u),u.removeEventListener("dispose",X)};void 0!==y&&y.texture.dispose();const M=void 0!==u.morphAttributes.position,S=void 0!==u.morphAttributes.normal,A=void 0!==u.morphAttributes.color,O=u.morphAttributes.position||[],L=u.morphAttributes.normal||[],N=u.morphAttributes.color||[];let V=0;!0===M&&(V=1),!0===S&&(V=2),!0===A&&(V=3);let R=u.attributes.position.count*V,B=1;R>e.maxTextureSize&&(B=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const Q=new Float32Array(R*B*4*m),he=new rx(Q,R,B,m);he.type=ja,he.needsUpdate=!0;const fe=4*V;for(let se=0;se<m;se++){const de=O[se],pe=L[se],Le=N[se],me=R*B*4*se;for(let Se=0;Se<de.count;Se++){const ee=Se*fe;!0===M&&(o.fromBufferAttribute(de,Se),Q[me+ee+0]=o.x,Q[me+ee+1]=o.y,Q[me+ee+2]=o.z,Q[me+ee+3]=0),!0===S&&(o.fromBufferAttribute(pe,Se),Q[me+ee+4]=o.x,Q[me+ee+5]=o.y,Q[me+ee+6]=o.z,Q[me+ee+7]=0),!0===A&&(o.fromBufferAttribute(Le,Se),Q[me+ee+8]=o.x,Q[me+ee+9]=o.y,Q[me+ee+10]=o.z,Q[me+ee+11]=4===Le.itemSize?o.w:1)}}y={count:m,texture:he,size:new xe(R,B)},s.set(u,y),u.addEventListener("dispose",X)}let v=0;for(let M=0;M<f.length;M++)v+=f[M];const _=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",f),d.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const p=void 0===f?0:f.length;let m=i[u.id];if(void 0===m||m.length!==p){m=[];for(let S=0;S<p;S++)m[S]=[S,0];i[u.id]=m}for(let S=0;S<p;S++){const A=m[S];A[0]=S,A[1]=f[S]}m.sort(bY);for(let S=0;S<8;S++)S<p&&m[S][1]?(a[S][0]=m[S][0],a[S][1]=m[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(yY);const y=u.morphAttributes.position,v=u.morphAttributes.normal;let _=0;for(let S=0;S<8;S++){const A=a[S],O=A[0],L=A[1];O!==Number.MAX_SAFE_INTEGER&&L?(y&&u.getAttribute("morphTarget"+S)!==y[O]&&u.setAttribute("morphTarget"+S,y[O]),v&&u.getAttribute("morphNormal"+S)!==v[O]&&u.setAttribute("morphNormal"+S,v[O]),r[S]=L,_+=L):(y&&!0===u.hasAttribute("morphTarget"+S)&&u.deleteAttribute("morphTarget"+S),v&&!0===u.hasAttribute("morphNormal"+S)&&u.deleteAttribute("morphNormal"+S),r[S]=0)}const M=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",M),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function xY(n,e,t,i){let r=new WeakMap;function a(c){const l=c.target;l.removeEventListener("dispose",a),t.remove(l.instanceMatrix),null!==l.instanceColor&&t.remove(l.instanceColor)}return{update:function s(c){const l=i.render.frame,d=e.get(c,c.geometry);if(r.get(d)!==l&&(e.update(d),r.set(d,l)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",a)&&c.addEventListener("dispose",a),r.get(c)!==l&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),null!==c.instanceColor&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,l))),c.isSkinnedMesh){const f=c.skeleton;r.get(f)!==l&&(f.update(),r.set(f,l))}return d},dispose:function o(){r=new WeakMap}}}const AN=new Fo,DN=new rx,IN=new nN,ON=new Mv,RN=[],PN=[],NN=new Float32Array(16),LN=new Float32Array(9),kN=new Float32Array(4);function Dh(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=RN[r];if(void 0===s&&(s=new Float32Array(r),RN[r]=s),0!==e){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function ir(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function rr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Dv(n,e){let t=PN[e];void 0===t&&(t=new Int32Array(e),PN[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function MY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function SY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;n.uniform2fv(this.addr,e),rr(t,e)}}function CY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ir(t,e))return;n.uniform3fv(this.addr,e),rr(t,e)}}function TY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;n.uniform4fv(this.addr,e),rr(t,e)}}function EY(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(ir(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),rr(t,e)}else{if(ir(t,i))return;kN.set(i),n.uniformMatrix2fv(this.addr,!1,kN),rr(t,i)}}function AY(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(ir(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),rr(t,e)}else{if(ir(t,i))return;LN.set(i),n.uniformMatrix3fv(this.addr,!1,LN),rr(t,i)}}function DY(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(ir(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),rr(t,e)}else{if(ir(t,i))return;NN.set(i),n.uniformMatrix4fv(this.addr,!1,NN),rr(t,i)}}function IY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function OY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;n.uniform2iv(this.addr,e),rr(t,e)}}function RY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ir(t,e))return;n.uniform3iv(this.addr,e),rr(t,e)}}function PY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;n.uniform4iv(this.addr,e),rr(t,e)}}function NY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function LY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ir(t,e))return;n.uniform2uiv(this.addr,e),rr(t,e)}}function kY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ir(t,e))return;n.uniform3uiv(this.addr,e),rr(t,e)}}function FY(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ir(t,e))return;n.uniform4uiv(this.addr,e),rr(t,e)}}function BY(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||AN,r)}function UY(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||IN,r)}function VY(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||ON,r)}function HY(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||DN,r)}function zY(n,e){n.uniform1fv(this.addr,e)}function jY(n,e){const t=Dh(e,this.size,2);n.uniform2fv(this.addr,t)}function WY(n,e){const t=Dh(e,this.size,3);n.uniform3fv(this.addr,t)}function $Y(n,e){const t=Dh(e,this.size,4);n.uniform4fv(this.addr,t)}function qY(n,e){const t=Dh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function XY(n,e){const t=Dh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function YY(n,e){const t=Dh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function ZY(n,e){n.uniform1iv(this.addr,e)}function JY(n,e){n.uniform2iv(this.addr,e)}function KY(n,e){n.uniform3iv(this.addr,e)}function QY(n,e){n.uniform4iv(this.addr,e)}function eZ(n,e){n.uniform1uiv(this.addr,e)}function tZ(n,e){n.uniform2uiv(this.addr,e)}function nZ(n,e){n.uniform3uiv(this.addr,e)}function iZ(n,e){n.uniform4uiv(this.addr,e)}function rZ(n,e,t){const i=this.cache,r=e.length,s=Dv(t,r);ir(i,s)||(n.uniform1iv(this.addr,s),rr(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||AN,s[o])}function sZ(n,e,t){const i=this.cache,r=e.length,s=Dv(t,r);ir(i,s)||(n.uniform1iv(this.addr,s),rr(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||IN,s[o])}function oZ(n,e,t){const i=this.cache,r=e.length,s=Dv(t,r);ir(i,s)||(n.uniform1iv(this.addr,s),rr(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||ON,s[o])}function aZ(n,e,t){const i=this.cache,r=e.length,s=Dv(t,r);ir(i,s)||(n.uniform1iv(this.addr,s),rr(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||DN,s[o])}class lZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function GY(n){switch(n){case 5126:return MY;case 35664:return SY;case 35665:return CY;case 35666:return TY;case 35674:return EY;case 35675:return AY;case 35676:return DY;case 5124:case 35670:return IY;case 35667:case 35671:return OY;case 35668:case 35672:return RY;case 35669:case 35673:return PY;case 5125:return NY;case 36294:return LY;case 36295:return kY;case 36296:return FY;case 35678:case 36198:case 36298:case 36306:case 35682:return BY;case 35679:case 36299:case 36307:return UY;case 35680:case 36300:case 36308:case 36293:return VY;case 36289:case 36303:case 36311:case 36292:return HY}}(t.type)}}class uZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function cZ(n){switch(n){case 5126:return zY;case 35664:return jY;case 35665:return WY;case 35666:return $Y;case 35674:return qY;case 35675:return XY;case 35676:return YY;case 5124:case 35670:return ZY;case 35667:case 35671:return JY;case 35668:case 35672:return KY;case 35669:case 35673:return QY;case 5125:return eZ;case 36294:return tZ;case 36295:return nZ;case 36296:return iZ;case 35678:case 36198:case 36298:case 36306:case 35682:return rZ;case 35679:case 36299:case 36307:return sZ;case 35680:case 36300:case 36308:case 36293:return oZ;case 36289:case 36303:case 36311:case 36292:return aZ}}(t.type)}}class dZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Cx=/(\w+)(\])?(\[|\.)?/g;function FN(n,e){n.seq.push(e),n.map[e.id]=e}function hZ(n,e,t){const i=n.name,r=i.length;for(Cx.lastIndex=0;;){const s=Cx.exec(i);let a=s[1];const l=s[3];if("]"===s[2]&&(a|=0),void 0===l||"["===l&&Cx.lastIndex+2===r){FN(t,void 0===l?new lZ(a,n,e):new uZ(a,n,e));break}{let d=t.map[a];void 0===d&&(d=new dZ(a),FN(t,d)),t=d}}}class Iv{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);hZ(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],c=i[a.id];!1!==c.needsUpdate&&a.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function BN(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let fZ=0;function UN(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function pZ(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function mZ(n,e){const t=function gZ(n){const e=Gn.getPrimaries(Gn.workingColorSpace),t=Gn.getPrimaries(n);let i;switch(e===t?i="":e===tv&&t===ev?i="LinearDisplayP3ToLinearSRGB":e===ev&&t===tv&&(i="LinearSRGBToLinearDisplayP3"),n){case Tr:case K_:return[i,"LinearTransferOETF"];case wi:case Zw:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function _Z(n,e){let t;switch(e){case $$:t="Linear";break;case q$:t="Reinhard";break;case X$:t="OptimizedCineon";break;case Y$:t="ACESFilmic";break;case Z$:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Qp(n){return""!==n}function VN(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function HN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const wZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function Tx(n){return n.replace(wZ,MZ)}const xZ=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function MZ(n,e){let t=un[e];if(void 0===t){const i=xZ.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=un[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return Tx(t)}const SZ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function GN(n){return n.replace(SZ,CZ)}function CZ(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function zN(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function OZ(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const c=function TZ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===sP?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===S$?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ha&&(e="SHADOWMAP_TYPE_VSM"),e}(t),l=function EZ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case kc:case kl:e="ENVMAP_TYPE_CUBE";break;case Vp:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function AZ(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===kl&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function DZ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case q_:e="ENVMAP_BLENDING_MULTIPLY";break;case j$:e="ENVMAP_BLENDING_MIX";break;case W$:e="ENVMAP_BLENDING_ADD"}return e}(t),f=function IZ(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),p=t.isWebGL2?"":function vZ(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Qp).join("\n")}(t),m=function yZ(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),y=r.createProgram();let v,_,M=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(Qp).join("\n"),v.length>0&&(v+="\n"),_=[p,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(Qp).join("\n"),_.length>0&&(_+="\n")):(v=[zN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Qp).join("\n"),_=[p,zN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Lc?"#define TONE_MAPPING":"",t.toneMapping!==Lc?un.tonemapping_pars_fragment:"",t.toneMapping!==Lc?_Z("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",un.colorspace_pars_fragment,mZ("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Qp).join("\n")),o=Tx(o),o=VN(o,t),o=HN(o,t),a=Tx(a),a=VN(a,t),a=HN(a,t),o=GN(o),a=GN(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(M="#version 300 es\n",v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,_=["#define varying in",t.glslVersion===qP?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===qP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+_);const A=M+_+a,O=BN(r,r.VERTEX_SHADER,M+v+o),L=BN(r,r.FRAGMENT_SHADER,A);if(r.attachShader(y,O),r.attachShader(y,L),void 0!==t.index0AttributeName?r.bindAttribLocation(y,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),n.debug.checkShaderErrors){const R=r.getProgramInfoLog(y).trim(),B=r.getShaderInfoLog(O).trim(),Q=r.getShaderInfoLog(L).trim();let he=!0,fe=!0;if(!1===r.getProgramParameter(y,r.LINK_STATUS))if(he=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,y,O,L);else{const X=UN(r,O,"vertex"),se=UN(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+R+"\n"+X+"\n"+se)}else""!==R?console.warn("THREE.WebGLProgram: Program Info Log:",R):(""===B||""===Q)&&(fe=!1);fe&&(this.diagnostics={runnable:he,programLog:R,vertexShader:{log:B,prefix:v},fragmentShader:{log:Q,prefix:_}})}let N,V;return r.deleteShader(O),r.deleteShader(L),this.getUniforms=function(){return void 0===N&&(N=new Iv(r,y)),N},this.getAttributes=function(){return void 0===V&&(V=function bZ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(r,y)),V},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=fZ++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=O,this.fragmentShader=L,this}let RZ=0;class PZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new NZ(e),t.set(e,i)),i}}class NZ{constructor(e){this.id=RZ++,this.code=e,this.usedTimes=0}}function LZ(n,e,t,i,r,s,o){const a=new dx,c=new PZ,l=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,f=r.vertexTextures;let p=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(R){return 0===R?"uv":`uv${R}`}return{getParameters:function v(R,B,Q,he,fe){const X=he.fog,se=fe.geometry,pe=(R.isMeshStandardMaterial?t:e).get(R.envMap||(R.isMeshStandardMaterial?he.environment:null)),Le=pe&&pe.mapping===Vp?pe.image.height:null,me=m[R.type];null!==R.precision&&(p=r.getMaxPrecision(R.precision),p!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",p,"instead."));const Se=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,ee=void 0!==Se?Se.length:0;let Ue,ze,Ge,ut,_e=0;if(void 0!==se.morphAttributes.position&&(_e=1),void 0!==se.morphAttributes.normal&&(_e=2),void 0!==se.morphAttributes.color&&(_e=3),me){const ui=ua[me];Ue=ui.vertexShader,ze=ui.fragmentShader}else Ue=R.vertexShader,ze=R.fragmentShader,c.update(R),Ge=c.getVertexShaderID(R),ut=c.getFragmentShaderID(R);const ft=n.getRenderTarget(),lt=!0===fe.isInstancedMesh,tn=!!R.map,yt=!!pe,k=!!R.aoMap,ke=!!R.lightMap,Me=!!R.bumpMap,He=!!R.normalMap,Ee=!!R.displacementMap,xt=!!R.emissiveMap,dt=!!R.metalnessMap,pt=!!R.roughnessMap,Tt=R.anisotropy>0,rn=R.clearcoat>0,ti=R.iridescence>0,j=R.sheen>0,F=R.transmission>0,ce=Tt&&!!R.anisotropyMap,Be=rn&&!!R.clearcoatMap,Pe=rn&&!!R.clearcoatNormalMap,Ve=rn&&!!R.clearcoatRoughnessMap,Mt=ti&&!!R.iridescenceMap,$e=ti&&!!R.iridescenceThicknessMap,ot=j&&!!R.sheenColorMap,Y=j&&!!R.sheenRoughnessMap,qe=!!R.specularMap,Ae=!!R.specularColorMap,zt=!!R.specularIntensityMap,Et=F&&!!R.transmissionMap,Ot=F&&!!R.thicknessMap,q=!!R.alphaMap,it=!!R.extensions,Ke=!!se.attributes.uv1,Re=!!se.attributes.uv2,wt=!!se.attributes.uv3;let $t=Lc;return R.toneMapped&&(null===ft||!0===ft.isXRRenderTarget)&&($t=n.toneMapping),{isWebGL2:u,shaderID:me,shaderType:R.type,shaderName:R.name,vertexShader:Ue,fragmentShader:ze,defines:R.defines,customVertexShaderID:Ge,customFragmentShaderID:ut,isRawShaderMaterial:!0===R.isRawShaderMaterial,glslVersion:R.glslVersion,precision:p,instancing:lt,instancingColor:lt&&null!==fe.instanceColor,supportsVertexTextures:f,outputColorSpace:null===ft?n.outputColorSpace:!0===ft.isXRRenderTarget?ft.texture.colorSpace:Tr,map:tn,matcap:!!R.matcap,envMap:yt,envMapMode:yt&&pe.mapping,envMapCubeUVHeight:Le,aoMap:k,lightMap:ke,bumpMap:Me,normalMap:He,displacementMap:f&&Ee,emissiveMap:xt,normalMapObjectSpace:He&&1===R.normalMapType,normalMapTangentSpace:He&&0===R.normalMapType,metalnessMap:dt,roughnessMap:pt,anisotropy:Tt,anisotropyMap:ce,clearcoat:rn,clearcoatMap:Be,clearcoatNormalMap:Pe,clearcoatRoughnessMap:Ve,iridescence:ti,iridescenceMap:Mt,iridescenceThicknessMap:$e,sheen:j,sheenColorMap:ot,sheenRoughnessMap:Y,specularMap:qe,specularColorMap:Ae,specularIntensityMap:zt,transmission:F,transmissionMap:Et,thicknessMap:Ot,gradientMap:!!R.gradientMap,opaque:!1===R.transparent&&1===R.blending,alphaMap:q,alphaTest:R.alphaTest>0,alphaHash:!!R.alphaHash,combine:R.combine,mapUv:tn&&y(R.map.channel),aoMapUv:k&&y(R.aoMap.channel),lightMapUv:ke&&y(R.lightMap.channel),bumpMapUv:Me&&y(R.bumpMap.channel),normalMapUv:He&&y(R.normalMap.channel),displacementMapUv:Ee&&y(R.displacementMap.channel),emissiveMapUv:xt&&y(R.emissiveMap.channel),metalnessMapUv:dt&&y(R.metalnessMap.channel),roughnessMapUv:pt&&y(R.roughnessMap.channel),anisotropyMapUv:ce&&y(R.anisotropyMap.channel),clearcoatMapUv:Be&&y(R.clearcoatMap.channel),clearcoatNormalMapUv:Pe&&y(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ve&&y(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Mt&&y(R.iridescenceMap.channel),iridescenceThicknessMapUv:$e&&y(R.iridescenceThicknessMap.channel),sheenColorMapUv:ot&&y(R.sheenColorMap.channel),sheenRoughnessMapUv:Y&&y(R.sheenRoughnessMap.channel),specularMapUv:qe&&y(R.specularMap.channel),specularColorMapUv:Ae&&y(R.specularColorMap.channel),specularIntensityMapUv:zt&&y(R.specularIntensityMap.channel),transmissionMapUv:Et&&y(R.transmissionMap.channel),thicknessMapUv:Ot&&y(R.thicknessMap.channel),alphaMapUv:q&&y(R.alphaMap.channel),vertexTangents:!!se.attributes.tangent&&(He||Tt),vertexColors:R.vertexColors,vertexAlphas:!0===R.vertexColors&&!!se.attributes.color&&4===se.attributes.color.itemSize,vertexUv1s:Ke,vertexUv2s:Re,vertexUv3s:wt,pointsUvs:!0===fe.isPoints&&!!se.attributes.uv&&(tn||q),fog:!!X,useFog:!0===R.fog,fogExp2:X&&X.isFogExp2,flatShading:!0===R.flatShading,sizeAttenuation:!0===R.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===fe.isSkinnedMesh,morphTargets:void 0!==se.morphAttributes.position,morphNormals:void 0!==se.morphAttributes.normal,morphColors:void 0!==se.morphAttributes.color,morphTargetsCount:ee,morphTextureStride:_e,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&Q.length>0,shadowMapType:n.shadowMap.type,toneMapping:$t,useLegacyLights:n._useLegacyLights,decodeVideoTexture:tn&&!0===R.map.isVideoTexture&&Gn.getTransfer(R.map.colorSpace)===li,premultipliedAlpha:R.premultipliedAlpha,doubleSided:2===R.side,flipSided:1===R.side,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:it&&!0===R.extensions.derivatives,extensionFragDepth:it&&!0===R.extensions.fragDepth,extensionDrawBuffers:it&&!0===R.extensions.drawBuffers,extensionShaderTextureLOD:it&&!0===R.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}},getProgramCacheKey:function _(R){const B=[];if(R.shaderID?B.push(R.shaderID):(B.push(R.customVertexShaderID),B.push(R.customFragmentShaderID)),void 0!==R.defines)for(const Q in R.defines)B.push(Q),B.push(R.defines[Q]);return!1===R.isRawShaderMaterial&&(function M(R,B){R.push(B.precision),R.push(B.outputColorSpace),R.push(B.envMapMode),R.push(B.envMapCubeUVHeight),R.push(B.mapUv),R.push(B.alphaMapUv),R.push(B.lightMapUv),R.push(B.aoMapUv),R.push(B.bumpMapUv),R.push(B.normalMapUv),R.push(B.displacementMapUv),R.push(B.emissiveMapUv),R.push(B.metalnessMapUv),R.push(B.roughnessMapUv),R.push(B.anisotropyMapUv),R.push(B.clearcoatMapUv),R.push(B.clearcoatNormalMapUv),R.push(B.clearcoatRoughnessMapUv),R.push(B.iridescenceMapUv),R.push(B.iridescenceThicknessMapUv),R.push(B.sheenColorMapUv),R.push(B.sheenRoughnessMapUv),R.push(B.specularMapUv),R.push(B.specularColorMapUv),R.push(B.specularIntensityMapUv),R.push(B.transmissionMapUv),R.push(B.thicknessMapUv),R.push(B.combine),R.push(B.fogExp2),R.push(B.sizeAttenuation),R.push(B.morphTargetsCount),R.push(B.morphAttributeCount),R.push(B.numDirLights),R.push(B.numPointLights),R.push(B.numSpotLights),R.push(B.numSpotLightMaps),R.push(B.numHemiLights),R.push(B.numRectAreaLights),R.push(B.numDirLightShadows),R.push(B.numPointLightShadows),R.push(B.numSpotLightShadows),R.push(B.numSpotLightShadowsWithMaps),R.push(B.numLightProbes),R.push(B.shadowMapType),R.push(B.toneMapping),R.push(B.numClippingPlanes),R.push(B.numClipIntersection),R.push(B.depthPacking)}(B,R),function S(R,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),R.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),B.decodeVideoTexture&&a.enable(19),R.push(a.mask)}(B,R),B.push(n.outputColorSpace)),B.push(R.customProgramCacheKey),B.join()},getUniforms:function A(R){const B=m[R.type];let Q;return Q=B?tq.clone(ua[B].uniforms):R.uniforms,Q},acquireProgram:function O(R,B){let Q;for(let he=0,fe=l.length;he<fe;he++){const X=l[he];if(X.cacheKey===B){Q=X,++Q.usedTimes;break}}return void 0===Q&&(Q=new OZ(n,B,R,s),l.push(Q)),Q},releaseProgram:function L(R){if(0==--R.usedTimes){const B=l.indexOf(R);l[B]=l[l.length-1],l.pop(),R.destroy()}},releaseShaderCache:function N(R){c.remove(R)},programs:l,dispose:function V(){c.dispose()}}}function kZ(){let n=new WeakMap;return{get:function e(s){let o=n.get(s);return void 0===o&&(o={},n.set(s,o)),o},remove:function t(s){n.delete(s)},update:function i(s,o,a){n.get(s)[o]=a},dispose:function r(){n=new WeakMap}}}function FZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function jN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function WN(){const n=[];let e=0;const t=[],i=[],r=[];function o(d,f,p,m,y,v){let _=n[e];return void 0===_?(_={id:d.id,object:d,geometry:f,material:p,groupOrder:m,renderOrder:d.renderOrder,z:y,group:v},n[e]=_):(_.id=d.id,_.object=d,_.geometry=f,_.material=p,_.groupOrder=m,_.renderOrder=d.renderOrder,_.z=y,_.group=v),e++,_}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function a(d,f,p,m,y,v){const _=o(d,f,p,m,y,v);p.transmission>0?i.push(_):!0===p.transparent?r.push(_):t.push(_)},unshift:function c(d,f,p,m,y,v){const _=o(d,f,p,m,y,v);p.transmission>0?i.unshift(_):!0===p.transparent?r.unshift(_):t.unshift(_)},finish:function u(){for(let d=e,f=n.length;d<f;d++){const p=n[d];if(null===p.id)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}},sort:function l(d,f){t.length>1&&t.sort(d||FZ),i.length>1&&i.sort(f||jN),r.length>1&&r.sort(f||jN)}}}function BZ(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let o;return void 0===s?(o=new WN,n.set(i,[o])):r>=s.length?(o=new WN,s.push(o)):o=s[r],o},dispose:function t(){n=new WeakMap}}}function UZ(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new U,color:new st};break;case"SpotLight":t={position:new U,direction:new U,color:new st,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new U,color:new st,distance:0,decay:0};break;case"HemisphereLight":t={direction:new U,skyColor:new st,groundColor:new st};break;case"RectAreaLight":t={color:new st,position:new U,halfWidth:new U,halfHeight:new U}}return n[e.id]=t,t}}}let HZ=0;function GZ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function zZ(n,e){const t=new UZ,i=function VZ(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new U);const s=new U,o=new qt,a=new qt;return{setup:function c(u,d){let f=0,p=0,m=0;for(let he=0;he<9;he++)r.probe[he].set(0,0,0);let y=0,v=0,_=0,M=0,S=0,A=0,O=0,L=0,N=0,V=0,R=0;u.sort(GZ);const B=!0===d?Math.PI:1;for(let he=0,fe=u.length;he<fe;he++){const X=u[he],se=X.color,de=X.intensity,pe=X.distance,Le=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)f+=se.r*de*B,p+=se.g*de*B,m+=se.b*de*B;else if(X.isLightProbe){for(let me=0;me<9;me++)r.probe[me].addScaledVector(X.sh.coefficients[me],de);R++}else if(X.isDirectionalLight){const me=t.get(X);if(me.color.copy(X.color).multiplyScalar(X.intensity*B),X.castShadow){const Se=X.shadow,ee=i.get(X);ee.shadowBias=Se.bias,ee.shadowNormalBias=Se.normalBias,ee.shadowRadius=Se.radius,ee.shadowMapSize=Se.mapSize,r.directionalShadow[y]=ee,r.directionalShadowMap[y]=Le,r.directionalShadowMatrix[y]=X.shadow.matrix,A++}r.directional[y]=me,y++}else if(X.isSpotLight){const me=t.get(X);me.position.setFromMatrixPosition(X.matrixWorld),me.color.copy(se).multiplyScalar(de*B),me.distance=pe,me.coneCos=Math.cos(X.angle),me.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),me.decay=X.decay,r.spot[_]=me;const Se=X.shadow;if(X.map&&(r.spotLightMap[N]=X.map,N++,Se.updateMatrices(X),X.castShadow&&V++),r.spotLightMatrix[_]=Se.matrix,X.castShadow){const ee=i.get(X);ee.shadowBias=Se.bias,ee.shadowNormalBias=Se.normalBias,ee.shadowRadius=Se.radius,ee.shadowMapSize=Se.mapSize,r.spotShadow[_]=ee,r.spotShadowMap[_]=Le,L++}_++}else if(X.isRectAreaLight){const me=t.get(X);me.color.copy(se).multiplyScalar(de),me.halfWidth.set(.5*X.width,0,0),me.halfHeight.set(0,.5*X.height,0),r.rectArea[M]=me,M++}else if(X.isPointLight){const me=t.get(X);if(me.color.copy(X.color).multiplyScalar(X.intensity*B),me.distance=X.distance,me.decay=X.decay,X.castShadow){const Se=X.shadow,ee=i.get(X);ee.shadowBias=Se.bias,ee.shadowNormalBias=Se.normalBias,ee.shadowRadius=Se.radius,ee.shadowMapSize=Se.mapSize,ee.shadowCameraNear=Se.camera.near,ee.shadowCameraFar=Se.camera.far,r.pointShadow[v]=ee,r.pointShadowMap[v]=Le,r.pointShadowMatrix[v]=X.shadow.matrix,O++}r.point[v]=me,v++}else if(X.isHemisphereLight){const me=t.get(X);me.skyColor.copy(X.color).multiplyScalar(de*B),me.groundColor.copy(X.groundColor).multiplyScalar(de*B),r.hemi[S]=me,S++}}M>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=tt.LTC_FLOAT_1,r.rectAreaLTC2=tt.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=tt.LTC_HALF_1,r.rectAreaLTC2=tt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=p,r.ambient[2]=m;const Q=r.hash;(Q.directionalLength!==y||Q.pointLength!==v||Q.spotLength!==_||Q.rectAreaLength!==M||Q.hemiLength!==S||Q.numDirectionalShadows!==A||Q.numPointShadows!==O||Q.numSpotShadows!==L||Q.numSpotMaps!==N||Q.numLightProbes!==R)&&(r.directional.length=y,r.spot.length=_,r.rectArea.length=M,r.point.length=v,r.hemi.length=S,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=O,r.pointShadowMap.length=O,r.spotShadow.length=L,r.spotShadowMap.length=L,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=O,r.spotLightMatrix.length=L+N-V,r.spotLightMap.length=N,r.numSpotLightShadowsWithMaps=V,r.numLightProbes=R,Q.directionalLength=y,Q.pointLength=v,Q.spotLength=_,Q.rectAreaLength=M,Q.hemiLength=S,Q.numDirectionalShadows=A,Q.numPointShadows=O,Q.numSpotShadows=L,Q.numSpotMaps=N,Q.numLightProbes=R,r.version=HZ++)},setupView:function l(u,d){let f=0,p=0,m=0,y=0,v=0;const _=d.matrixWorldInverse;for(let M=0,S=u.length;M<S;M++){const A=u[M];if(A.isDirectionalLight){const O=r.directional[f];O.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),O.direction.sub(s),O.direction.transformDirection(_),f++}else if(A.isSpotLight){const O=r.spot[m];O.position.setFromMatrixPosition(A.matrixWorld),O.position.applyMatrix4(_),O.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),O.direction.sub(s),O.direction.transformDirection(_),m++}else if(A.isRectAreaLight){const O=r.rectArea[y];O.position.setFromMatrixPosition(A.matrixWorld),O.position.applyMatrix4(_),a.identity(),o.copy(A.matrixWorld),o.premultiply(_),a.extractRotation(o),O.halfWidth.set(.5*A.width,0,0),O.halfHeight.set(0,.5*A.height,0),O.halfWidth.applyMatrix4(a),O.halfHeight.applyMatrix4(a),y++}else if(A.isPointLight){const O=r.point[p];O.position.setFromMatrixPosition(A.matrixWorld),O.position.applyMatrix4(_),p++}else if(A.isHemisphereLight){const O=r.hemi[v];O.direction.setFromMatrixPosition(A.matrixWorld),O.direction.transformDirection(_),v++}}},state:r}}function $N(n,e){const t=new zZ(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function c(d){t.setup(i,d)},setupLightsView:function l(d){t.setupView(i,d)},pushLight:function o(d){i.push(d)},pushShadow:function a(d){r.push(d)}}}function jZ(n,e){let t=new WeakMap;return{get:function i(s,o=0){const a=t.get(s);let c;return void 0===a?(c=new $N(n,e),t.set(s,[c])):o>=a.length?(c=new $N(n,e),a.push(c)):c=a[o],c},dispose:function r(){t=new WeakMap}}}class qN extends Go{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class XN extends Go{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function qZ(n,e,t){let i=new wx;const r=new xe,s=new xe,o=new Jn,a=new qN({depthPacking:3201}),c=new XN,l={},u=t.maxTextureSize,d={0:1,1:0,2:2},f=new Wc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xe},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const m=new mn;m.setAttribute("position",new Di(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Ar(m,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=sP;let _=this.type;function M(O,L){const N=e.update(y);f.defines.VSM_SAMPLES!==O.blurSamples&&(f.defines.VSM_SAMPLES=O.blurSamples,p.defines.VSM_SAMPLES=O.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),null===O.mapPass&&(O.mapPass=new zl(r.x,r.y)),f.uniforms.shadow_pass.value=O.map.texture,f.uniforms.resolution.value=O.mapSize,f.uniforms.radius.value=O.radius,n.setRenderTarget(O.mapPass),n.clear(),n.renderBufferDirect(L,null,N,f,y,null),p.uniforms.shadow_pass.value=O.mapPass.texture,p.uniforms.resolution.value=O.mapSize,p.uniforms.radius.value=O.radius,n.setRenderTarget(O.map),n.clear(),n.renderBufferDirect(L,null,N,p,y,null)}function S(O,L,N,V){let R=null;const B=!0===N.isPointLight?O.customDistanceMaterial:O.customDepthMaterial;if(void 0!==B)R=B;else if(R=!0===N.isPointLight?c:a,n.localClippingEnabled&&!0===L.clipShadows&&Array.isArray(L.clippingPlanes)&&0!==L.clippingPlanes.length||L.displacementMap&&0!==L.displacementScale||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const Q=R.uuid,he=L.uuid;let fe=l[Q];void 0===fe&&(fe={},l[Q]=fe);let X=fe[he];void 0===X&&(X=R.clone(),fe[he]=X),R=X}return R.visible=L.visible,R.wireframe=L.wireframe,R.side=V===Ha?null!==L.shadowSide?L.shadowSide:L.side:null!==L.shadowSide?L.shadowSide:d[L.side],R.alphaMap=L.alphaMap,R.alphaTest=L.alphaTest,R.map=L.map,R.clipShadows=L.clipShadows,R.clippingPlanes=L.clippingPlanes,R.clipIntersection=L.clipIntersection,R.displacementMap=L.displacementMap,R.displacementScale=L.displacementScale,R.displacementBias=L.displacementBias,R.wireframeLinewidth=L.wireframeLinewidth,R.linewidth=L.linewidth,!0===N.isPointLight&&!0===R.isMeshDistanceMaterial&&(n.properties.get(R).light=N),R}function A(O,L,N,V,R){if(!1===O.visible)return;if(O.layers.test(L.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&R===Ha)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,O.matrixWorld);const he=e.update(O),fe=O.material;if(Array.isArray(fe)){const X=he.groups;for(let se=0,de=X.length;se<de;se++){const pe=X[se],Le=fe[pe.materialIndex];if(Le&&Le.visible){const me=S(O,Le,V,R);n.renderBufferDirect(N,null,he,me,O,pe)}}}else if(fe.visible){const X=S(O,fe,V,R);n.renderBufferDirect(N,null,he,X,O,null)}}const Q=O.children;for(let he=0,fe=Q.length;he<fe;he++)A(Q[he],L,N,V,R)}this.render=function(O,L,N){if(!1===v.enabled||!1===v.autoUpdate&&!1===v.needsUpdate||0===O.length)return;const V=n.getRenderTarget(),R=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),Q=n.state;Q.setBlending(0),Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const he=_!==Ha&&this.type===Ha,fe=_===Ha&&this.type!==Ha;for(let X=0,se=O.length;X<se;X++){const de=O[X],pe=de.shadow;if(void 0===pe){console.warn("THREE.WebGLShadowMap:",de,"has no shadow.");continue}if(!1===pe.autoUpdate&&!1===pe.needsUpdate)continue;r.copy(pe.mapSize);const Le=pe.getFrameExtents();if(r.multiply(Le),s.copy(pe.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/Le.x),r.x=s.x*Le.x,pe.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/Le.y),r.y=s.y*Le.y,pe.mapSize.y=s.y)),null===pe.map||!0===he||!0===fe){const Se=this.type!==Ha?{minFilter:Hi,magFilter:Hi}:{};null!==pe.map&&pe.map.dispose(),pe.map=new zl(r.x,r.y,Se),pe.map.texture.name=de.name+".shadowMap",pe.camera.updateProjectionMatrix()}n.setRenderTarget(pe.map),n.clear();const me=pe.getViewportCount();for(let Se=0;Se<me;Se++){const ee=pe.getViewport(Se);o.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),Q.viewport(o),pe.updateMatrices(de,Se),i=pe.getFrustum(),A(L,N,pe.camera,de,this.type)}!0!==pe.isPointLightShadow&&this.type===Ha&&M(pe,N),pe.needsUpdate=!1}_=this.type,v.needsUpdate=!1,n.setRenderTarget(V,R,B)}}function XZ(n,e,t){const i=t.isWebGL2,a=new function r(){let q=!1;const Je=new Jn;let Xe=null;const it=new Jn(0,0,0,0);return{setMask:function(Ke){Xe!==Ke&&!q&&(n.colorMask(Ke,Ke,Ke,Ke),Xe=Ke)},setLocked:function(Ke){q=Ke},setClear:function(Ke,Re,wt,$t,$i){!0===$i&&(Ke*=$t,Re*=$t,wt*=$t),Je.set(Ke,Re,wt,$t),!1===it.equals(Je)&&(n.clearColor(Ke,Re,wt,$t),it.copy(Je))},reset:function(){q=!1,Xe=null,it.set(-1,0,0,0)}}},c=new function s(){let q=!1,Je=null,Xe=null,it=null;return{setTest:function(Ke){Ke?ft(n.DEPTH_TEST):lt(n.DEPTH_TEST)},setMask:function(Ke){Je!==Ke&&!q&&(n.depthMask(Ke),Je=Ke)},setFunc:function(Ke){if(Xe!==Ke){switch(Ke){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}Xe=Ke}},setLocked:function(Ke){q=Ke},setClear:function(Ke){it!==Ke&&(n.clearDepth(Ke),it=Ke)},reset:function(){q=!1,Je=null,Xe=null,it=null}}},l=new function o(){let q=!1,Je=null,Xe=null,it=null,Ke=null,Re=null,wt=null,$t=null,$i=null;return{setTest:function(ui){q||(ui?ft(n.STENCIL_TEST):lt(n.STENCIL_TEST))},setMask:function(ui){Je!==ui&&!q&&(n.stencilMask(ui),Je=ui)},setFunc:function(ui,ma,cs){(Xe!==ui||it!==ma||Ke!==cs)&&(n.stencilFunc(ui,ma,cs),Xe=ui,it=ma,Ke=cs)},setOp:function(ui,ma,cs){(Re!==ui||wt!==ma||$t!==cs)&&(n.stencilOp(ui,ma,cs),Re=ui,wt=ma,$t=cs)},setLocked:function(ui){q=ui},setClear:function(ui){$i!==ui&&(n.clearStencil(ui),$i=ui)},reset:function(){q=!1,Je=null,Xe=null,it=null,Ke=null,Re=null,wt=null,$t=null,$i=null}}},u=new WeakMap,d=new WeakMap;let f={},p={},m=new WeakMap,y=[],v=null,_=!1,M=null,S=null,A=null,O=null,L=null,N=null,V=null,R=!1,B=null,Q=null,he=null,fe=null,X=null;const se=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let de=!1,pe=0;const Le=n.getParameter(n.VERSION);-1!==Le.indexOf("WebGL")?(pe=parseFloat(/^WebGL (\d)/.exec(Le)[1]),de=pe>=1):-1!==Le.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL ES (\d)/.exec(Le)[1]),de=pe>=2);let me=null,Se={};const ee=n.getParameter(n.SCISSOR_BOX),_e=n.getParameter(n.VIEWPORT),Ue=(new Jn).fromArray(ee),ze=(new Jn).fromArray(_e);function Ge(q,Je,Xe,it){const Ke=new Uint8Array(4),Re=n.createTexture();n.bindTexture(q,Re),n.texParameteri(q,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(q,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let wt=0;wt<Xe;wt++)!i||q!==n.TEXTURE_3D&&q!==n.TEXTURE_2D_ARRAY?n.texImage2D(Je+wt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ke):n.texImage3D(Je,0,n.RGBA,1,1,it,0,n.RGBA,n.UNSIGNED_BYTE,Ke);return Re}const ut={};function ft(q){!0!==f[q]&&(n.enable(q),f[q]=!0)}function lt(q){!1!==f[q]&&(n.disable(q),f[q]=!1)}ut[n.TEXTURE_2D]=Ge(n.TEXTURE_2D,n.TEXTURE_2D,1),ut[n.TEXTURE_CUBE_MAP]=Ge(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ut[n.TEXTURE_2D_ARRAY]=Ge(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ut[n.TEXTURE_3D]=Ge(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),c.setClear(1),l.setClear(0),ft(n.DEPTH_TEST),c.setFunc(3),Ee(!1),xt(1),ft(n.CULL_FACE),Me(0);const k={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};if(i)k[103]=n.MIN,k[104]=n.MAX;else{const q=e.get("EXT_blend_minmax");null!==q&&(k[103]=q.MIN_EXT,k[104]=q.MAX_EXT)}const ke={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA};function Me(q,Je,Xe,it,Ke,Re,wt,$t){if(0!==q){if(!1===_&&(ft(n.BLEND),_=!0),5===q)Ke=Ke||Je,Re=Re||Xe,wt=wt||it,(Je!==S||Ke!==L)&&(n.blendEquationSeparate(k[Je],k[Ke]),S=Je,L=Ke),(Xe!==A||it!==O||Re!==N||wt!==V)&&(n.blendFuncSeparate(ke[Xe],ke[it],ke[Re],ke[wt]),A=Xe,O=it,N=Re,V=wt),M=q,R=!1;else if(q!==M||$t!==R){if((100!==S||100!==L)&&(n.blendEquation(n.FUNC_ADD),S=100,L=100),$t)switch(q){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",q)}else switch(q){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",q)}A=null,O=null,N=null,V=null,M=q,R=$t}}else!0===_&&(lt(n.BLEND),_=!1)}function Ee(q){B!==q&&(n.frontFace(q?n.CW:n.CCW),B=q)}function xt(q){0!==q?(ft(n.CULL_FACE),q!==Q&&n.cullFace(1===q?n.BACK:2===q?n.FRONT:n.FRONT_AND_BACK)):lt(n.CULL_FACE),Q=q}function pt(q,Je,Xe){q?(ft(n.POLYGON_OFFSET_FILL),(fe!==Je||X!==Xe)&&(n.polygonOffset(Je,Xe),fe=Je,X=Xe)):lt(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:c,stencil:l},enable:ft,disable:lt,bindFramebuffer:function tn(q,Je){return p[q]!==Je&&(n.bindFramebuffer(q,Je),p[q]=Je,i&&(q===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=Je),q===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=Je)),!0)},drawBuffers:function gn(q,Je){let Xe=y,it=!1;if(q)if(Xe=m.get(Je),void 0===Xe&&(Xe=[],m.set(Je,Xe)),q.isWebGLMultipleRenderTargets){const Ke=q.texture;if(Xe.length!==Ke.length||Xe[0]!==n.COLOR_ATTACHMENT0){for(let Re=0,wt=Ke.length;Re<wt;Re++)Xe[Re]=n.COLOR_ATTACHMENT0+Re;Xe.length=Ke.length,it=!0}}else Xe[0]!==n.COLOR_ATTACHMENT0&&(Xe[0]=n.COLOR_ATTACHMENT0,it=!0);else Xe[0]!==n.BACK&&(Xe[0]=n.BACK,it=!0);it&&(t.isWebGL2?n.drawBuffers(Xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Xe))},useProgram:function yt(q){return v!==q&&(n.useProgram(q),v=q,!0)},setBlending:Me,setMaterial:function He(q,Je){2===q.side?lt(n.CULL_FACE):ft(n.CULL_FACE);let Xe=1===q.side;Je&&(Xe=!Xe),Ee(Xe),1===q.blending&&!1===q.transparent?Me(0):Me(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.premultipliedAlpha),c.setFunc(q.depthFunc),c.setTest(q.depthTest),c.setMask(q.depthWrite),a.setMask(q.colorWrite);const it=q.stencilWrite;l.setTest(it),it&&(l.setMask(q.stencilWriteMask),l.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),l.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),pt(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),!0===q.alphaToCoverage?ft(n.SAMPLE_ALPHA_TO_COVERAGE):lt(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Ee,setCullFace:xt,setLineWidth:function dt(q){q!==he&&(de&&n.lineWidth(q),he=q)},setPolygonOffset:pt,setScissorTest:function Tt(q){q?ft(n.SCISSOR_TEST):lt(n.SCISSOR_TEST)},activeTexture:function rn(q){void 0===q&&(q=n.TEXTURE0+se-1),me!==q&&(n.activeTexture(q),me=q)},bindTexture:function ti(q,Je,Xe){void 0===Xe&&(Xe=null===me?n.TEXTURE0+se-1:me);let it=Se[Xe];void 0===it&&(it={type:void 0,texture:void 0},Se[Xe]=it),(it.type!==q||it.texture!==Je)&&(me!==Xe&&(n.activeTexture(Xe),me=Xe),n.bindTexture(q,Je||ut[q]),it.type=q,it.texture=Je)},unbindTexture:function j(){const q=Se[me];void 0!==q&&void 0!==q.type&&(n.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)},compressedTexImage2D:function F(){try{n.compressedTexImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},compressedTexImage3D:function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texImage2D:function Y(){try{n.texImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texImage3D:function qe(){try{n.texImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},updateUBOMapping:function Et(q,Je){let Xe=d.get(Je);void 0===Xe&&(Xe=new WeakMap,d.set(Je,Xe));let it=Xe.get(q);void 0===it&&(it=n.getUniformBlockIndex(Je,q.name),Xe.set(q,it))},uniformBlockBinding:function Ot(q,Je){const it=d.get(Je).get(q);u.get(Je)!==it&&(n.uniformBlockBinding(Je,it,q.__bindingPointIndex),u.set(Je,it))},texStorage2D:function $e(){try{n.texStorage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texStorage3D:function ot(){try{n.texStorage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texSubImage2D:function Be(){try{n.texSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texSubImage3D:function Pe(){try{n.texSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},compressedTexSubImage2D:function Ve(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},compressedTexSubImage3D:function Mt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},scissor:function Ae(q){!1===Ue.equals(q)&&(n.scissor(q.x,q.y,q.z,q.w),Ue.copy(q))},viewport:function zt(q){!1===ze.equals(q)&&(n.viewport(q.x,q.y,q.z,q.w),ze.copy(q))},reset:function St(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},me=null,Se={},p={},m=new WeakMap,y=[],v=null,_=!1,M=null,S=null,A=null,O=null,L=null,N=null,V=null,R=!1,B=null,Q=null,he=null,fe=null,X=null,Ue.set(0,0,n.canvas.width,n.canvas.height),ze.set(0,0,n.canvas.width,n.canvas.height),a.reset(),c.reset(),l.reset()}}}function YZ(n,e,t,i,r,s,o){const a=r.isWebGL2,c=r.maxTextures,l=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let y;const v=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function M(j,F){return _?new OffscreenCanvas(j,F):$p("canvas")}function S(j,F,ce,Be){let Pe=1;if((j.width>Be||j.height>Be)&&(Pe=Be/Math.max(j.width,j.height)),Pe<1||!0===F){if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap){const Ve=F?rv:Math.floor,Mt=Ve(Pe*j.width),$e=Ve(Pe*j.height);void 0===y&&(y=M(Mt,$e));const ot=ce?M(Mt,$e):y;return ot.width=Mt,ot.height=$e,ot.getContext("2d").drawImage(j,0,0,Mt,$e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+j.width+"x"+j.height+") to ("+Mt+"x"+$e+")."),ot}return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+j.width+"x"+j.height+")."),j}return j}function A(j){return ex(j.width)&&ex(j.height)}function L(j,F){return j.generateMipmaps&&F&&j.minFilter!==Hi&&j.minFilter!==Ei}function N(j){n.generateMipmap(j)}function V(j,F,ce,Be,Pe=!1){if(!1===a)return F;if(null!==j){if(void 0!==n[j])return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let Ve=F;if(F===n.RED&&(ce===n.FLOAT&&(Ve=n.R32F),ce===n.HALF_FLOAT&&(Ve=n.R16F),ce===n.UNSIGNED_BYTE&&(Ve=n.R8)),F===n.RED_INTEGER&&(ce===n.UNSIGNED_BYTE&&(Ve=n.R8UI),ce===n.UNSIGNED_SHORT&&(Ve=n.R16UI),ce===n.UNSIGNED_INT&&(Ve=n.R32UI),ce===n.BYTE&&(Ve=n.R8I),ce===n.SHORT&&(Ve=n.R16I),ce===n.INT&&(Ve=n.R32I)),F===n.RG&&(ce===n.FLOAT&&(Ve=n.RG32F),ce===n.HALF_FLOAT&&(Ve=n.RG16F),ce===n.UNSIGNED_BYTE&&(Ve=n.RG8)),F===n.RGBA){const Mt=Pe?Q_:Gn.getTransfer(Be);ce===n.FLOAT&&(Ve=n.RGBA32F),ce===n.HALF_FLOAT&&(Ve=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(Ve=Mt===li?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(Ve=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(Ve=n.RGB5_A1)}return(Ve===n.R16F||Ve===n.R32F||Ve===n.RG16F||Ve===n.RG32F||Ve===n.RGBA16F||Ve===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ve}function R(j,F,ce){return!0===L(j,ce)||j.isFramebufferTexture&&j.minFilter!==Hi&&j.minFilter!==Ei?Math.log2(Math.max(F.width,F.height))+1:void 0!==j.mipmaps&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?F.mipmaps.length:1}function B(j){return j===Hi||1004===j||1005===j?n.NEAREST:n.LINEAR}function Q(j){const F=j.target;F.removeEventListener("dispose",Q),function fe(j){const F=i.get(j);if(void 0===F.__webglInit)return;const ce=j.source,Be=v.get(ce);if(Be){const Pe=Be[F.__cacheKey];Pe.usedTimes--,0===Pe.usedTimes&&X(j),0===Object.keys(Be).length&&v.delete(ce)}i.remove(j)}(F),F.isVideoTexture&&m.delete(F)}function he(j){const F=j.target;F.removeEventListener("dispose",he),function se(j){const F=j.texture,ce=i.get(j),Be=i.get(F);if(void 0!==Be.__webglTexture&&(n.deleteTexture(Be.__webglTexture),o.memory.textures--),j.depthTexture&&j.depthTexture.dispose(),j.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++){if(Array.isArray(ce.__webglFramebuffer[Pe]))for(let Ve=0;Ve<ce.__webglFramebuffer[Pe].length;Ve++)n.deleteFramebuffer(ce.__webglFramebuffer[Pe][Ve]);else n.deleteFramebuffer(ce.__webglFramebuffer[Pe]);ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer[Pe])}else{if(Array.isArray(ce.__webglFramebuffer))for(let Pe=0;Pe<ce.__webglFramebuffer.length;Pe++)n.deleteFramebuffer(ce.__webglFramebuffer[Pe]);else n.deleteFramebuffer(ce.__webglFramebuffer);if(ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let Pe=0;Pe<ce.__webglColorRenderbuffer.length;Pe++)ce.__webglColorRenderbuffer[Pe]&&n.deleteRenderbuffer(ce.__webglColorRenderbuffer[Pe]);ce.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(j.isWebGLMultipleRenderTargets)for(let Pe=0,Ve=F.length;Pe<Ve;Pe++){const Mt=i.get(F[Pe]);Mt.__webglTexture&&(n.deleteTexture(Mt.__webglTexture),o.memory.textures--),i.remove(F[Pe])}i.remove(F),i.remove(j)}(F)}function X(j){const F=i.get(j);n.deleteTexture(F.__webglTexture),delete v.get(j.source)[F.__cacheKey],o.memory.textures--}let de=0;function Se(j,F){const ce=i.get(j);if(j.isVideoTexture&&function rn(j){const F=o.render.frame;m.get(j)!==F&&(m.set(j,F),j.update())}(j),!1===j.isRenderTargetTexture&&j.version>0&&ce.__version!==j.version){const Be=j.image;if(null===Be)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Be.complete)return void tn(ce,j,F);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+F)}const ze={[Fl]:n.REPEAT,[Ur]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},Ge={[Hi]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[Ei]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[za]:n.LINEAR_MIPMAP_LINEAR},ut={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function ft(j,F,ce){if(ce?(n.texParameteri(j,n.TEXTURE_WRAP_S,ze[F.wrapS]),n.texParameteri(j,n.TEXTURE_WRAP_T,ze[F.wrapT]),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,ze[F.wrapR]),n.texParameteri(j,n.TEXTURE_MAG_FILTER,Ge[F.magFilter]),n.texParameteri(j,n.TEXTURE_MIN_FILTER,Ge[F.minFilter])):(n.texParameteri(j,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(j,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(F.wrapS!==Ur||F.wrapT!==Ur)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(j,n.TEXTURE_MAG_FILTER,B(F.magFilter)),n.texParameteri(j,n.TEXTURE_MIN_FILTER,B(F.minFilter)),F.minFilter!==Hi&&F.minFilter!==Ei&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F.compareFunction&&(n.texParameteri(j,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(j,n.TEXTURE_COMPARE_FUNC,ut[F.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const Be=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===Hi||1005!==F.minFilter&&F.minFilter!==za||F.type===ja&&!1===e.has("OES_texture_float_linear")||!1===a&&F.type===zp&&!1===e.has("OES_texture_half_float_linear"))return;(F.anisotropy>1||i.get(F).__currentAnisotropy)&&(n.texParameterf(j,Be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy)}}function lt(j,F){let ce=!1;void 0===j.__webglInit&&(j.__webglInit=!0,F.addEventListener("dispose",Q));const Be=F.source;let Pe=v.get(Be);void 0===Pe&&(Pe={},v.set(Be,Pe));const Ve=function me(j){const F=[];return F.push(j.wrapS),F.push(j.wrapT),F.push(j.wrapR||0),F.push(j.magFilter),F.push(j.minFilter),F.push(j.anisotropy),F.push(j.internalFormat),F.push(j.format),F.push(j.type),F.push(j.generateMipmaps),F.push(j.premultiplyAlpha),F.push(j.flipY),F.push(j.unpackAlignment),F.push(j.colorSpace),F.join()}(F);if(Ve!==j.__cacheKey){void 0===Pe[Ve]&&(Pe[Ve]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ce=!0),Pe[Ve].usedTimes++;const Mt=Pe[j.__cacheKey];void 0!==Mt&&(Pe[j.__cacheKey].usedTimes--,0===Mt.usedTimes&&X(F)),j.__cacheKey=Ve,j.__webglTexture=Pe[Ve].texture}return ce}function tn(j,F,ce){let Be=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Be=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(Be=n.TEXTURE_3D);const Pe=lt(j,F),Ve=F.source;t.bindTexture(Be,j.__webglTexture,n.TEXTURE0+ce);const Mt=i.get(Ve);if(Ve.version!==Mt.__version||!0===Pe){t.activeTexture(n.TEXTURE0+ce);const $e=Gn.getPrimaries(Gn.workingColorSpace),ot=""===F.colorSpace?null:Gn.getPrimaries(F.colorSpace),Y=""===F.colorSpace||$e===ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Y);const qe=function O(j){return!a&&(j.wrapS!==Ur||j.wrapT!==Ur||j.minFilter!==Hi&&j.minFilter!==Ei)}(F)&&!1===A(F.image);let Ae=S(F.image,qe,!1,u);Ae=ti(F,Ae);const zt=A(Ae)||a,Et=s.convert(F.format,F.colorSpace);let q,Ot=s.convert(F.type),St=V(F.internalFormat,Et,Ot,F.colorSpace,F.isVideoTexture);ft(Be,F,zt);const Je=F.mipmaps,Xe=a&&!0!==F.isVideoTexture,it=void 0===Mt.__version||!0===Pe,Ke=R(F,Ae,zt);if(F.isDepthTexture)St=n.DEPTH_COMPONENT,a?St=F.type===ja?n.DEPTH_COMPONENT32F:F.type===Bc?n.DEPTH_COMPONENT24:F.type===Bl?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:F.type===ja&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===Ul&&St===n.DEPTH_COMPONENT&&1012!==F.type&&F.type!==Bc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=Bc,Ot=s.convert(F.type)),F.format===nh&&St===n.DEPTH_COMPONENT&&(St=n.DEPTH_STENCIL,F.type!==Bl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=Bl,Ot=s.convert(F.type))),it&&(Xe?t.texStorage2D(n.TEXTURE_2D,1,St,Ae.width,Ae.height):t.texImage2D(n.TEXTURE_2D,0,St,Ae.width,Ae.height,0,Et,Ot,null));else if(F.isDataTexture)if(Je.length>0&&zt){Xe&&it&&t.texStorage2D(n.TEXTURE_2D,Ke,St,Je[0].width,Je[0].height);for(let Re=0,wt=Je.length;Re<wt;Re++)q=Je[Re],Xe?t.texSubImage2D(n.TEXTURE_2D,Re,0,0,q.width,q.height,Et,Ot,q.data):t.texImage2D(n.TEXTURE_2D,Re,St,q.width,q.height,0,Et,Ot,q.data);F.generateMipmaps=!1}else Xe?(it&&t.texStorage2D(n.TEXTURE_2D,Ke,St,Ae.width,Ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ae.width,Ae.height,Et,Ot,Ae.data)):t.texImage2D(n.TEXTURE_2D,0,St,Ae.width,Ae.height,0,Et,Ot,Ae.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Xe&&it&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ke,St,Je[0].width,Je[0].height,Ae.depth);for(let Re=0,wt=Je.length;Re<wt;Re++)q=Je[Re],F.format!==lo?null!==Et?Xe?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Re,0,0,0,q.width,q.height,Ae.depth,Et,q.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Re,St,q.width,q.height,Ae.depth,0,q.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xe?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Re,0,0,0,q.width,q.height,Ae.depth,Et,Ot,q.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Re,St,q.width,q.height,Ae.depth,0,Et,Ot,q.data)}else{Xe&&it&&t.texStorage2D(n.TEXTURE_2D,Ke,St,Je[0].width,Je[0].height);for(let Re=0,wt=Je.length;Re<wt;Re++)q=Je[Re],F.format!==lo?null!==Et?Xe?t.compressedTexSubImage2D(n.TEXTURE_2D,Re,0,0,q.width,q.height,Et,q.data):t.compressedTexImage2D(n.TEXTURE_2D,Re,St,q.width,q.height,0,q.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xe?t.texSubImage2D(n.TEXTURE_2D,Re,0,0,q.width,q.height,Et,Ot,q.data):t.texImage2D(n.TEXTURE_2D,Re,St,q.width,q.height,0,Et,Ot,q.data)}else if(F.isDataArrayTexture)Xe?(it&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ke,St,Ae.width,Ae.height,Ae.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,Et,Ot,Ae.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,St,Ae.width,Ae.height,Ae.depth,0,Et,Ot,Ae.data);else if(F.isData3DTexture)Xe?(it&&t.texStorage3D(n.TEXTURE_3D,Ke,St,Ae.width,Ae.height,Ae.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,Et,Ot,Ae.data)):t.texImage3D(n.TEXTURE_3D,0,St,Ae.width,Ae.height,Ae.depth,0,Et,Ot,Ae.data);else if(F.isFramebufferTexture){if(it)if(Xe)t.texStorage2D(n.TEXTURE_2D,Ke,St,Ae.width,Ae.height);else{let Re=Ae.width,wt=Ae.height;for(let $t=0;$t<Ke;$t++)t.texImage2D(n.TEXTURE_2D,$t,St,Re,wt,0,Et,Ot,null),Re>>=1,wt>>=1}}else if(Je.length>0&&zt){Xe&&it&&t.texStorage2D(n.TEXTURE_2D,Ke,St,Je[0].width,Je[0].height);for(let Re=0,wt=Je.length;Re<wt;Re++)q=Je[Re],Xe?t.texSubImage2D(n.TEXTURE_2D,Re,0,0,Et,Ot,q):t.texImage2D(n.TEXTURE_2D,Re,St,Et,Ot,q);F.generateMipmaps=!1}else Xe?(it&&t.texStorage2D(n.TEXTURE_2D,Ke,St,Ae.width,Ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Et,Ot,Ae)):t.texImage2D(n.TEXTURE_2D,0,St,Et,Ot,Ae);L(F,zt)&&N(Be),Mt.__version=Ve.version,F.onUpdate&&F.onUpdate(F)}j.__version=F.version}function yt(j,F,ce,Be,Pe,Ve){const Mt=s.convert(ce.format,ce.colorSpace),$e=s.convert(ce.type),ot=V(ce.internalFormat,Mt,$e,ce.colorSpace);if(!i.get(F).__hasExternalTextures){const qe=Math.max(1,F.width>>Ve),Ae=Math.max(1,F.height>>Ve);Pe===n.TEXTURE_3D||Pe===n.TEXTURE_2D_ARRAY?t.texImage3D(Pe,Ve,ot,qe,Ae,F.depth,0,Mt,$e,null):t.texImage2D(Pe,Ve,ot,qe,Ae,0,Mt,$e,null)}t.bindFramebuffer(n.FRAMEBUFFER,j),Tt(F)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Be,Pe,i.get(ce).__webglTexture,0,pt(F)):(Pe===n.TEXTURE_2D||Pe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Pe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Be,Pe,i.get(ce).__webglTexture,Ve),t.bindFramebuffer(n.FRAMEBUFFER,null)}function k(j,F,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,j),F.depthBuffer&&!F.stencilBuffer){let Be=!0===a?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(ce||Tt(F)){const Pe=F.depthTexture;Pe&&Pe.isDepthTexture&&(Pe.type===ja?Be=n.DEPTH_COMPONENT32F:Pe.type===Bc&&(Be=n.DEPTH_COMPONENT24));const Ve=pt(F);Tt(F)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ve,Be,F.width,F.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ve,Be,F.width,F.height)}else n.renderbufferStorage(n.RENDERBUFFER,Be,F.width,F.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,j)}else if(F.depthBuffer&&F.stencilBuffer){const Be=pt(F);ce&&!1===Tt(F)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Be,n.DEPTH24_STENCIL8,F.width,F.height):Tt(F)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Be,n.DEPTH24_STENCIL8,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,j)}else{const Be=!0===F.isWebGLMultipleRenderTargets?F.texture:[F.texture];for(let Pe=0;Pe<Be.length;Pe++){const Ve=Be[Pe],Mt=s.convert(Ve.format,Ve.colorSpace),$e=s.convert(Ve.type),ot=V(Ve.internalFormat,Mt,$e,Ve.colorSpace),Y=pt(F);ce&&!1===Tt(F)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Y,ot,F.width,F.height):Tt(F)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Y,ot,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,ot,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Me(j){const F=i.get(j),ce=!0===j.isWebGLCubeRenderTarget;if(j.depthTexture&&!F.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");!function ke(j,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,j),!F.depthTexture||!F.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),Se(F.depthTexture,0);const Be=i.get(F.depthTexture).__webglTexture,Pe=pt(F);if(F.depthTexture.format===Ul)Tt(F)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Be,0,Pe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Be,0);else{if(F.depthTexture.format!==nh)throw new Error("Unknown depthTexture format");Tt(F)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Be,0,Pe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Be,0)}}(F.__webglFramebuffer,j)}else if(ce){F.__webglDepthbuffer=[];for(let Be=0;Be<6;Be++)t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[Be]),F.__webglDepthbuffer[Be]=n.createRenderbuffer(),k(F.__webglDepthbuffer[Be],j,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),k(F.__webglDepthbuffer,j,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function pt(j){return Math.min(d,j.samples)}function Tt(j){const F=i.get(j);return a&&j.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==F.__useRenderToTexture}function ti(j,F){const ce=j.colorSpace,Be=j.format,Pe=j.type;return!0===j.isCompressedTexture||!0===j.isVideoTexture||1035===j.format||ce!==Tr&&""!==ce&&(Gn.getTransfer(ce)===li?!1===a?!0===e.has("EXT_sRGB")&&Be===lo?(j.format=1035,j.minFilter=Ei,j.generateMipmaps=!1):F=tN.sRGBToLinear(F):(Be!==lo||Pe!==Fc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),F}this.allocateTextureUnit=function Le(){const j=de;return j>=c&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+c),de+=1,j},this.resetTextureUnits=function pe(){de=0},this.setTexture2D=Se,this.setTexture2DArray=function ee(j,F){const ce=i.get(j);j.version>0&&ce.__version!==j.version?tn(ce,j,F):t.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+F)},this.setTexture3D=function _e(j,F){const ce=i.get(j);j.version>0&&ce.__version!==j.version?tn(ce,j,F):t.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+F)},this.setTextureCube=function Ue(j,F){const ce=i.get(j);j.version>0&&ce.__version!==j.version?function gn(j,F,ce){if(6!==F.image.length)return;const Be=lt(j,F),Pe=F.source;t.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+ce);const Ve=i.get(Pe);if(Pe.version!==Ve.__version||!0===Be){t.activeTexture(n.TEXTURE0+ce);const Mt=Gn.getPrimaries(Gn.workingColorSpace),$e=""===F.colorSpace?null:Gn.getPrimaries(F.colorSpace),ot=""===F.colorSpace||Mt===$e?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);const Y=F.isCompressedTexture||F.image[0].isCompressedTexture,qe=F.image[0]&&F.image[0].isDataTexture,Ae=[];for(let Re=0;Re<6;Re++)Ae[Re]=Y||qe?qe?F.image[Re].image:F.image[Re]:S(F.image[Re],!1,!0,l),Ae[Re]=ti(F,Ae[Re]);const zt=Ae[0],Et=A(zt)||a,Ot=s.convert(F.format,F.colorSpace),St=s.convert(F.type),q=V(F.internalFormat,Ot,St,F.colorSpace),Je=a&&!0!==F.isVideoTexture,Xe=void 0===Ve.__version||!0===Be;let Ke,it=R(F,zt,Et);if(ft(n.TEXTURE_CUBE_MAP,F,Et),Y){Je&&Xe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,it,q,zt.width,zt.height);for(let Re=0;Re<6;Re++){Ke=Ae[Re].mipmaps;for(let wt=0;wt<Ke.length;wt++){const $t=Ke[wt];F.format!==lo?null!==Ot?Je?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,wt,0,0,$t.width,$t.height,Ot,$t.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,wt,q,$t.width,$t.height,0,$t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Je?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,wt,0,0,$t.width,$t.height,Ot,St,$t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,wt,q,$t.width,$t.height,0,Ot,St,$t.data)}}}else{Ke=F.mipmaps,Je&&Xe&&(Ke.length>0&&it++,t.texStorage2D(n.TEXTURE_CUBE_MAP,it,q,Ae[0].width,Ae[0].height));for(let Re=0;Re<6;Re++)if(qe){Je?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,0,0,Ae[Re].width,Ae[Re].height,Ot,St,Ae[Re].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,q,Ae[Re].width,Ae[Re].height,0,Ot,St,Ae[Re].data);for(let wt=0;wt<Ke.length;wt++){const $i=Ke[wt].image[Re].image;Je?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,wt+1,0,0,$i.width,$i.height,Ot,St,$i.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,wt+1,q,$i.width,$i.height,0,Ot,St,$i.data)}}else{Je?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,0,0,Ot,St,Ae[Re]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,q,Ot,St,Ae[Re]);for(let wt=0;wt<Ke.length;wt++){const $t=Ke[wt];Je?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,wt+1,0,0,Ot,St,$t.image[Re]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Re,wt+1,q,Ot,St,$t.image[Re])}}}L(F,Et)&&N(n.TEXTURE_CUBE_MAP),Ve.__version=Pe.version,F.onUpdate&&F.onUpdate(F)}j.__version=F.version}(ce,j,F):t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+F)},this.rebindTextures=function He(j,F,ce){const Be=i.get(j);void 0!==F&&yt(Be.__webglFramebuffer,j,j.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==ce&&Me(j)},this.setupRenderTarget=function Ee(j){const F=j.texture,ce=i.get(j),Be=i.get(F);j.addEventListener("dispose",he),!0!==j.isWebGLMultipleRenderTargets&&(void 0===Be.__webglTexture&&(Be.__webglTexture=n.createTexture()),Be.__version=F.version,o.memory.textures++);const Pe=!0===j.isWebGLCubeRenderTarget,Ve=!0===j.isWebGLMultipleRenderTargets,Mt=A(j)||a;if(Pe){ce.__webglFramebuffer=[];for(let $e=0;$e<6;$e++)if(a&&F.mipmaps&&F.mipmaps.length>0){ce.__webglFramebuffer[$e]=[];for(let ot=0;ot<F.mipmaps.length;ot++)ce.__webglFramebuffer[$e][ot]=n.createFramebuffer()}else ce.__webglFramebuffer[$e]=n.createFramebuffer()}else{if(a&&F.mipmaps&&F.mipmaps.length>0){ce.__webglFramebuffer=[];for(let $e=0;$e<F.mipmaps.length;$e++)ce.__webglFramebuffer[$e]=n.createFramebuffer()}else ce.__webglFramebuffer=n.createFramebuffer();if(Ve)if(r.drawBuffers){const $e=j.texture;for(let ot=0,Y=$e.length;ot<Y;ot++){const qe=i.get($e[ot]);void 0===qe.__webglTexture&&(qe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&j.samples>0&&!1===Tt(j)){const $e=Ve?F:[F];ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let ot=0;ot<$e.length;ot++){const Y=$e[ot];ce.__webglColorRenderbuffer[ot]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[ot]);const qe=s.convert(Y.format,Y.colorSpace),Ae=s.convert(Y.type),zt=V(Y.internalFormat,qe,Ae,Y.colorSpace,!0===j.isXRRenderTarget),Et=pt(j);n.renderbufferStorageMultisample(n.RENDERBUFFER,Et,zt,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,ce.__webglColorRenderbuffer[ot])}n.bindRenderbuffer(n.RENDERBUFFER,null),j.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),k(ce.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Pe){t.bindTexture(n.TEXTURE_CUBE_MAP,Be.__webglTexture),ft(n.TEXTURE_CUBE_MAP,F,Mt);for(let $e=0;$e<6;$e++)if(a&&F.mipmaps&&F.mipmaps.length>0)for(let ot=0;ot<F.mipmaps.length;ot++)yt(ce.__webglFramebuffer[$e][ot],j,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,ot);else yt(ce.__webglFramebuffer[$e],j,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0);L(F,Mt)&&N(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ve){const $e=j.texture;for(let ot=0,Y=$e.length;ot<Y;ot++){const qe=$e[ot],Ae=i.get(qe);t.bindTexture(n.TEXTURE_2D,Ae.__webglTexture),ft(n.TEXTURE_2D,qe,Mt),yt(ce.__webglFramebuffer,j,qe,n.COLOR_ATTACHMENT0+ot,n.TEXTURE_2D,0),L(qe,Mt)&&N(n.TEXTURE_2D)}t.unbindTexture()}else{let $e=n.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(a?$e=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture($e,Be.__webglTexture),ft($e,F,Mt),a&&F.mipmaps&&F.mipmaps.length>0)for(let ot=0;ot<F.mipmaps.length;ot++)yt(ce.__webglFramebuffer[ot],j,F,n.COLOR_ATTACHMENT0,$e,ot);else yt(ce.__webglFramebuffer,j,F,n.COLOR_ATTACHMENT0,$e,0);L(F,Mt)&&N($e),t.unbindTexture()}j.depthBuffer&&Me(j)},this.updateRenderTargetMipmap=function xt(j){const F=A(j)||a,ce=!0===j.isWebGLMultipleRenderTargets?j.texture:[j.texture];for(let Be=0,Pe=ce.length;Be<Pe;Be++){const Ve=ce[Be];if(L(Ve,F)){const Mt=j.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,$e=i.get(Ve).__webglTexture;t.bindTexture(Mt,$e),N(Mt),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function dt(j){if(a&&j.samples>0&&!1===Tt(j)){const F=j.isWebGLMultipleRenderTargets?j.texture:[j.texture],ce=j.width,Be=j.height;let Pe=n.COLOR_BUFFER_BIT;const Ve=[],Mt=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,$e=i.get(j),ot=!0===j.isWebGLMultipleRenderTargets;if(ot)for(let Y=0;Y<F.length;Y++)t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,$e.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$e.__webglFramebuffer);for(let Y=0;Y<F.length;Y++){Ve.push(n.COLOR_ATTACHMENT0+Y),j.depthBuffer&&Ve.push(Mt);const qe=void 0!==$e.__ignoreDepthValues&&$e.__ignoreDepthValues;if(!1===qe&&(j.depthBuffer&&(Pe|=n.DEPTH_BUFFER_BIT),j.stencilBuffer&&(Pe|=n.STENCIL_BUFFER_BIT)),ot&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,$e.__webglColorRenderbuffer[Y]),!0===qe&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Mt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Mt])),ot){const Ae=i.get(F[Y]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ae,0)}n.blitFramebuffer(0,0,ce,Be,0,0,ce,Be,Pe,n.NEAREST),p&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ve)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ot)for(let Y=0;Y<F.length;Y++){t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.RENDERBUFFER,$e.__webglColorRenderbuffer[Y]);const qe=i.get(F[Y]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,$e.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.TEXTURE_2D,qe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$e.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Me,this.setupFrameBufferTexture=yt,this.useMultisampledRTT=Tt}function ZZ(n,e,t){const i=t.isWebGL2;return{convert:function r(s,o=""){let a;const c=Gn.getTransfer(o);if(s===Fc)return n.UNSIGNED_BYTE;if(1017===s)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return n.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return n.BYTE;if(1011===s)return n.SHORT;if(1012===s)return n.UNSIGNED_SHORT;if(1013===s)return n.INT;if(s===Bc)return n.UNSIGNED_INT;if(s===ja)return n.FLOAT;if(s===zp)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===s)return n.ALPHA;if(s===lo)return n.RGBA;if(1024===s)return n.LUMINANCE;if(1025===s)return n.LUMINANCE_ALPHA;if(s===Ul)return n.DEPTH_COMPONENT;if(s===nh)return n.DEPTH_STENCIL;if(1035===s)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===s)return n.RED;if(1029===s)return n.RED_INTEGER;if(1030===s)return n.RG;if(1031===s)return n.RG_INTEGER;if(1033===s)return n.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(c===li){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===s)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===s)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===s)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===s)return c===li?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return c===li?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s||36494===s||36495===s){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===s)return c===li?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===s)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===s)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===s||36284===s||36285===s||36286===s){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(36492===s)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===Bl?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class JZ extends fr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class qc extends ur{constructor(){super(),this.isGroup=!0,this.type="Group"}}const KZ={type:"move"};class Ex{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new qc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new qc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new U,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new U),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new qc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new U,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new U),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,c=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const y of e.hand.values()){const v=t.getJointPose(y,i),_=this._getHandJoint(l,y);null!==v&&(_.matrix.fromArray(v.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=v.radius),_.visible=null!==v}const f=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),p=.02,m=.005;l.inputState.pinching&&f>p+m?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&f<=p-m&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==c&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(KZ)))}return null!==a&&(a.visible=null!==r),null!==c&&(c.visible=null!==s),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new qc;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class QZ extends Fo{constructor(e,t,i,r,s,o,a,c,l,u){if((u=void 0!==u?u:Ul)!==Ul&&u!==nh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===Ul&&(i=Bc),void 0===i&&u===nh&&(i=Bl),super(null,r,s,o,a,c,u,i,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:Hi,this.minFilter=void 0!==c?c:Hi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class eJ extends Uc{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",c=1,l=null,u=null,d=null,f=null,p=null,m=null;const y=t.getContextAttributes();let v=null,_=null;const M=[],S=[],A=new fr;A.layers.enable(1),A.viewport=new Jn;const O=new fr;O.layers.enable(2),O.viewport=new Jn;const L=[A,O],N=new JZ;N.layers.enable(1),N.layers.enable(2);let V=null,R=null;function B(ee){const _e=S.indexOf(ee.inputSource);if(-1===_e)return;const Ue=M[_e];void 0!==Ue&&(Ue.update(ee.inputSource,ee.frame,l||o),Ue.dispatchEvent({type:ee.type,data:ee.inputSource}))}function Q(){r.removeEventListener("select",B),r.removeEventListener("selectstart",B),r.removeEventListener("selectend",B),r.removeEventListener("squeeze",B),r.removeEventListener("squeezestart",B),r.removeEventListener("squeezeend",B),r.removeEventListener("end",Q),r.removeEventListener("inputsourceschange",he);for(let ee=0;ee<M.length;ee++){const _e=S[ee];null!==_e&&(S[ee]=null,M[ee].disconnect(_e))}V=null,R=null,e.setRenderTarget(v),p=null,f=null,d=null,r=null,_=null,Se.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function he(ee){for(let _e=0;_e<ee.removed.length;_e++){const Ue=ee.removed[_e],ze=S.indexOf(Ue);ze>=0&&(S[ze]=null,M[ze].disconnect(Ue))}for(let _e=0;_e<ee.added.length;_e++){const Ue=ee.added[_e];let ze=S.indexOf(Ue);if(-1===ze){for(let ut=0;ut<M.length;ut++){if(ut>=S.length){S.push(Ue),ze=ut;break}if(null===S[ut]){S[ut]=Ue,ze=ut;break}}if(-1===ze)break}const Ge=M[ze];Ge&&Ge.connect(Ue)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let _e=M[ee];return void 0===_e&&(_e=new Ex,M[ee]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(ee){let _e=M[ee];return void 0===_e&&(_e=new Ex,M[ee]=_e),_e.getGripSpace()},this.getHand=function(ee){let _e=M[ee];return void 0===_e&&(_e=new Ex,M[ee]=_e),_e.getHandSpace()},this.setFramebufferScaleFactor=function(ee){s=ee,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){a=ee,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(ee){l=ee},this.getBaseLayer=function(){return null!==f?f:p},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=function(){var ee=Jd(function*(_e){if(r=_e,null!==r){if(v=e.getRenderTarget(),r.addEventListener("select",B),r.addEventListener("selectstart",B),r.addEventListener("selectend",B),r.addEventListener("squeeze",B),r.addEventListener("squeezestart",B),r.addEventListener("squeezeend",B),r.addEventListener("end",Q),r.addEventListener("inputsourceschange",he),!0!==y.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)p=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:p}),_=new zl(p.framebufferWidth,p.framebufferHeight,{format:lo,type:Fc,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil});else{let Ue=null,ze=null,Ge=null;y.depth&&(Ge=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ue=y.stencil?nh:Ul,ze=y.stencil?Bl:Bc);const ut={colorFormat:t.RGBA8,depthFormat:Ge,scaleFactor:s};d=new XRWebGLBinding(r,t),f=d.createProjectionLayer(ut),r.updateRenderState({layers:[f]}),_=new zl(f.textureWidth,f.textureHeight,{format:lo,type:Fc,depthTexture:new QZ(f.textureWidth,f.textureHeight,ze,void 0,void 0,void 0,void 0,void 0,void 0,Ue),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0}),e.properties.get(_).__ignoreDepthValues=f.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(c),l=null,o=yield r.requestReferenceSpace(a),Se.setContext(r),Se.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(_e){return ee.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const fe=new U,X=new U;function de(ee,_e){null===_e?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(_e.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(null===r)return;N.near=O.near=A.near=ee.near,N.far=O.far=A.far=ee.far,(V!==N.near||R!==N.far)&&(r.updateRenderState({depthNear:N.near,depthFar:N.far}),V=N.near,R=N.far);const _e=ee.parent,Ue=N.cameras;de(N,_e);for(let ze=0;ze<Ue.length;ze++)de(Ue[ze],_e);2===Ue.length?function se(ee,_e,Ue){fe.setFromMatrixPosition(_e.matrixWorld),X.setFromMatrixPosition(Ue.matrixWorld);const ze=fe.distanceTo(X),Ge=_e.projectionMatrix.elements,ut=Ue.projectionMatrix.elements,ft=Ge[14]/(Ge[10]-1),lt=Ge[14]/(Ge[10]+1),tn=(Ge[9]+1)/Ge[5],gn=(Ge[9]-1)/Ge[5],yt=(Ge[8]-1)/Ge[0],k=(ut[8]+1)/ut[0],ke=ft*yt,Me=ft*k,He=ze/(-yt+k),Ee=He*-yt;_e.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(Ee),ee.translateZ(He),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const xt=ft+He,dt=lt+He;ee.projectionMatrix.makePerspective(ke-Ee,Me+(ze-Ee),tn*lt/dt*xt,gn*lt/dt*xt,xt,dt),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}(N,A,O):N.projectionMatrix.copy(A.projectionMatrix),function pe(ee,_e,Ue){null===Ue?ee.matrix.copy(_e.matrixWorld):(ee.matrix.copy(Ue.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(_e.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(_e.projectionMatrix),ee.projectionMatrixInverse.copy(_e.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=2*oh*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}(ee,N,_e)},this.getCamera=function(){return N},this.getFoveation=function(){if(null!==f||null!==p)return c},this.setFoveation=function(ee){c=ee,null!==f&&(f.fixedFoveation=ee),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=ee)};let Le=null;const Se=new bN;Se.setAnimationLoop(function me(ee,_e){if(u=_e.getViewerPose(l||o),m=_e,null!==u){const Ue=u.views;null!==p&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let ze=!1;Ue.length!==N.cameras.length&&(N.cameras.length=0,ze=!0);for(let Ge=0;Ge<Ue.length;Ge++){const ut=Ue[Ge];let ft=null;if(null!==p)ft=p.getViewport(ut);else{const tn=d.getViewSubImage(f,ut);ft=tn.viewport,0===Ge&&(e.setRenderTargetTextures(_,tn.colorTexture,f.ignoreDepthValues?void 0:tn.depthStencilTexture),e.setRenderTarget(_))}let lt=L[Ge];void 0===lt&&(lt=new fr,lt.layers.enable(Ge),lt.viewport=new Jn,L[Ge]=lt),lt.matrix.fromArray(ut.transform.matrix),lt.matrix.decompose(lt.position,lt.quaternion,lt.scale),lt.projectionMatrix.fromArray(ut.projectionMatrix),lt.projectionMatrixInverse.copy(lt.projectionMatrix).invert(),lt.viewport.set(ft.x,ft.y,ft.width,ft.height),0===Ge&&(N.matrix.copy(lt.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),!0===ze&&N.cameras.push(lt)}}for(let Ue=0;Ue<M.length;Ue++){const ze=S[Ue],Ge=M[Ue];null!==ze&&void 0!==Ge&&Ge.update(ze,_e,l||o)}Le&&Le(ee,_e),_e.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:_e}),m=null}),this.setAnimationLoop=function(ee){Le=ee},this.dispose=function(){}}}function tJ(n,e){function t(v,_){!0===v.matrixAutoUpdate&&v.updateMatrix(),_.value.copy(v.matrix)}function s(v,_){v.opacity.value=_.opacity,_.color&&v.diffuse.value.copy(_.color),_.emissive&&v.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(v.map.value=_.map,t(_.map,v.mapTransform)),_.alphaMap&&(v.alphaMap.value=_.alphaMap,t(_.alphaMap,v.alphaMapTransform)),_.bumpMap&&(v.bumpMap.value=_.bumpMap,t(_.bumpMap,v.bumpMapTransform),v.bumpScale.value=_.bumpScale,1===_.side&&(v.bumpScale.value*=-1)),_.normalMap&&(v.normalMap.value=_.normalMap,t(_.normalMap,v.normalMapTransform),v.normalScale.value.copy(_.normalScale),1===_.side&&v.normalScale.value.negate()),_.displacementMap&&(v.displacementMap.value=_.displacementMap,t(_.displacementMap,v.displacementMapTransform),v.displacementScale.value=_.displacementScale,v.displacementBias.value=_.displacementBias),_.emissiveMap&&(v.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,v.emissiveMapTransform)),_.specularMap&&(v.specularMap.value=_.specularMap,t(_.specularMap,v.specularMapTransform)),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);const M=e.get(_).envMap;if(M&&(v.envMap.value=M,v.flipEnvMap.value=M.isCubeTexture&&!1===M.isRenderTargetTexture?-1:1,v.reflectivity.value=_.reflectivity,v.ior.value=_.ior,v.refractionRatio.value=_.refractionRatio),_.lightMap){v.lightMap.value=_.lightMap;const S=!0===n._useLegacyLights?Math.PI:1;v.lightMapIntensity.value=_.lightMapIntensity*S,t(_.lightMap,v.lightMapTransform)}_.aoMap&&(v.aoMap.value=_.aoMap,v.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,v.aoMapTransform))}return{refreshFogUniforms:function i(v,_){_.color.getRGB(v.fogColor.value,yN(n)),_.isFog?(v.fogNear.value=_.near,v.fogFar.value=_.far):_.isFogExp2&&(v.fogDensity.value=_.density)},refreshMaterialUniforms:function r(v,_,M,S,A){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(v,_):_.isMeshToonMaterial?(s(v,_),function d(v,_){_.gradientMap&&(v.gradientMap.value=_.gradientMap)}(v,_)):_.isMeshPhongMaterial?(s(v,_),function u(v,_){v.specular.value.copy(_.specular),v.shininess.value=Math.max(_.shininess,1e-4)}(v,_)):_.isMeshStandardMaterial?(s(v,_),function f(v,_){v.metalness.value=_.metalness,_.metalnessMap&&(v.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,v.metalnessMapTransform)),v.roughness.value=_.roughness,_.roughnessMap&&(v.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,v.roughnessMapTransform)),e.get(_).envMap&&(v.envMapIntensity.value=_.envMapIntensity)}(v,_),_.isMeshPhysicalMaterial&&function p(v,_,M){v.ior.value=_.ior,_.sheen>0&&(v.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),v.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(v.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,v.sheenColorMapTransform)),_.sheenRoughnessMap&&(v.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,v.sheenRoughnessMapTransform))),_.clearcoat>0&&(v.clearcoat.value=_.clearcoat,v.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(v.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,v.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(v.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),1===_.side&&v.clearcoatNormalScale.value.negate())),_.iridescence>0&&(v.iridescence.value=_.iridescence,v.iridescenceIOR.value=_.iridescenceIOR,v.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(v.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,v.iridescenceMapTransform)),_.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),_.transmission>0&&(v.transmission.value=_.transmission,v.transmissionSamplerMap.value=M.texture,v.transmissionSamplerSize.value.set(M.width,M.height),_.transmissionMap&&(v.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,v.transmissionMapTransform)),v.thickness.value=_.thickness,_.thicknessMap&&(v.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=_.attenuationDistance,v.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(v.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(v.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=_.specularIntensity,v.specularColor.value.copy(_.specularColor),_.specularColorMap&&(v.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,v.specularColorMapTransform)),_.specularIntensityMap&&(v.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,v.specularIntensityMapTransform))}(v,_,A)):_.isMeshMatcapMaterial?(s(v,_),function m(v,_){_.matcap&&(v.matcap.value=_.matcap)}(v,_)):_.isMeshDepthMaterial?s(v,_):_.isMeshDistanceMaterial?(s(v,_),function y(v,_){const M=e.get(_).light;v.referencePosition.value.setFromMatrixPosition(M.matrixWorld),v.nearDistance.value=M.shadow.camera.near,v.farDistance.value=M.shadow.camera.far}(v,_)):_.isMeshNormalMaterial?s(v,_):_.isLineBasicMaterial?(function o(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,_.map&&(v.map.value=_.map,t(_.map,v.mapTransform))}(v,_),_.isLineDashedMaterial&&function a(v,_){v.dashSize.value=_.dashSize,v.totalSize.value=_.dashSize+_.gapSize,v.scale.value=_.scale}(v,_)):_.isPointsMaterial?function c(v,_,M,S){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.size.value=_.size*M,v.scale.value=.5*S,_.map&&(v.map.value=_.map,t(_.map,v.uvTransform)),_.alphaMap&&(v.alphaMap.value=_.alphaMap,t(_.alphaMap,v.alphaMapTransform)),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest)}(v,_,M,S):_.isSpriteMaterial?function l(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.rotation.value=_.rotation,_.map&&(v.map.value=_.map,t(_.map,v.mapTransform)),_.alphaMap&&(v.alphaMap.value=_.alphaMap,t(_.alphaMap,v.alphaMapTransform)),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest)}(v,_):_.isShadowMaterial?(v.color.value.copy(_.color),v.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}}}function nJ(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function p(M,S,A){const O=M.value;if(void 0===A[S]){if("number"==typeof O)A[S]=O;else{const L=Array.isArray(O)?O:[O],N=[];for(let V=0;V<L.length;V++)N.push(L[V].clone());A[S]=N}return!0}if("number"==typeof O){if(A[S]!==O)return A[S]=O,!0}else{const L=Array.isArray(A[S])?A[S]:[A[S]],N=Array.isArray(O)?O:[O];for(let V=0;V<L.length;V++){const R=L[V];if(!1===R.equals(N[V]))return R.copy(N[V]),!0}}return!1}function y(M){const S={boundary:0,storage:0};return"number"==typeof M?(S.boundary=4,S.storage=4):M.isVector2?(S.boundary=8,S.storage=8):M.isVector3||M.isColor?(S.boundary=16,S.storage=12):M.isVector4?(S.boundary=16,S.storage=16):M.isMatrix3?(S.boundary=48,S.storage=48):M.isMatrix4?(S.boundary=64,S.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),S}function v(M){const S=M.target;S.removeEventListener("dispose",v);const A=o.indexOf(S.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}return{bind:function c(M,S){i.uniformBlockBinding(M,S.program)},update:function l(M,S){let A=r[M.id];void 0===A&&(function m(M){const S=M.uniforms;let A=0;let L=0;for(let N=0,V=S.length;N<V;N++){const R=S[N],B={boundary:0,storage:0},Q=Array.isArray(R.value)?R.value:[R.value];for(let he=0,fe=Q.length;he<fe;he++){const se=y(Q[he]);B.boundary+=se.boundary,B.storage+=se.storage}R.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=A,N>0&&(L=A%16,0!==L&&16-L-B.boundary<0&&(A+=16-L,R.__offset=A)),A+=B.storage}L=A%16,L>0&&(A+=16-L),M.__size=A,M.__cache={}}(M),A=function u(M){const S=function d(){for(let M=0;M<a;M++)if(-1===o.indexOf(M))return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();M.__bindingPointIndex=S;const A=n.createBuffer(),O=M.__size,L=M.usage;return n.bindBuffer(n.UNIFORM_BUFFER,A),n.bufferData(n.UNIFORM_BUFFER,O,L),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,A),A}(M),r[M.id]=A,M.addEventListener("dispose",v)),i.updateUBOMapping(M,S.program);const L=e.render.frame;s[M.id]!==L&&(function f(M){const A=M.uniforms,O=M.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[M.id]);for(let L=0,N=A.length;L<N;L++){const V=A[L];if(!0===p(V,L,O)){const R=V.__offset,B=Array.isArray(V.value)?V.value:[V.value];let Q=0;for(let he=0;he<B.length;he++){const fe=B[he],X=y(fe);"number"==typeof fe?(V.__data[0]=fe,n.bufferSubData(n.UNIFORM_BUFFER,R+Q,V.__data)):fe.isMatrix3?(V.__data[0]=fe.elements[0],V.__data[1]=fe.elements[1],V.__data[2]=fe.elements[2],V.__data[3]=fe.elements[0],V.__data[4]=fe.elements[3],V.__data[5]=fe.elements[4],V.__data[6]=fe.elements[5],V.__data[7]=fe.elements[0],V.__data[8]=fe.elements[6],V.__data[9]=fe.elements[7],V.__data[10]=fe.elements[8],V.__data[11]=fe.elements[0]):(fe.toArray(V.__data,Q),Q+=X.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,R,V.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(M),s[M.id]=L)},dispose:function _(){for(const M in r)n.deleteBuffer(r[M]);o=[],r={},s={}}}}class YN{constructor(e={}){const{canvas:t=k7(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;let f;this.isWebGLRenderer=!0,f=null!==i?i.getContextAttributes().alpha:o;const p=new Uint32Array(4),m=new Int32Array(4);let y=null,v=null;const _=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=wi,this._useLegacyLights=!1,this.toneMapping=Lc,this.toneMappingExposure=1;const S=this;let A=!1,O=0,L=0,N=null,V=-1,R=null;const B=new Jn,Q=new Jn;let he=null;const fe=new st(0);let X=0,se=t.width,de=t.height,pe=1,Le=null,me=null;const Se=new Jn(0,0,se,de),ee=new Jn(0,0,se,de);let _e=!1;const Ue=new wx;let ze=!1,Ge=!1,ut=null;const ft=new qt,lt=new xe,tn=new U,gn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function yt(){return null===N?pe:1}let Me,He,Ee,xt,dt,pt,Tt,rn,ti,j,F,ce,Be,Pe,Ve,Mt,$e,ot,Y,qe,Ae,zt,Et,Ot,k=i;function ke(z,ae){for(let ve=0;ve<z.length;ve++){const ye=t.getContext(z[ve],ae);if(null!==ye)return ye}return null}try{const z={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r157"),t.addEventListener("webglcontextlost",Je,!1),t.addEventListener("webglcontextrestored",Xe,!1),t.addEventListener("webglcontextcreationerror",it,!1),null===k){const ae=["webgl2","webgl","experimental-webgl"];if(!0===S.isWebGL1Renderer&&ae.shift(),k=ke(ae,z),null===k)throw ke(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&k instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===k.getShaderPrecisionFormat&&(k.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}function St(){Me=new gY(k),He=new lY(k,Me,e),Me.init(He),zt=new ZZ(k,Me,He),Ee=new XZ(k,Me,He),xt=new vY(k),dt=new kZ,pt=new YZ(k,Me,Ee,dt,He,zt,xt),Tt=new dY(S),rn=new pY(S),ti=new cq(k,He),Et=new aY(k,Me,ti,He),j=new mY(k,ti,xt,Et),F=new xY(k,j,ti,xt),Y=new wY(k,He,pt),Mt=new uY(dt),ce=new LZ(S,Tt,rn,Me,He,Et,Mt),Be=new tJ(S,dt),Pe=new BZ,Ve=new jZ(Me,He),ot=new oY(S,Tt,rn,Ee,F,f,c),$e=new qZ(S,F,He),Ot=new nJ(k,xt,He,Ee),qe=new cY(k,Me,xt,He),Ae=new _Y(k,Me,xt,He),xt.programs=ce.programs,S.capabilities=He,S.extensions=Me,S.properties=dt,S.renderLists=Pe,S.shadowMap=$e,S.state=Ee,S.info=xt}St();const q=new eJ(S,k);function Je(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const z=xt.autoReset,ae=$e.enabled,ve=$e.autoUpdate,le=$e.needsUpdate,ye=$e.type;St(),xt.autoReset=z,$e.enabled=ae,$e.autoUpdate=ve,$e.needsUpdate=le,$e.type=ye}function it(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function Ke(z){const ae=z.target;ae.removeEventListener("dispose",Ke),function Re(z){(function wt(z){const ae=dt.get(z).programs;void 0!==ae&&(ae.forEach(function(ve){ce.releaseProgram(ve)}),z.isShaderMaterial&&ce.releaseShaderCache(z))})(z),dt.remove(z)}(ae)}this.xr=q,this.getContext=function(){return k},this.getContextAttributes=function(){return k.getContextAttributes()},this.forceContextLoss=function(){const z=Me.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=Me.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return pe},this.setPixelRatio=function(z){void 0!==z&&(pe=z,this.setSize(se,de,!1))},this.getSize=function(z){return z.set(se,de)},this.setSize=function(z,ae,ve=!0){q.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(se=z,de=ae,t.width=Math.floor(z*pe),t.height=Math.floor(ae*pe),!0===ve&&(t.style.width=z+"px",t.style.height=ae+"px"),this.setViewport(0,0,z,ae))},this.getDrawingBufferSize=function(z){return z.set(se*pe,de*pe).floor()},this.setDrawingBufferSize=function(z,ae,ve){se=z,de=ae,pe=ve,t.width=Math.floor(z*ve),t.height=Math.floor(ae*ve),this.setViewport(0,0,z,ae)},this.getCurrentViewport=function(z){return z.copy(B)},this.getViewport=function(z){return z.copy(Se)},this.setViewport=function(z,ae,ve,le){z.isVector4?Se.set(z.x,z.y,z.z,z.w):Se.set(z,ae,ve,le),Ee.viewport(B.copy(Se).multiplyScalar(pe).floor())},this.getScissor=function(z){return z.copy(ee)},this.setScissor=function(z,ae,ve,le){z.isVector4?ee.set(z.x,z.y,z.z,z.w):ee.set(z,ae,ve,le),Ee.scissor(Q.copy(ee).multiplyScalar(pe).floor())},this.getScissorTest=function(){return _e},this.setScissorTest=function(z){Ee.setScissorTest(_e=z)},this.setOpaqueSort=function(z){Le=z},this.setTransparentSort=function(z){me=z},this.getClearColor=function(z){return z.copy(ot.getClearColor())},this.setClearColor=function(){ot.setClearColor.apply(ot,arguments)},this.getClearAlpha=function(){return ot.getClearAlpha()},this.setClearAlpha=function(){ot.setClearAlpha.apply(ot,arguments)},this.clear=function(z=!0,ae=!0,ve=!0){let le=0;if(z){let ye=!1;if(null!==N){const mt=N.texture.format;ye=1033===mt||1031===mt||1029===mt}if(ye){const mt=N.texture.type,Ft=mt===Fc||mt===Bc||1012===mt||mt===Bl||1017===mt||1018===mt,Zt=ot.getClearColor(),Jt=ot.getClearAlpha(),wn=Zt.r,Xt=Zt.g,dn=Zt.b;Ft?(p[0]=wn,p[1]=Xt,p[2]=dn,p[3]=Jt,k.clearBufferuiv(k.COLOR,0,p)):(m[0]=wn,m[1]=Xt,m[2]=dn,m[3]=Jt,k.clearBufferiv(k.COLOR,0,m))}else le|=k.COLOR_BUFFER_BIT}ae&&(le|=k.DEPTH_BUFFER_BIT),ve&&(le|=k.STENCIL_BUFFER_BIT),k.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Je,!1),t.removeEventListener("webglcontextrestored",Xe,!1),t.removeEventListener("webglcontextcreationerror",it,!1),Pe.dispose(),Ve.dispose(),dt.dispose(),Tt.dispose(),rn.dispose(),F.dispose(),Et.dispose(),Ot.dispose(),ce.dispose(),q.dispose(),q.removeEventListener("sessionstart",ui),q.removeEventListener("sessionend",ma),ut&&(ut.dispose(),ut=null),cs.stop()},this.renderBufferDirect=function(z,ae,ve,le,ye,mt){null===ae&&(ae=gn);const Ft=ye.isMesh&&ye.matrixWorld.determinant()<0,Zt=function kse(z,ae,ve,le,ye){!0!==ae.isScene&&(ae=gn),pt.resetTextureUnits();const mt=ae.fog,Zt=null===N?S.outputColorSpace:!0===N.isXRRenderTarget?N.texture.colorSpace:Tr,Jt=(le.isMeshStandardMaterial?rn:Tt).get(le.envMap||(le.isMeshStandardMaterial?ae.environment:null)),wn=!0===le.vertexColors&&!!ve.attributes.color&&4===ve.attributes.color.itemSize,Xt=!!ve.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),dn=!!ve.morphAttributes.position,Oi=!!ve.morphAttributes.normal,zi=!!ve.morphAttributes.color;let mo=Lc;le.toneMapped&&(null===N||!0===N.isXRRenderTarget)&&(mo=S.toneMapping);const ic=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,qi=void 0!==ic?ic.length:0,xn=dt.get(le),wS=v.state.lights;!0!==ze||!0!==Ge&&z===R||Mt.setState(le,z,z===R&&le.id===V);let Xi=!1;le.version===xn.__version?(xn.needsLights&&xn.lightsStateVersion!==wS.state.version||xn.outputColorSpace!==Zt||ye.isInstancedMesh&&!1===xn.instancing||!ye.isInstancedMesh&&!0===xn.instancing||ye.isSkinnedMesh&&!1===xn.skinning||!ye.isSkinnedMesh&&!0===xn.skinning||ye.isInstancedMesh&&!0===xn.instancingColor&&null===ye.instanceColor||ye.isInstancedMesh&&!1===xn.instancingColor&&null!==ye.instanceColor||xn.envMap!==Jt||!0===le.fog&&xn.fog!==mt||void 0!==xn.numClippingPlanes&&(xn.numClippingPlanes!==Mt.numPlanes||xn.numIntersection!==Mt.numIntersection)||xn.vertexAlphas!==wn||xn.vertexTangents!==Xt||xn.morphTargets!==dn||xn.morphNormals!==Oi||xn.morphColors!==zi||xn.toneMapping!==mo||!0===He.isWebGL2&&xn.morphTargetsCount!==qi)&&(Xi=!0):(Xi=!0,xn.__version=le.version);let wu=xn.currentProgram;!0===Xi&&(wu=F0(le,ae,ye));let h3=!1,Bg=!1,xS=!1;const ls=wu.getUniforms(),xu=xn.uniforms;if(Ee.useProgram(wu.program)&&(h3=!0,Bg=!0,xS=!0),le.id!==V&&(V=le.id,Bg=!0),h3||R!==z){ls.setValue(k,"projectionMatrix",z.projectionMatrix),ls.setValue(k,"viewMatrix",z.matrixWorldInverse);const Ws=ls.map.cameraPosition;void 0!==Ws&&Ws.setValue(k,tn.setFromMatrixPosition(z.matrixWorld)),He.logarithmicDepthBuffer&&ls.setValue(k,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&ls.setValue(k,"isOrthographic",!0===z.isOrthographicCamera),R!==z&&(R=z,Bg=!0,xS=!0)}if(ye.isSkinnedMesh){ls.setOptional(k,ye,"bindMatrix"),ls.setOptional(k,ye,"bindMatrixInverse");const Ws=ye.skeleton;Ws&&(He.floatVertexTextures?(null===Ws.boneTexture&&Ws.computeBoneTexture(),ls.setValue(k,"boneTexture",Ws.boneTexture,pt),ls.setValue(k,"boneTextureSize",Ws.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const MS=ve.morphAttributes;if((void 0!==MS.position||void 0!==MS.normal||void 0!==MS.color&&!0===He.isWebGL2)&&Y.update(ye,ve,wu),(Bg||xn.receiveShadow!==ye.receiveShadow)&&(xn.receiveShadow=ye.receiveShadow,ls.setValue(k,"receiveShadow",ye.receiveShadow)),le.isMeshGouraudMaterial&&null!==le.envMap&&(xu.envMap.value=Jt,xu.flipEnvMap.value=Jt.isCubeTexture&&!1===Jt.isRenderTargetTexture?-1:1),Bg&&(ls.setValue(k,"toneMappingExposure",S.toneMappingExposure),xn.needsLights&&function Fse(z,ae){z.ambientLightColor.needsUpdate=ae,z.lightProbe.needsUpdate=ae,z.directionalLights.needsUpdate=ae,z.directionalLightShadows.needsUpdate=ae,z.pointLights.needsUpdate=ae,z.pointLightShadows.needsUpdate=ae,z.spotLights.needsUpdate=ae,z.spotLightShadows.needsUpdate=ae,z.rectAreaLights.needsUpdate=ae,z.hemisphereLights.needsUpdate=ae}(xu,xS),mt&&!0===le.fog&&Be.refreshFogUniforms(xu,mt),Be.refreshMaterialUniforms(xu,le,pe,de,ut),Iv.upload(k,xn.uniformsList,xu,pt)),le.isShaderMaterial&&!0===le.uniformsNeedUpdate&&(Iv.upload(k,xn.uniformsList,xu,pt),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&ls.setValue(k,"center",ye.center),ls.setValue(k,"modelViewMatrix",ye.modelViewMatrix),ls.setValue(k,"normalMatrix",ye.normalMatrix),ls.setValue(k,"modelMatrix",ye.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const Ws=le.uniformsGroups;for(let SS=0,Use=Ws.length;SS<Use;SS++)if(He.isWebGL2){const f3=Ws[SS];Ot.update(f3,wu),Ot.bind(f3,wu)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return wu}(z,ae,ve,le,ye);Ee.setMaterial(le,Ft);let Jt=ve.index,wn=1;if(!0===le.wireframe){if(Jt=j.getWireframeAttribute(ve),void 0===Jt)return;wn=2}const Xt=ve.drawRange,dn=ve.attributes.position;let Oi=Xt.start*wn,zi=(Xt.start+Xt.count)*wn;null!==mt&&(Oi=Math.max(Oi,mt.start*wn),zi=Math.min(zi,(mt.start+mt.count)*wn)),null!==Jt?(Oi=Math.max(Oi,0),zi=Math.min(zi,Jt.count)):null!=dn&&(Oi=Math.max(Oi,0),zi=Math.min(zi,dn.count));const mo=zi-Oi;if(mo<0||mo===1/0)return;Et.setup(ye,le,Zt,ve,Jt);let ic,qi=qe;if(null!==Jt&&(ic=ti.get(Jt),qi=Ae,qi.setIndex(ic)),ye.isMesh)!0===le.wireframe?(Ee.setLineWidth(le.wireframeLinewidth*yt()),qi.setMode(k.LINES)):qi.setMode(k.TRIANGLES);else if(ye.isLine){let xn=le.linewidth;void 0===xn&&(xn=1),Ee.setLineWidth(xn*yt()),qi.setMode(ye.isLineSegments?k.LINES:ye.isLineLoop?k.LINE_LOOP:k.LINE_STRIP)}else ye.isPoints?qi.setMode(k.POINTS):ye.isSprite&&qi.setMode(k.TRIANGLES);if(ye.isInstancedMesh)qi.renderInstances(Oi,mo,ye.count);else if(ve.isInstancedBufferGeometry){const wS=Math.min(ve.instanceCount,void 0!==ve._maxInstanceCount?ve._maxInstanceCount:1/0);qi.renderInstances(Oi,mo,wS)}else qi.render(Oi,mo)},this.compile=function(z,ae){function ve(le,ye,mt){!0===le.transparent&&2===le.side&&!1===le.forceSinglePass?(le.side=1,le.needsUpdate=!0,F0(le,ye,mt),le.side=0,le.needsUpdate=!0,F0(le,ye,mt),le.side=2):F0(le,ye,mt)}v=Ve.get(z),v.init(),M.push(v),z.traverseVisible(function(le){le.isLight&&le.layers.test(ae.layers)&&(v.pushLight(le),le.castShadow&&v.pushShadow(le))}),v.setupLights(S._useLegacyLights),z.traverse(function(le){const ye=le.material;if(ye)if(Array.isArray(ye))for(let mt=0;mt<ye.length;mt++)ve(ye[mt],z,le);else ve(ye,z,le)}),M.pop(),v=null};let $t=null;function ui(){cs.stop()}function ma(){cs.start()}const cs=new bN;function c3(z,ae,ve,le){if(!1===z.visible)return;if(z.layers.test(ae.layers))if(z.isGroup)ve=z.renderOrder;else if(z.isLOD)!0===z.autoUpdate&&z.update(ae);else if(z.isLight)v.pushLight(z),z.castShadow&&v.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||Ue.intersectsSprite(z)){le&&tn.setFromMatrixPosition(z.matrixWorld).applyMatrix4(ft);const Ft=F.update(z),Zt=z.material;Zt.visible&&y.push(z,Ft,Zt,ve,tn.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||Ue.intersectsObject(z))){const Ft=F.update(z),Zt=z.material;if(le&&(void 0!==z.boundingSphere?(null===z.boundingSphere&&z.computeBoundingSphere(),tn.copy(z.boundingSphere.center)):(null===Ft.boundingSphere&&Ft.computeBoundingSphere(),tn.copy(Ft.boundingSphere.center)),tn.applyMatrix4(z.matrixWorld).applyMatrix4(ft)),Array.isArray(Zt)){const Jt=Ft.groups;for(let wn=0,Xt=Jt.length;wn<Xt;wn++){const dn=Jt[wn],Oi=Zt[dn.materialIndex];Oi&&Oi.visible&&y.push(z,Ft,Oi,ve,tn.z,dn)}}else Zt.visible&&y.push(z,Ft,Zt,ve,tn.z,null)}const mt=z.children;for(let Ft=0,Zt=mt.length;Ft<Zt;Ft++)c3(mt[Ft],ae,ve,le)}function l3(z,ae,ve,le){const ye=z.opaque,mt=z.transmissive,Ft=z.transparent;v.setupLightsView(ve),!0===ze&&Mt.setGlobalState(S.clippingPlanes,ve),mt.length>0&&function Lse(z,ae,ve,le){const ye=He.isWebGL2;null===ut&&(ut=new zl(1,1,{generateMipmaps:!0,type:Me.has("EXT_color_buffer_half_float")?zp:Fc,minFilter:za,samples:ye?4:0})),S.getDrawingBufferSize(lt),ye?ut.setSize(lt.x,lt.y):ut.setSize(rv(lt.x),rv(lt.y));const mt=S.getRenderTarget();S.setRenderTarget(ut),S.getClearColor(fe),X=S.getClearAlpha(),X<1&&S.setClearColor(16777215,.5),S.clear();const Ft=S.toneMapping;S.toneMapping=Lc,k0(z,ve,le),pt.updateMultisampleRenderTarget(ut),pt.updateRenderTargetMipmap(ut);let Zt=!1;for(let Jt=0,wn=ae.length;Jt<wn;Jt++){const Xt=ae[Jt],dn=Xt.object,Oi=Xt.geometry,zi=Xt.material,mo=Xt.group;if(2===zi.side&&dn.layers.test(le.layers)){const ic=zi.side;zi.side=1,zi.needsUpdate=!0,u3(dn,ve,le,Oi,zi,mo),zi.side=ic,zi.needsUpdate=!0,Zt=!0}}!0===Zt&&(pt.updateMultisampleRenderTarget(ut),pt.updateRenderTargetMipmap(ut)),S.setRenderTarget(mt),S.setClearColor(fe,X),S.toneMapping=Ft}(ye,mt,ae,ve),le&&Ee.viewport(B.copy(le)),ye.length>0&&k0(ye,ae,ve),mt.length>0&&k0(mt,ae,ve),Ft.length>0&&k0(Ft,ae,ve),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function k0(z,ae,ve){const le=!0===ae.isScene?ae.overrideMaterial:null;for(let ye=0,mt=z.length;ye<mt;ye++){const Ft=z[ye],Zt=Ft.object,Jt=Ft.geometry,wn=null===le?Ft.material:le,Xt=Ft.group;Zt.layers.test(ve.layers)&&u3(Zt,ae,ve,Jt,wn,Xt)}}function u3(z,ae,ve,le,ye,mt){z.onBeforeRender(S,ae,ve,le,ye,mt),z.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),ye.onBeforeRender(S,ae,ve,le,z,mt),!0===ye.transparent&&2===ye.side&&!1===ye.forceSinglePass?(ye.side=1,ye.needsUpdate=!0,S.renderBufferDirect(ve,ae,le,ye,z,mt),ye.side=0,ye.needsUpdate=!0,S.renderBufferDirect(ve,ae,le,ye,z,mt),ye.side=2):S.renderBufferDirect(ve,ae,le,ye,z,mt),z.onAfterRender(S,ae,ve,le,ye,mt)}function F0(z,ae,ve){!0!==ae.isScene&&(ae=gn);const le=dt.get(z),ye=v.state.lights,Ft=ye.state.version,Zt=ce.getParameters(z,ye.state,v.state.shadowsArray,ae,ve),Jt=ce.getProgramCacheKey(Zt);let wn=le.programs;le.environment=z.isMeshStandardMaterial?ae.environment:null,le.fog=ae.fog,le.envMap=(z.isMeshStandardMaterial?rn:Tt).get(z.envMap||le.environment),void 0===wn&&(z.addEventListener("dispose",Ke),wn=new Map,le.programs=wn);let Xt=wn.get(Jt);if(void 0!==Xt){if(le.currentProgram===Xt&&le.lightsStateVersion===Ft)return d3(z,Zt),Xt}else Zt.uniforms=ce.getUniforms(z),z.onBuild(ve,Zt,S),z.onBeforeCompile(Zt,S),Xt=ce.acquireProgram(Zt,Jt),wn.set(Jt,Xt),le.uniforms=Zt.uniforms;const dn=le.uniforms;(!z.isShaderMaterial&&!z.isRawShaderMaterial||!0===z.clipping)&&(dn.clippingPlanes=Mt.uniform),d3(z,Zt),le.needsLights=function Bse(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&!0===z.lights}(z),le.lightsStateVersion=Ft,le.needsLights&&(dn.ambientLightColor.value=ye.state.ambient,dn.lightProbe.value=ye.state.probe,dn.directionalLights.value=ye.state.directional,dn.directionalLightShadows.value=ye.state.directionalShadow,dn.spotLights.value=ye.state.spot,dn.spotLightShadows.value=ye.state.spotShadow,dn.rectAreaLights.value=ye.state.rectArea,dn.ltc_1.value=ye.state.rectAreaLTC1,dn.ltc_2.value=ye.state.rectAreaLTC2,dn.pointLights.value=ye.state.point,dn.pointLightShadows.value=ye.state.pointShadow,dn.hemisphereLights.value=ye.state.hemi,dn.directionalShadowMap.value=ye.state.directionalShadowMap,dn.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,dn.spotShadowMap.value=ye.state.spotShadowMap,dn.spotLightMatrix.value=ye.state.spotLightMatrix,dn.spotLightMap.value=ye.state.spotLightMap,dn.pointShadowMap.value=ye.state.pointShadowMap,dn.pointShadowMatrix.value=ye.state.pointShadowMatrix);const Oi=Xt.getUniforms(),zi=Iv.seqWithValue(Oi.seq,dn);return le.currentProgram=Xt,le.uniformsList=zi,Xt}function d3(z,ae){const ve=dt.get(z);ve.outputColorSpace=ae.outputColorSpace,ve.instancing=ae.instancing,ve.instancingColor=ae.instancingColor,ve.skinning=ae.skinning,ve.morphTargets=ae.morphTargets,ve.morphNormals=ae.morphNormals,ve.morphColors=ae.morphColors,ve.morphTargetsCount=ae.morphTargetsCount,ve.numClippingPlanes=ae.numClippingPlanes,ve.numIntersection=ae.numClipIntersection,ve.vertexAlphas=ae.vertexAlphas,ve.vertexTangents=ae.vertexTangents,ve.toneMapping=ae.toneMapping}cs.setAnimationLoop(function $i(z){$t&&$t(z)}),typeof self<"u"&&cs.setContext(self),this.setAnimationLoop=function(z){$t=z,q.setAnimationLoop(z),null===z?cs.stop():cs.start()},q.addEventListener("sessionstart",ui),q.addEventListener("sessionend",ma),this.render=function(z,ae){if(void 0===ae||!0===ae.isCamera){if(!0!==A){if(!0===z.matrixWorldAutoUpdate&&z.updateMatrixWorld(),null===ae.parent&&!0===ae.matrixWorldAutoUpdate&&ae.updateMatrixWorld(),!0===q.enabled&&!0===q.isPresenting&&(!0===q.cameraAutoUpdate&&q.updateCamera(ae),ae=q.getCamera()),!0===z.isScene&&z.onBeforeRender(S,z,ae,N),v=Ve.get(z,M.length),v.init(),M.push(v),ft.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),Ue.setFromProjectionMatrix(ft),Ge=this.localClippingEnabled,ze=Mt.init(this.clippingPlanes,Ge),y=Pe.get(z,_.length),y.init(),_.push(y),c3(z,ae,0,S.sortObjects),y.finish(),!0===S.sortObjects&&y.sort(Le,me),this.info.render.frame++,!0===ze&&Mt.beginShadows(),$e.render(v.state.shadowsArray,z,ae),!0===ze&&Mt.endShadows(),!0===this.info.autoReset&&this.info.reset(),ot.render(y,z),v.setupLights(S._useLegacyLights),ae.isArrayCamera){const le=ae.cameras;for(let ye=0,mt=le.length;ye<mt;ye++){const Ft=le[ye];l3(y,z,Ft,Ft.viewport)}}else l3(y,z,ae);null!==N&&(pt.updateMultisampleRenderTarget(N),pt.updateRenderTargetMipmap(N)),!0===z.isScene&&z.onAfterRender(S,z,ae),Et.resetDefaultState(),V=-1,R=null,M.pop(),v=M.length>0?M[M.length-1]:null,_.pop(),y=_.length>0?_[_.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(z,ae,ve){dt.get(z.texture).__webglTexture=ae,dt.get(z.depthTexture).__webglTexture=ve;const le=dt.get(z);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=void 0===ve,le.__autoAllocateDepthBuffer||!0===Me.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(z,ae){const ve=dt.get(z);ve.__webglFramebuffer=ae,ve.__useDefaultFramebuffer=void 0===ae},this.setRenderTarget=function(z,ae=0,ve=0){N=z,O=ae,L=ve;let le=!0,ye=null,mt=!1,Ft=!1;if(z){const Jt=dt.get(z);void 0!==Jt.__useDefaultFramebuffer?(Ee.bindFramebuffer(k.FRAMEBUFFER,null),le=!1):void 0===Jt.__webglFramebuffer?pt.setupRenderTarget(z):Jt.__hasExternalTextures&&pt.rebindTextures(z,dt.get(z.texture).__webglTexture,dt.get(z.depthTexture).__webglTexture);const wn=z.texture;(wn.isData3DTexture||wn.isDataArrayTexture||wn.isCompressedArrayTexture)&&(Ft=!0);const Xt=dt.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(ye=Array.isArray(Xt[ae])?Xt[ae][ve]:Xt[ae],mt=!0):ye=He.isWebGL2&&z.samples>0&&!1===pt.useMultisampledRTT(z)?dt.get(z).__webglMultisampledFramebuffer:Array.isArray(Xt)?Xt[ve]:Xt,B.copy(z.viewport),Q.copy(z.scissor),he=z.scissorTest}else B.copy(Se).multiplyScalar(pe).floor(),Q.copy(ee).multiplyScalar(pe).floor(),he=_e;if(Ee.bindFramebuffer(k.FRAMEBUFFER,ye)&&He.drawBuffers&&le&&Ee.drawBuffers(z,ye),Ee.viewport(B),Ee.scissor(Q),Ee.setScissorTest(he),mt){const Jt=dt.get(z.texture);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Jt.__webglTexture,ve)}else if(Ft){const Jt=dt.get(z.texture);k.framebufferTextureLayer(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,Jt.__webglTexture,ve||0,ae||0)}V=-1},this.readRenderTargetPixels=function(z,ae,ve,le,ye,mt,Ft){if(!z||!z.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Zt=dt.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&void 0!==Ft&&(Zt=Zt[Ft]),Zt){Ee.bindFramebuffer(k.FRAMEBUFFER,Zt);try{const Jt=z.texture,wn=Jt.format,Xt=Jt.type;if(wn!==lo&&zt.convert(wn)!==k.getParameter(k.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const dn=Xt===zp&&(Me.has("EXT_color_buffer_half_float")||He.isWebGL2&&Me.has("EXT_color_buffer_float"));if(!(Xt===Fc||zt.convert(Xt)===k.getParameter(k.IMPLEMENTATION_COLOR_READ_TYPE)||Xt===ja&&(He.isWebGL2||Me.has("OES_texture_float")||Me.has("WEBGL_color_buffer_float"))||dn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ae>=0&&ae<=z.width-le&&ve>=0&&ve<=z.height-ye&&k.readPixels(ae,ve,le,ye,zt.convert(wn),zt.convert(Xt),mt)}finally{const Jt=null!==N?dt.get(N).__webglFramebuffer:null;Ee.bindFramebuffer(k.FRAMEBUFFER,Jt)}}},this.copyFramebufferToTexture=function(z,ae,ve=0){const le=Math.pow(2,-ve),ye=Math.floor(ae.image.width*le),mt=Math.floor(ae.image.height*le);pt.setTexture2D(ae,0),k.copyTexSubImage2D(k.TEXTURE_2D,ve,0,0,z.x,z.y,ye,mt),Ee.unbindTexture()},this.copyTextureToTexture=function(z,ae,ve,le=0){const ye=ae.image.width,mt=ae.image.height,Ft=zt.convert(ve.format),Zt=zt.convert(ve.type);pt.setTexture2D(ve,0),k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,ve.flipY),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),k.pixelStorei(k.UNPACK_ALIGNMENT,ve.unpackAlignment),ae.isDataTexture?k.texSubImage2D(k.TEXTURE_2D,le,z.x,z.y,ye,mt,Ft,Zt,ae.image.data):ae.isCompressedTexture?k.compressedTexSubImage2D(k.TEXTURE_2D,le,z.x,z.y,ae.mipmaps[0].width,ae.mipmaps[0].height,Ft,ae.mipmaps[0].data):k.texSubImage2D(k.TEXTURE_2D,le,z.x,z.y,Ft,Zt,ae.image),0===le&&ve.generateMipmaps&&k.generateMipmap(k.TEXTURE_2D),Ee.unbindTexture()},this.copyTextureToTexture3D=function(z,ae,ve,le,ye=0){if(S.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const mt=z.max.x-z.min.x+1,Ft=z.max.y-z.min.y+1,Zt=z.max.z-z.min.z+1,Jt=zt.convert(le.format),wn=zt.convert(le.type);let Xt;if(le.isData3DTexture)pt.setTexture3D(le,0),Xt=k.TEXTURE_3D;else{if(!le.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");pt.setTexture2DArray(le,0),Xt=k.TEXTURE_2D_ARRAY}k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,le.flipY),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),k.pixelStorei(k.UNPACK_ALIGNMENT,le.unpackAlignment);const dn=k.getParameter(k.UNPACK_ROW_LENGTH),Oi=k.getParameter(k.UNPACK_IMAGE_HEIGHT),zi=k.getParameter(k.UNPACK_SKIP_PIXELS),mo=k.getParameter(k.UNPACK_SKIP_ROWS),ic=k.getParameter(k.UNPACK_SKIP_IMAGES),qi=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;k.pixelStorei(k.UNPACK_ROW_LENGTH,qi.width),k.pixelStorei(k.UNPACK_IMAGE_HEIGHT,qi.height),k.pixelStorei(k.UNPACK_SKIP_PIXELS,z.min.x),k.pixelStorei(k.UNPACK_SKIP_ROWS,z.min.y),k.pixelStorei(k.UNPACK_SKIP_IMAGES,z.min.z),ve.isDataTexture||ve.isData3DTexture?k.texSubImage3D(Xt,ye,ae.x,ae.y,ae.z,mt,Ft,Zt,Jt,wn,qi.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),k.compressedTexSubImage3D(Xt,ye,ae.x,ae.y,ae.z,mt,Ft,Zt,Jt,qi.data)):k.texSubImage3D(Xt,ye,ae.x,ae.y,ae.z,mt,Ft,Zt,Jt,wn,qi),k.pixelStorei(k.UNPACK_ROW_LENGTH,dn),k.pixelStorei(k.UNPACK_IMAGE_HEIGHT,Oi),k.pixelStorei(k.UNPACK_SKIP_PIXELS,zi),k.pixelStorei(k.UNPACK_SKIP_ROWS,mo),k.pixelStorei(k.UNPACK_SKIP_IMAGES,ic),0===ye&&le.generateMipmaps&&k.generateMipmap(Xt),Ee.unbindTexture()},this.initTexture=function(z){z.isCubeTexture?pt.setTextureCube(z,0):z.isData3DTexture?pt.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?pt.setTexture2DArray(z,0):pt.setTexture2D(z,0),Ee.unbindTexture()},this.resetState=function(){O=0,L=0,N=null,Ee.reset(),Et.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Wa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Zw?"display-p3":"srgb",t.unpackColorSpace=Gn.workingColorSpace===K_?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===wi?Vl:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Vl?wi:Tr}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}(class iJ extends YN{}).prototype.isWebGL1Renderer=!0;class ZN extends ur{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Ix{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Bs()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bs()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bs()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const os=new U;class Jl{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)os.fromBufferAttribute(this,t),os.applyMatrix4(e),this.setXYZ(t,os.x,os.y,os.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)os.fromBufferAttribute(this,t),os.applyNormalMatrix(e),this.setXYZ(t,os.x,os.y,os.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)os.fromBufferAttribute(this,t),os.transformDirection(e),this.setXYZ(t,os.x,os.y,os.z);return this}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ws(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ws(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ws(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ws(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),i=an(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),i=an(i,this.array),r=an(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),i=an(i,this.array),r=an(r,this.array),s=an(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Di(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Jl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const n2=new U,i2=new Jn,r2=new Jn,oJ=new U,s2=new qt,Nh=new U,Rx=new Uo,o2=new qt,Px=new gh;class a2 extends Ar{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new qt,this.bindMatrixInverse=new qt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Bo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Nh.fromBufferAttribute(t,i),this.applyBoneTransform(i,Nh),this.boundingBox.expandByPoint(Nh)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Uo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Nh.fromBufferAttribute(t,i),this.applyBoneTransform(i,Nh),this.boundingSphere.expandByPoint(Nh)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Rx.copy(this.boundingSphere),Rx.applyMatrix4(r),!1!==e.ray.intersectsSphere(Rx)&&(o2.copy(r).invert(),Px.copy(e.ray).applyMatrix4(o2),(null===this.boundingBox||!1!==Px.intersectsBox(this.boundingBox))&&this._computeIntersections(e,t,Px)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Jn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;i2.fromBufferAttribute(r.attributes.skinIndex,e),r2.fromBufferAttribute(r.attributes.skinWeight,e),n2.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=r2.getComponent(s);if(0!==o){const a=i2.getComponent(s);s2.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(oJ.copy(n2).applyMatrix4(s2),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Nx extends ur{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ig extends Fo{constructor(e=null,t=1,i=1,r,s,o,a,c,l=Hi,u=Hi,d,f){super(null,o,a,c,l,u,r,s,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const c2=new qt,aJ=new qt;class Lv{constructor(e=[],t=[]){this.uuid=Bs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new qt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new qt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++)c2.multiplyMatrices(e[s]?e[s].matrixWorld:aJ,t[s]),c2.toArray(i,16*s);null!==r&&(r.needsUpdate=!0)}clone(){return new Lv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=YP(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new ig(t,e,e,lo,ja);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Nx),this.bones.push(o),this.boneInverses.push((new qt).fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++)e.bones.push(t[r].uuid),e.boneInverses.push(i[r].toArray());return e}}class rg extends Di{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Lh=new qt,l2=new qt,kv=[],u2=new Bo,cJ=new qt,sg=new Ar,og=new Uo;class d2 extends Ar{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new rg(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,cJ)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Bo),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Lh),u2.copy(e.boundingBox).applyMatrix4(Lh),this.boundingBox.union(u2)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Uo),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Lh),og.copy(e.boundingSphere).applyMatrix4(Lh),this.boundingSphere.union(og)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(sg.geometry=this.geometry,sg.material=this.material,void 0!==sg.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),og.copy(this.boundingSphere),og.applyMatrix4(i),!1!==e.ray.intersectsSphere(og)))for(let s=0;s<r;s++){this.getMatrixAt(s,Lh),l2.multiplyMatrices(i,Lh),sg.matrixWorld=l2,sg.raycast(e,kv);for(let o=0,a=kv.length;o<a;o++){const c=kv[o];c.instanceId=s,c.object=this,t.push(c)}kv.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new rg(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ms extends Go{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new st(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const h2=new U,f2=new U,p2=new qt,Lx=new gh,Fv=new Uo;class Kl extends ur{constructor(e=new mn,t=new Ms){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)h2.fromBufferAttribute(t,r-1),f2.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=h2.distanceTo(f2);e.setAttribute("lineDistance",new bt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Fv.copy(i.boundingSphere),Fv.applyMatrix4(r),Fv.radius+=s,!1===e.ray.intersectsSphere(Fv))return;p2.copy(r).invert(),Lx.copy(e.ray).applyMatrix4(p2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=new U,u=new U,d=new U,f=new U,p=this.isLineSegments?2:1,m=i.index,v=i.attributes.position;if(null!==m)for(let S=Math.max(0,o.start),A=Math.min(m.count,o.start+o.count)-1;S<A;S+=p){const O=m.getX(S),L=m.getX(S+1);if(l.fromBufferAttribute(v,O),u.fromBufferAttribute(v,L),Lx.distanceSqToSegment(l,u,f,d)>c)continue;f.applyMatrix4(this.matrixWorld);const V=e.ray.origin.distanceTo(f);V<e.near||V>e.far||t.push({distance:V,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}else for(let S=Math.max(0,o.start),A=Math.min(v.count,o.start+o.count)-1;S<A;S+=p){if(l.fromBufferAttribute(v,S),u.fromBufferAttribute(v,S+1),Lx.distanceSqToSegment(l,u,f,d)>c)continue;f.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(f);L<e.near||L>e.far||t.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const g2=new U,m2=new U;class kx extends Kl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)g2.fromBufferAttribute(t,r),m2.fromBufferAttribute(t,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+g2.distanceTo(m2);e.setAttribute("lineDistance",new bt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _2 extends Kl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Fx extends Go{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new st(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const v2=new qt,Bx=new gh,Bv=new Uo,Uv=new U;class y2 extends ur{constructor(e=new mn,t=new Fx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Bv.copy(i.boundingSphere),Bv.applyMatrix4(r),Bv.radius+=s,!1===e.ray.intersectsSphere(Bv))return;v2.copy(r).invert(),Bx.copy(e.ray).applyMatrix4(v2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=i.index,d=i.attributes.position;if(null!==l)for(let m=Math.max(0,o.start),y=Math.min(l.count,o.start+o.count);m<y;m++){const v=l.getX(m);Uv.fromBufferAttribute(d,v),b2(Uv,v,c,r,e,t,this)}else for(let m=Math.max(0,o.start),y=Math.min(d.count,o.start+o.count);m<y;m++)Uv.fromBufferAttribute(d,m),b2(Uv,m,c,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function b2(n,e,t,i,r,s,o){const a=Bx.distanceSqToPoint(n);if(a<t){const c=new U;Bx.closestPointToPoint(n,c),c.applyMatrix4(i);const l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,object:o})}}class Kv extends Go{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new st(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new st(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ec extends Kv{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ai(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new st(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new st(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new st(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function tu(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function k2(n){const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(function e(r,s){return n[r]-n[s]}),i}function sM(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let c=0;c!==e;++c)r[o++]=n[a+c]}return r}function oM(n,e,t,i){let r=1,s=n[0];for(;void 0!==s&&void 0===s[i];)s=n[r++];if(void 0===s)return;let o=s[i];if(void 0!==o)if(Array.isArray(o))do{o=s[i],void 0!==o&&(e.push(s.time),t.push.apply(t,o)),s=n[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[i],void 0!==o&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++]}while(void 0!==s);else do{o=s[i],void 0!==o&&(e.push(s.time),t.push(o)),s=n[r++]}while(void 0!==s)}class fg{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(i=2,s=a);for(let c=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class eK extends fg{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:rh,endingEnd:rh}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],c=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case sh:s=e,a=2*t-i;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(void 0===c)switch(this.getSettings_().endingEnd){case sh:o=e,c=2*i-t;break;case 2402:o=1,c=i+r[1]-r[0];break;default:o=e-1,c=t}const l=.5*(i-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(c-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,l=c-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,p=this._weightNext,m=(i-t)/(r-t),y=m*m,v=y*m,_=-f*v+2*f*y-f*m,M=(1+f)*v+(-1.5-2*f)*y+(-.5+f)*m+1,S=(-1-p)*v+(1.5+p)*y+.5*m,A=p*v-p*y;for(let O=0;O!==a;++O)s[O]=_*o[u+O]+M*o[l+O]+S*o[c+O]+A*o[d+O];return s}}class F2 extends fg{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,l=c-a,u=(i-t)/(r-t),d=1-u;for(let f=0;f!==a;++f)s[f]=o[l+f]*d+o[c+f]*u;return s}}class tK extends fg{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ha{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tu(t,this.TimeBufferType),this.values=tu(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:tu(e.times,Array),values:tu(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new tK(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new F2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new eK(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case jp:t=this.InterpolantFactoryMethodDiscrete;break;case ih:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jp;case this.InterpolantFactoryMethodLinear:return ih;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const c=i[a];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(null!==o&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,o),e=!1;break}o=c}if(void 0!==r&&function L2(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(r))for(let a=0,c=r.length;a!==c;++a){const l=r[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let c=!1;const l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(r)c=!0;else{const d=a*i,f=d-i,p=d+i;for(let m=0;m!==i;++m){const y=t[d+m];if(y!==t[f+m]||y!==t[p+m]){c=!0;break}}}if(c){if(a!==o){e[o]=e[a];const d=a*i,f=o*i;for(let p=0;p!==i;++p)t[f+p]=t[d+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,c=o*i,l=0;l!==i;++l)t[c+l]=t[a+l];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ha.prototype.TimeBufferType=Float32Array,ha.prototype.ValueBufferType=Float32Array,ha.prototype.DefaultInterpolation=ih;class Bh extends ha{}Bh.prototype.ValueTypeName="bool",Bh.prototype.ValueBufferType=Array,Bh.prototype.DefaultInterpolation=jp,Bh.prototype.InterpolantFactoryMethodLinear=void 0,Bh.prototype.InterpolantFactoryMethodSmooth=void 0;class B2 extends ha{}B2.prototype.ValueTypeName="color";class Uh extends ha{}Uh.prototype.ValueTypeName="number";class nK extends fg{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=(i-t)/(r-t);let l=e*a;for(let u=l+a;l!==u;l+=4)Er.slerpFlat(s,0,o,l-a,o,l,c);return s}}class nu extends ha{InterpolantFactoryMethodLinear(e){return new nK(this.times,this.values,this.getValueSize(),e)}}nu.prototype.ValueTypeName="quaternion",nu.prototype.DefaultInterpolation=ih,nu.prototype.InterpolantFactoryMethodSmooth=void 0;class Vh extends ha{}Vh.prototype.ValueTypeName="string",Vh.prototype.ValueBufferType=Array,Vh.prototype.DefaultInterpolation=jp,Vh.prototype.InterpolantFactoryMethodLinear=void 0,Vh.prototype.InterpolantFactoryMethodSmooth=void 0;class Hh extends ha{}Hh.prototype.ValueTypeName="vector";class pg{constructor(e,t=-1,i,r=2500){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Bs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(rK(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(ha.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let c=[],l=[];c.push((a+s-1)%s,a,(a+1)%s),l.push(0,1,0);const u=k2(c);c=sM(c,1,u),l=sM(l,1,u),!r&&0===c[0]&&(c.push(s),l.push(l[0])),o.push(new Uh(".morphTargetInfluences["+t[a].name+"]",c,l).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;Array.isArray(e)||(i=e.geometry&&e.geometry.animations||e.animations);for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,c=e.length;a<c;a++){const l=e[a],u=l.name.match(s);if(u&&u.length>1){const d=u[1];let f=r[d];f||(r[d]=f=[]),f.push(l)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,p,m,y){if(0!==p.length){const v=[],_=[];oM(p,v,_,m),0!==v.length&&y.push(new d(f,v,_))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let c=e.length||-1;const l=e.hierarchy||[];for(let d=0;d<l.length;d++){const f=l[d].keys;if(f&&0!==f.length)if(f[0].morphTargets){const p={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let y=0;y<f[m].morphTargets.length;y++)p[f[m].morphTargets[y]]=-1;for(const y in p){const v=[],_=[];for(let M=0;M!==f[m].morphTargets.length;++M){const S=f[m];v.push(S.time),_.push(S.morphTarget===y?1:0)}r.push(new Uh(".morphTargetInfluence["+y+"]",v,_))}c=p.length*o}else{const p=".bones["+t[d].name+"]";i(Hh,p+".position",f,"pos",r),i(nu,p+".quaternion",f,"rot",r),i(Hh,p+".scale",f,"scl",r)}}return 0===r.length?null:new this(s,c,r,a)}resetDuration(){let t=0;for(let i=0,r=this.tracks.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function rK(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function iK(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Uh;case"vector":case"vector2":case"vector3":case"vector4":return Hh;case"color":return B2;case"quaternion":return nu;case"bool":case"boolean":return Bh;case"string":return Vh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const t=[],i=[];oM(n.keys,t,i,"value"),n.times=t,n.values=i}return void 0!==e.parse?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Gh={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class U2{constructor(e,t,i){const r=this;let c,s=!1,o=0,a=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return c?c(u):u},this.setURLModifier=function(u){return c=u,this},this.addHandler=function(u,d){return l.push(u,d),this},this.removeHandler=function(u){const d=l.indexOf(u);return-1!==d&&l.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=l.length;d<f;d+=2){const p=l[d],m=l[d+1];if(p.global&&(p.lastIndex=0),p.test(u))return m}return null}}}const sK=new U2;let gg=(()=>{class n{constructor(t){this.manager=void 0!==t?t:sK,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const r=this;return new Promise(function(s,o){r.load(t,s,i,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const tc={};class oK extends Error{constructor(e,t){super(e),this.response=t}}class fa extends gg{constructor(e){super(e)}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Gh.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==tc[e])return void tc[e].push({onLoad:t,onProgress:i,onError:r});tc[e]=[],tc[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,c=this.responseType;fetch(o).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;const u=tc[e],d=l.body.getReader(),f=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),p=f?parseInt(f):0,m=0!==p;let y=0;const v=new ReadableStream({start(_){!function M(){d.read().then(({done:S,value:A})=>{if(S)_.close();else{y+=A.byteLength;const O=new ProgressEvent("progress",{lengthComputable:m,loaded:y,total:p});for(let L=0,N=u.length;L<N;L++){const V=u[L];V.onProgress&&V.onProgress(O)}_.enqueue(A),M()}})}()}});return new Response(v)}throw new oK(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(c){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(u=>(new DOMParser).parseFromString(u,a));case"json":return l.json();default:if(void 0===a)return l.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,p=new TextDecoder(f);return l.arrayBuffer().then(m=>p.decode(m))}}}).then(l=>{Gh.add(e,l);const u=tc[e];delete tc[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onLoad&&p.onLoad(l)}}).catch(l=>{const u=tc[e];if(void 0===u)throw this.manager.itemError(e),l;delete tc[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onError&&p.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Qv extends gg{constructor(e){super(e)}load(e,t,i,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Gh.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=$p("img");function c(){u(),Gh.add(e,this),t&&t(this),s.manager.itemEnd(e)}function l(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",c,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class iu extends gg{constructor(e){super(e)}load(e,t,i,r){const s=new Fo,o=new Qv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},i,r),s}}class aM extends ur{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new st(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const cM=new qt,V2=new U,H2=new U;class lM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xe(512,512),this.map=null,this.mapPass=null,this.matrix=new qt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wx,this._frameExtents=new xe(1,1),this._viewportCount=1,this._viewports=[new Jn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;V2.setFromMatrixPosition(e.matrixWorld),t.position.copy(V2),H2.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(H2),t.updateMatrixWorld(),cM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(cM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cK extends lM{constructor(){super(new fr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=2*oh*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class G2 extends aM{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ur.DEFAULT_UP),this.updateMatrix(),this.target=new ur,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new cK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const z2=new qt,mg=new U,uM=new U;class lK extends lM{constructor(){super(new fr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xe(4,2),this._viewportCount=6,this._viewports=[new Jn(2,1,1,1),new Jn(0,1,1,1),new Jn(3,1,1,1),new Jn(1,1,1,1),new Jn(3,0,1,1),new Jn(1,0,1,1)],this._cubeDirections=[new U(1,0,0),new U(-1,0,0),new U(0,0,1),new U(0,0,-1),new U(0,1,0),new U(0,-1,0)],this._cubeUps=[new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,0,1),new U(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),mg.setFromMatrixPosition(e.matrixWorld),i.position.copy(mg),uM.copy(i.position),uM.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(uM),i.updateMatrixWorld(),r.makeTranslation(-mg.x,-mg.y,-mg.z),z2.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(z2)}}class j2 extends aM{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new lK}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class uK extends lM{constructor(){super(new Ev(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _g extends aM{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ur.DEFAULT_UP),this.updateMatrix(),this.target=new ur,this.shadow=new uK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class vg{static decodeText(e){if(typeof TextDecoder<"u")return(new TextDecoder).decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class vK extends gg{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Gh.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){Gh.add(e,c),t&&t(c),s.manager.itemEnd(e)}).catch(function(c){r&&r(c),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}class Z2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=J2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=J2();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function J2(){return(typeof performance>"u"?Date:performance).now()}class wK{constructor(e,t,i){let r,s,o;switch(this.binding=e,this.valueSize=i,t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else o+=t,this._mixBufferRegion(i,s,0,t/o,r);this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1&&this._mixBufferRegion(i,r,t*this._origIndex,1-s,t),o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let c=t,l=t+t;c!==l;++c)if(i[c]!==i[c+t]){a.setValue(i,r);break}}saveOriginalState(){const t=this.buffer,i=this.valueSize,r=i*this._origIndex;this.binding.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Er.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Er.multiplyQuaternionsFlat(e,o,e,t,e,i),Er.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const c=t+a;e[c]=e[c]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const hM="\\[\\]\\.:\\/",xK=new RegExp("["+hM+"]","g"),fM="[^"+hM+"]",MK="[^"+hM.replace("\\.","")+"]",AK=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",fM)+/(WCOD+)?/.source.replace("WCOD",MK)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fM)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fM)+"$"),DK=["material","materials","bones","map"];class IK{constructor(e,t,i){const r=i||ci.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let ci=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(xK,"")}static parseTrackName(t){const i=AK.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==DK.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const c=o[a];if(c.name===i||c.uuid===i)return c;const l=r(c.children);if(l)return l}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=IK,n})();ci.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ci.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ci.prototype.GetterByBindingType=[ci.prototype._getValue_direct,ci.prototype._getValue_array,ci.prototype._getValue_arrayElement,ci.prototype._getValue_toArray],ci.prototype.SetterByBindingTypeAndVersioning=[[ci.prototype._setValue_direct,ci.prototype._setValue_direct_setNeedsUpdate,ci.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ci.prototype._setValue_array,ci.prototype._setValue_array_setNeedsUpdate,ci.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ci.prototype._setValue_arrayElement,ci.prototype._setValue_arrayElement_setNeedsUpdate,ci.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ci.prototype._setValue_fromArray,ci.prototype._setValue_fromArray_setNeedsUpdate,ci.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class OK{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),c={endingStart:rh,endingEnd:rh};for(let l=0;l!==o;++l){const u=s[l].createInterpolant(null);a[l]=u,u.settings=c}this._interpolantSettings=c,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,a=r/s;e.warp(1,s/r,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const c=a.parameterPositions,l=a.sampleValues;return c[0]=s,c[1]=s+i,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled)return void this._updateWeight(e);const s=this._startTime;if(null!==s){const c=(e-s)*i;c<0||0===i?t=0:(this._startTime=null,t=i*c)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const c=this._interpolants,l=this._propertyBindings;if(2501===this.blendMode)for(let u=0,d=c.length;u!==d;++u)c[u].evaluate(o),l[u].accumulateAdditive(a);else for(let u=0,d=c.length;u!==d;++u)c[u].evaluate(o),l[u].accumulate(r,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(null!==i){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;null!==i&&(t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=2202===i;if(0===e)return-1===s?r:o&&1==(1&s)?t-r:r;if(2200===i){-1===s&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===s&&(e>=0?(s=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===c){const l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1==(1&s))return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=sh,r.endingEnd=sh):(r.endingStart=e?this.zeroSlopeAtStart?sh:rh:2402,r.endingEnd=t?this.zeroSlopeAtEnd?sh:rh:2402)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,c=o.sampleValues;return a[0]=s,c[0]=t,a[1]=s+e,c[1]=i,this}}const RK=new Float32Array(1);class yg extends Uc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,c=i.uuid,l=this._bindingsByRootAndName;let u=l[c];void 0===u&&(u={},l[c]=u);for(let d=0;d!==s;++d){const f=r[d],p=f.name;let m=u[p];if(void 0!==m)++m.referenceCount,o[d]=m;else{if(m=o[d],void 0!==m){null===m._cacheIndex&&(++m.referenceCount,this._addInactiveBinding(m,c,p));continue}m=new wK(ci.create(i,p,t&&t._propertyBindings[d].binding.parsedPath),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,c,p),o[d]=m}a[d].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];0==--s.useCount&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],c=a.knownActions,l=c[c.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,c[u]=l,c.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===c.length&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];0==--s.referenceCount&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],c=t[t.length-1],l=e._cacheIndex;c._cacheIndex=l,t[l]=c,t.pop(),delete a[s],0===Object.keys(a).length&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return void 0===i&&(i=new F2(new Float32Array(2),new Float32Array(2),1,RK),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o="string"==typeof e?pg.findByName(r,e):e;const a=null!==o?o.uuid:e,c=this._actionsByClip[a];let l=null;if(void 0===i&&(i=null!==o?o.blendMode:2500),void 0!==c){const d=c.actionByRoot[s];if(void 0!==d&&d.blendMode===i)return d;l=c.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const u=new OK(this,o,t,i);return this._bindAction(u,l),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s="string"==typeof e?pg.findByName(i,e):e,a=this._actionsByClip[s?s.uuid:e];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let i=this._nActiveActions-1;i>=0;--i)e[i].stop();return this}update(e){const t=this._actions,i=this._nActiveActions,r=this.time+=e*=this.timeScale,s=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==i;++l)t[l]._update(r,e,s,o);const a=this._bindings,c=this._nActiveBindings;for(let l=0;l!==c;++l)a[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(void 0!==s){const o=s.knownActions;for(let a=0,c=o.length;a!==c;++a){const l=o[a];this._deactivateAction(l);const u=l._cacheIndex,d=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot[t];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}const s=this._bindingsByRootAndName[t];if(void 0!==s)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class nL{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ai(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"157"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="157");const hL={type:"change"},_M={type:"start"},fL={type:"end"},c0=new gh,pL=new $c,LK=Math.cos(70*ZP_DEG2RAD);class kK extends Uc{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new U,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Y){Y.addEventListener("keydown",F),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",F),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(hL),i.update(),s=r.NONE},this.update=function(){const Y=new U,qe=(new Er).setFromUnitVectors(e.up,new U(0,1,0)),Ae=qe.clone().invert(),zt=new U,Et=new Er,Ot=new U,St=2*Math.PI;return function(Je=null){const Xe=i.object.position;Y.copy(Xe).sub(i.target),Y.applyQuaternion(qe),a.setFromVector3(Y),i.autoRotate&&s===r.NONE&&Q(function R(Y){return null!==Y?2*Math.PI/60*i.autoRotateSpeed*Y:2*Math.PI/60/60*i.autoRotateSpeed}(Je)),i.enableDamping?(a.theta+=c.theta*i.dampingFactor,a.phi+=c.phi*i.dampingFactor):(a.theta+=c.theta,a.phi+=c.phi);let it=i.minAzimuthAngle,Ke=i.maxAzimuthAngle;isFinite(it)&&isFinite(Ke)&&(it<-Math.PI?it+=St:it>Math.PI&&(it-=St),Ke<-Math.PI?Ke+=St:Ke>Math.PI&&(Ke-=St),a.theta=it<=Ke?Math.max(it,Math.min(Ke,a.theta)):a.theta>(it+Ke)/2?Math.max(it,a.theta):Math.min(Ke,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),!0===i.enableDamping?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),a.radius=me(i.zoomToCursor&&L||i.object.isOrthographicCamera?a.radius:a.radius*l),Y.setFromSpherical(a),Y.applyQuaternion(Ae),Xe.copy(i.target).add(Y),i.object.lookAt(i.target),!0===i.enableDamping?(c.theta*=1-i.dampingFactor,c.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(c.set(0,0,0),u.set(0,0,0));let Re=!1;if(i.zoomToCursor&&L){let wt=null;if(i.object.isPerspectiveCamera){const $t=Y.length();wt=me($t*l),i.object.position.addScaledVector(A,$t-wt),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const $t=new U(O.x,O.y,0);$t.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/l)),i.object.updateProjectionMatrix(),Re=!0;const $i=new U(O.x,O.y,0);$i.unproject(i.object),i.object.position.sub($i).add($t),i.object.updateMatrixWorld(),wt=Y.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;null!==wt&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(wt).add(i.object.position):(c0.origin.copy(i.object.position),c0.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(c0.direction))<LK?e.lookAt(i.target):(pL.setFromNormalAndCoplanarPoint(i.object.up,i.target),c0.intersectPlane(pL,i.target))))}else i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/l)),i.object.updateProjectionMatrix(),Re=!0);return l=1,L=!1,!!(Re||zt.distanceToSquared(i.object.position)>o||8*(1-Et.dot(i.object.quaternion))>o||Ot.distanceToSquared(i.target)>0)&&(i.dispatchEvent(hL),zt.copy(i.object.position),Et.copy(i.object.quaternion),Ot.copy(i.target),Re=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Pe),i.domElement.removeEventListener("pointerdown",dt),i.domElement.removeEventListener("pointercancel",Tt),i.domElement.removeEventListener("wheel",j),i.domElement.removeEventListener("pointermove",pt),i.domElement.removeEventListener("pointerup",Tt),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",F),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new nL,c=new nL;let l=1;const u=new U,d=new xe,f=new xe,p=new xe,m=new xe,y=new xe,v=new xe,_=new xe,M=new xe,S=new xe,A=new U,O=new xe;let L=!1;const N=[],V={};function B(){return Math.pow(.95,i.zoomSpeed)}function Q(Y){c.theta-=Y}function he(Y){c.phi-=Y}const fe=function(){const Y=new U;return function(Ae,zt){Y.setFromMatrixColumn(zt,0),Y.multiplyScalar(-Ae),u.add(Y)}}(),X=function(){const Y=new U;return function(Ae,zt){!0===i.screenSpacePanning?Y.setFromMatrixColumn(zt,1):(Y.setFromMatrixColumn(zt,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(Ae),u.add(Y)}}(),se=function(){const Y=new U;return function(Ae,zt){const Et=i.domElement;if(i.object.isPerspectiveCamera){Y.copy(i.object.position).sub(i.target);let St=Y.length();St*=Math.tan(i.object.fov/2*Math.PI/180),fe(2*Ae*St/Et.clientHeight,i.object.matrix),X(2*zt*St/Et.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(fe(Ae*(i.object.right-i.object.left)/i.object.zoom/Et.clientWidth,i.object.matrix),X(zt*(i.object.top-i.object.bottom)/i.object.zoom/Et.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function de(Y){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?l/=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function pe(Y){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?l*=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Le(Y){if(!i.zoomToCursor)return;L=!0;const qe=i.domElement.getBoundingClientRect(),zt=Y.clientY-qe.top,Ot=qe.height;O.x=(Y.clientX-qe.left)/qe.width*2-1,O.y=-zt/Ot*2+1,A.set(O.x,O.y,1).unproject(i.object).sub(i.object.position).normalize()}function me(Y){return Math.max(i.minDistance,Math.min(i.maxDistance,Y))}function Se(Y){d.set(Y.clientX,Y.clientY)}function _e(Y){m.set(Y.clientX,Y.clientY)}function lt(){1===N.length?d.set(N[0].pageX,N[0].pageY):d.set(.5*(N[0].pageX+N[1].pageX),.5*(N[0].pageY+N[1].pageY))}function tn(){1===N.length?m.set(N[0].pageX,N[0].pageY):m.set(.5*(N[0].pageX+N[1].pageX),.5*(N[0].pageY+N[1].pageY))}function gn(){const Y=N[0].pageX-N[1].pageX,qe=N[0].pageY-N[1].pageY,Ae=Math.sqrt(Y*Y+qe*qe);_.set(0,Ae)}function ke(Y){if(1==N.length)f.set(Y.pageX,Y.pageY);else{const Ae=ot(Y);f.set(.5*(Y.pageX+Ae.x),.5*(Y.pageY+Ae.y))}p.subVectors(f,d).multiplyScalar(i.rotateSpeed);const qe=i.domElement;Q(2*Math.PI*p.x/qe.clientHeight),he(2*Math.PI*p.y/qe.clientHeight),d.copy(f)}function Me(Y){if(1===N.length)y.set(Y.pageX,Y.pageY);else{const qe=ot(Y);y.set(.5*(Y.pageX+qe.x),.5*(Y.pageY+qe.y))}v.subVectors(y,m).multiplyScalar(i.panSpeed),se(v.x,v.y),m.copy(y)}function He(Y){const qe=ot(Y),Ae=Y.pageX-qe.x,zt=Y.pageY-qe.y,Et=Math.sqrt(Ae*Ae+zt*zt);M.set(0,Et),S.set(0,Math.pow(M.y/_.y,i.zoomSpeed)),de(S.y),_.copy(M)}function dt(Y){!1!==i.enabled&&(0===N.length&&(i.domElement.setPointerCapture(Y.pointerId),i.domElement.addEventListener("pointermove",pt),i.domElement.addEventListener("pointerup",Tt)),function Ve(Y){N.push(Y)}(Y),"touch"===Y.pointerType?function ce(Y){switch($e(Y),N.length){case 1:switch(i.touches.ONE){case 0:if(!1===i.enableRotate)return;lt(),s=r.TOUCH_ROTATE;break;case 1:if(!1===i.enablePan)return;tn(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case 2:if(!1===i.enableZoom&&!1===i.enablePan)return;(function yt(){i.enableZoom&&gn(),i.enablePan&&tn()})(),s=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function k(){i.enableZoom&&gn(),i.enableRotate&&lt()})(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(_M)}(Y):function rn(Y){let qe;switch(Y.button){case 0:qe=i.mouseButtons.LEFT;break;case 1:qe=i.mouseButtons.MIDDLE;break;case 2:qe=i.mouseButtons.RIGHT;break;default:qe=-1}switch(qe){case 1:if(!1===i.enableZoom)return;(function ee(Y){Le(Y),_.set(Y.clientX,Y.clientY)})(Y),s=r.DOLLY;break;case 0:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(!1===i.enablePan)return;_e(Y),s=r.PAN}else{if(!1===i.enableRotate)return;Se(Y),s=r.ROTATE}break;case 2:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(!1===i.enableRotate)return;Se(Y),s=r.ROTATE}else{if(!1===i.enablePan)return;_e(Y),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(_M)}(Y))}function pt(Y){!1!==i.enabled&&("touch"===Y.pointerType?function Be(Y){switch($e(Y),s){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;ke(Y),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;Me(Y),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function Ee(Y){i.enableZoom&&He(Y),i.enablePan&&Me(Y)})(Y),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function xt(Y){i.enableZoom&&He(Y),i.enableRotate&&ke(Y)})(Y),i.update();break;default:s=r.NONE}}(Y):function ti(Y){switch(s){case r.ROTATE:if(!1===i.enableRotate)return;!function Ue(Y){f.set(Y.clientX,Y.clientY),p.subVectors(f,d).multiplyScalar(i.rotateSpeed);const qe=i.domElement;Q(2*Math.PI*p.x/qe.clientHeight),he(2*Math.PI*p.y/qe.clientHeight),d.copy(f),i.update()}(Y);break;case r.DOLLY:if(!1===i.enableZoom)return;!function ze(Y){M.set(Y.clientX,Y.clientY),S.subVectors(M,_),S.y>0?de(B()):S.y<0&&pe(B()),_.copy(M),i.update()}(Y);break;case r.PAN:if(!1===i.enablePan)return;!function Ge(Y){y.set(Y.clientX,Y.clientY),v.subVectors(y,m).multiplyScalar(i.panSpeed),se(v.x,v.y),m.copy(y),i.update()}(Y)}}(Y))}function Tt(Y){(function Mt(Y){delete V[Y.pointerId];for(let qe=0;qe<N.length;qe++)if(N[qe].pointerId==Y.pointerId)return void N.splice(qe,1)})(Y),0===N.length&&(i.domElement.releasePointerCapture(Y.pointerId),i.domElement.removeEventListener("pointermove",pt),i.domElement.removeEventListener("pointerup",Tt)),i.dispatchEvent(fL),s=r.NONE}function j(Y){!1===i.enabled||!1===i.enableZoom||s!==r.NONE||(Y.preventDefault(),i.dispatchEvent(_M),function ut(Y){Le(Y),Y.deltaY<0?pe(B()):Y.deltaY>0&&de(B()),i.update()}(Y),i.dispatchEvent(fL))}function F(Y){!1===i.enabled||!1===i.enablePan||function ft(Y){let qe=!1;switch(Y.code){case i.keys.UP:Y.ctrlKey||Y.metaKey||Y.shiftKey?he(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):se(0,i.keyPanSpeed),qe=!0;break;case i.keys.BOTTOM:Y.ctrlKey||Y.metaKey||Y.shiftKey?he(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):se(0,-i.keyPanSpeed),qe=!0;break;case i.keys.LEFT:Y.ctrlKey||Y.metaKey||Y.shiftKey?Q(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):se(i.keyPanSpeed,0),qe=!0;break;case i.keys.RIGHT:Y.ctrlKey||Y.metaKey||Y.shiftKey?Q(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):se(-i.keyPanSpeed,0),qe=!0}qe&&(Y.preventDefault(),i.update())}(Y)}function Pe(Y){!1!==i.enabled&&Y.preventDefault()}function $e(Y){let qe=V[Y.pointerId];void 0===qe&&(qe=new xe,V[Y.pointerId]=qe),qe.set(Y.pageX,Y.pageY)}function ot(Y){return V[(Y.pointerId===N[0].pointerId?N[1]:N[0]).pointerId]}i.domElement.addEventListener("contextmenu",Pe),i.domElement.addEventListener("pointerdown",dt),i.domElement.addEventListener("pointercancel",Tt),i.domElement.addEventListener("wheel",j,{passive:!1}),this.update()}}function gL(n,e){if(0===e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(2===e||1===e){let t=n.getIndex();if(null===t){const o=[],a=n.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n;for(let c=0;c<a.count;c++)o.push(c);n.setIndex(o),t=n.getIndex()}const i=t.count-2,r=[];if(2===e)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2==0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class BK extends gg{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new zK(t)}),this.register(function(t){return new JK(t)}),this.register(function(t){return new KK(t)}),this.register(function(t){return new QK(t)}),this.register(function(t){return new WK(t)}),this.register(function(t){return new $K(t)}),this.register(function(t){return new qK(t)}),this.register(function(t){return new XK(t)}),this.register(function(t){return new GK(t)}),this.register(function(t){return new YK(t)}),this.register(function(t){return new jK(t)}),this.register(function(t){return new ZK(t)}),this.register(function(t){return new VK(t)}),this.register(function(t){return new eQ(t)}),this.register(function(t){return new tQ(t)})}load(e,t,i,r){const s=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:vg.extractUrlBase(e),this.manager.itemStart(e);const a=function(l){r?r(l):console.error(l),s.manager.itemError(e),s.manager.itemEnd(e)},c=new fa(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(l){try{s.parse(l,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={},c=new TextDecoder;if("string"==typeof e)s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===mL){try{o[Sn.KHR_BINARY_GLTF]=new nQ(e)}catch(d){return void(r&&r(d))}s=JSON.parse(o[Sn.KHR_BINARY_GLTF].content)}else s=JSON.parse(c.decode(e));else s=e;if(void 0===s.asset||s.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new gQ(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](l);a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(d){case Sn.KHR_MATERIALS_UNLIT:o[d]=new HK;break;case Sn.KHR_DRACO_MESH_COMPRESSION:o[d]=new iQ(s,this.dracoLoader);break;case Sn.KHR_TEXTURE_TRANSFORM:o[d]=new rQ;break;case Sn.KHR_MESH_QUANTIZATION:o[d]=new sQ;break;default:f.indexOf(d)>=0&&void 0===a[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function UK(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Sn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class VK{constructor(e){this.parser=e,this.name=Sn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let l;const u=new st(16777215);void 0!==c.color&&u.setRGB(c.color[0],c.color[1],c.color[2],Tr);const d=void 0!==c.range?c.range:0;switch(c.type){case"directional":l=new _g(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new j2(u),l.distance=d;break;case"spot":l=new G2(u),l.distance=d,c.spot=c.spot||{},c.spot.innerConeAngle=void 0!==c.spot.innerConeAngle?c.spot.innerConeAngle:0,c.spot.outerConeAngle=void 0!==c.spot.outerConeAngle?c.spot.outerConeAngle:Math.PI/4,l.angle=c.spot.outerConeAngle,l.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return l.position.set(0,0,0),l.decay=2,Zc(l,c),void 0!==c.intensity&&(l.intensity=c.intensity),l.name=t.createUniqueName(c.name||"light_"+e),r=Promise.resolve(l),t.cache.add(i,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then(function(c){return i._getNodeRef(t.cache,a,c)})}}class HK{constructor(){this.name=Sn.KHR_MATERIALS_UNLIT}getMaterialType(){return dr}extendParams(e,t,i){const r=[];e.color=new st(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Tr),e.opacity=o[3]}void 0!==s.baseColorTexture&&r.push(i.assignTexture(e,"map",s.baseColorTexture,wi))}return Promise.all(r)}}class GK{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return void 0!==s&&(t.emissiveIntensity=s),Promise.resolve()}}class zK{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?ec:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new xe(a,a)}return Promise.all(s)}}class jK{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?ec:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class WK{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?ec:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new st(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(void 0!==o.sheenColorFactor){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Tr)}return void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,wi)),void 0!==o.sheenRoughnessTexture&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class $K{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?ec:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class qK{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?ec:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=(new st).setRGB(a[0],a[1],a[2],Tr),Promise.all(s)}}class XK{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?ec:null}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class YK{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?ec:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=(new st).setRGB(a[0],a[1],a[2],Tr),void 0!==o.specularColorTexture&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,wi)),Promise.all(s)}}class ZK{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?ec:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.anisotropyStrength&&(t.anisotropy=o.anisotropyStrength),void 0!==o.anisotropyRotation&&(t.anisotropyRotation=o.anisotropyRotation),void 0!==o.anisotropyTexture&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class JK{constructor(e){this.parser=e,this.name=Sn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class KK{constructor(e){this.parser=e,this.name=Sn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let c=i.textureLoader;if(a.uri){const l=i.options.manager.getHandler(a.uri);null!==l&&(c=l)}return this.detectSupport().then(function(l){if(l)return i.loadTextureImage(e,o.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class QK{constructor(e){this.parser=e,this.name=Sn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let c=i.textureLoader;if(a.uri){const l=i.options.manager.getHandler(a.uri);null!==l&&(c=l)}return this.detectSupport().then(function(l){if(l)return i.loadTextureImage(e,o.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class eQ{constructor(e){this.name=Sn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const u=r.count,d=r.byteStride,f=new Uint8Array(a,r.byteOffset||0,r.byteLength||0);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,f,r.mode,r.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(p),u,d,f,r.mode,r.filter),p})})}return null}}class tQ{constructor(e){this.name=Sn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;const r=t.meshes[i.mesh];for(const l of r.primitives)if(l.mode!==fo.TRIANGLES&&l.mode!==fo.TRIANGLE_STRIP&&l.mode!==fo.TRIANGLE_FAN&&void 0!==l.mode)return null;const o=i.extensions[this.name].attributes,a=[],c={};for(const l in o)a.push(this.parser.getDependency("accessor",o[l]).then(u=>(c[l]=u,c[l])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(l=>{const u=l.pop(),d=u.isGroup?u.children:[u],f=l[0].count,p=[];for(const m of d){const y=new qt,v=new U,_=new Er,M=new U(1,1,1),S=new d2(m.geometry,m.material,f);for(let A=0;A<f;A++)c.TRANSLATION&&v.fromBufferAttribute(c.TRANSLATION,A),c.ROTATION&&_.fromBufferAttribute(c.ROTATION,A),c.SCALE&&M.fromBufferAttribute(c.SCALE,A),S.setMatrixAt(A,y.compose(v,_,M));for(const A in c)"TRANSLATION"!==A&&"ROTATION"!==A&&"SCALE"!==A&&m.geometry.setAttribute(A,c[A]);ur.prototype.copy.call(S,m),this.parser.assignFinalMaterial(S),p.push(S)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const mL="glTF";class nQ{constructor(e){this.name=Sn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==mL)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,s=new DataView(e,12);let o=0;for(;o<r;){const a=s.getUint32(o,!0);o+=4;const c=s.getUint32(o,!0);if(o+=4,1313821514===c){const l=new Uint8Array(e,12+o,a);this.content=i.decode(l)}else if(5130562===c){const l=12+o;this.body=e.slice(l,l+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class iQ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Sn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},c={},l={};for(const u in o){const d=wM[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=wM[u]||u.toLowerCase();if(void 0!==o[u]){const f=i.accessors[e.attributes[u]];l[d]=zh[f.componentType].name,c[d]=!0===f.normalized}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(f){for(const p in f.attributes){const y=c[p];void 0!==y&&(f.attributes[p].normalized=y)}d(f)},a,l)})})}}class rQ{constructor(){this.name=Sn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class sQ{constructor(){this.name=Sn.KHR_MESH_QUANTIZATION}}class vL extends fg{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=2*a,l=3*a,u=r-t,d=(i-t)/u,f=d*d,p=f*d,m=e*l,y=m-l,v=-2*p+3*f,_=p-f,M=1-v,S=_-f+d;for(let A=0;A!==a;A++)s[A]=M*o[y+A+a]+S*(o[y+A+c]*u)+v*o[m+A+a]+_*(o[m+A]*u);return s}}const oQ=new Er;class aQ extends vL{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return oQ.fromArray(s).normalize().toArray(s),s}}const fo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},zh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yL={9728:Hi,9729:Ei,9984:1004,9985:1007,9986:1005,9987:za},bL={33071:Ur,33648:1002,10497:Fl},bM={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Yc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},cQ={CUBICSPLINE:void 0,LINEAR:ih,STEP:jp};function lu(n,e,t){for(const i in t.extensions)void 0===n[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Zc(n,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function dQ(n,e){if(n.updateMorphTargets(),void 0!==e.weights)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function hQ(n){let e;const t=n.extensions&&n.extensions[Sn.KHR_DRACO_MESH_COMPRESSION];if(e=t?"draco:"+t.bufferView+":"+t.indices+":"+MM(t.attributes):n.indices+":"+MM(n.attributes)+":"+n.mode,void 0!==n.targets)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+MM(n.targets[i]);return e}function MM(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function SM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const pQ=new qt;class gQ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new UK,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),this.textureLoader=typeof createImageBitmap>"u"||i||r&&s<98?new iu(this.options.manager):new vK(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new fa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return lu(s,a,r),Zc(a,r),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,c=o.length;a<c;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];void 0!==o.mesh&&(this._addNodeRef(this.meshCache,o.mesh),void 0!==o.skin&&(i[o.mesh].isSkinnedMesh=!0)),void 0!==o.camera&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const c=this.associations.get(o);null!=c&&this.associations.set(a,c);for(const[l,u]of o.children.entries())s(u,a.children[l])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Sn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(vg.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteOffset||0;return i.slice(s,s+(t.byteLength||0))})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const o=bM[r.type],c=!0===r.normalized,l=new(0,zh[r.componentType])(r.count*o);return Promise.resolve(new Di(l,o,c))}const s=[];return s.push(void 0!==r.bufferView?this.getDependency("bufferView",r.bufferView):null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],c=bM[r.type],l=zh[r.componentType],u=l.BYTES_PER_ELEMENT,f=r.byteOffset||0,p=void 0!==r.bufferView?i.bufferViews[r.bufferView].byteStride:void 0,m=!0===r.normalized;let y,v;if(p&&p!==u*c){const _=Math.floor(f/p),M="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+_+":"+r.count;let S=t.cache.get(M);S||(y=new l(a,_*p,r.count*p/u),S=new Ix(y,p/u),t.cache.add(M,S)),v=new Jl(S,c,f%p/u,m)}else y=null===a?new l(r.count*c):new l(a,f,r.count*c),v=new Di(y,c,m);if(void 0!==r.sparse){const A=r.sparse.values.byteOffset||0,O=new(0,zh[r.sparse.indices.componentType])(o[1],r.sparse.indices.byteOffset||0,r.sparse.count*bM.SCALAR),L=new l(o[2],A,r.sparse.count*c);null!==a&&(v=new Di(v.array.slice(),v.itemSize,v.normalized));for(let N=0,V=O.length;N<V;N++){const R=O[N];if(v.setX(R,L[N*c]),c>=2&&v.setY(R,L[N*c+1]),c>=3&&v.setZ(R,L[N*c+2]),c>=4&&v.setW(R,L[N*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const c=this.options.manager.getHandler(o.uri);null!==c&&(a=c)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],c=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const l=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",""===u.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(u.name=a.uri);const f=(s.samplers||{})[o.sampler]||{};return u.magFilter=yL[f.magFilter]||Ei,u.minFilter=yL[f.minFilter]||za,u.wrapS=bL[f.wrapS]||Fl,u.wrapT=bL[f.wrapT]||Fl,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[c]=l,l}loadImageSource(e,t){const r=this.json,s=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let c=o.uri||"",l=!1;if(void 0!==o.bufferView)c=this.getDependency("bufferView",o.bufferView).then(function(d){l=!0;const f=new Blob([d],{type:o.mimeType});return c=a.createObjectURL(f),c});else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(c).then(function(d){return new Promise(function(f,p){let m=f;!0===t.isImageBitmapLoader&&(m=function(y){const v=new Fo(y);v.needsUpdate=!0,f(v)}),t.load(vg.resolveURL(d,s.path),m,void 0,p)})}).then(function(d){return!0===l&&a.revokeObjectURL(c),d.userData.mimeType=o.mimeType||function fQ(n){return n.search(/\.jpe?g($|\?)/i)>0||0===n.search(/^data\:image\/jpeg/)?"image/jpeg":n.search(/\.webp($|\?)/i)>0||0===n.search(/^data\:image\/webp/)?"image/webp":"image/png"}(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),d});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((o=o.clone()).channel=i.texCoord),s.extensions[Sn.KHR_TEXTURE_TRANSFORM]){const a=void 0!==i.extensions?i.extensions[Sn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const c=s.associations.get(o);o=s.extensions[Sn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,c)}}return void 0!==r&&(o.colorSpace=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=void 0===t.attributes.tangent,s=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let c=this.cache.get(a);c||(c=new Fx,Go.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(a,c)),i=c}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let c=this.cache.get(a);c||(c=new Ms,Go.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,this.cache.add(a,c)),i=c}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=i.clone(),s&&(c.vertexColors=!0),o&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(i))),i=c}e.material=i}getMaterialType(){return Kv}loadMaterial(e){const t=this,r=this.extensions,s=this.json.materials[e];let o;const a={},l=[];if((s.extensions||{})[Sn.KHR_MATERIALS_UNLIT]){const d=r[Sn.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),l.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new st(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],Tr),a.opacity=f[3]}void 0!==d.baseColorTexture&&l.push(t.assignTexture(a,"map",d.baseColorTexture,wi)),a.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,a.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(l.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),l.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}!0===s.doubleSided&&(a.side=2);const u=s.alphaMode||"OPAQUE";if("BLEND"===u?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===u&&(a.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&o!==dr&&(l.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new xe(1,1),void 0!==s.normalTexture.scale)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(void 0!==s.occlusionTexture&&o!==dr&&(l.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(a.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&o!==dr){const d=s.emissiveFactor;a.emissive=(new st).setRGB(d[0],d[1],d[2],Tr)}return void 0!==s.emissiveTexture&&o!==dr&&l.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,wi)),Promise.all(l).then(function(){const d=new o(a);return s.name&&(d.name=s.name),Zc(d,s),t.associations.set(d,{materials:e}),s.extensions&&lu(r,d,s),d})}createUniqueName(e){const t=ci.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Sn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(c){return wL(c,a,t)})}const o=[];for(let a=0,c=e.length;a<c;a++){const l=e[a],u=hQ(l),d=r[u];if(d)o.push(d.promise);else{let f;f=l.extensions&&l.extensions[Sn.KHR_DRACO_MESH_COMPRESSION]?s(l):wL(new mn,l,t),r[u]={primitive:l,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.extensions,s=this.json.meshes[e],o=s.primitives,a=[];for(let c=0,l=o.length;c<l;c++){const u=void 0===o[c].material?(void 0===(n=this.cache).DefaultMaterial&&(n.DefaultMaterial=new Kv({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),n.DefaultMaterial):this.getDependency("material",o[c].material);a.push(u)}var n;return a.push(t.loadGeometries(o)),Promise.all(a).then(function(c){const l=c.slice(0,c.length-1),u=c[c.length-1],d=[];for(let p=0,m=u.length;p<m;p++){const y=u[p],v=o[p];let _;const M=l[p];if(v.mode===fo.TRIANGLES||v.mode===fo.TRIANGLE_STRIP||v.mode===fo.TRIANGLE_FAN||void 0===v.mode)_=!0===s.isSkinnedMesh?new a2(y,M):new Ar(y,M),!0===_.isSkinnedMesh&&_.normalizeSkinWeights(),v.mode===fo.TRIANGLE_STRIP?_.geometry=gL(_.geometry,1):v.mode===fo.TRIANGLE_FAN&&(_.geometry=gL(_.geometry,2));else if(v.mode===fo.LINES)_=new kx(y,M);else if(v.mode===fo.LINE_STRIP)_=new Kl(y,M);else if(v.mode===fo.LINE_LOOP)_=new _2(y,M);else{if(v.mode!==fo.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);_=new y2(y,M)}Object.keys(_.geometry.morphAttributes).length>0&&dQ(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),Zc(_,s),v.extensions&&lu(r,_,v),t.assignFinalMaterial(_),d.push(_)}for(let p=0,m=d.length;p<m;p++)t.associations.set(d[p],{meshes:e,primitives:p});if(1===d.length)return s.extensions&&lu(r,d[0],s),d[0];const f=new qc;s.extensions&&lu(r,f,s),t.associations.set(f,{meshes:e});for(let p=0,m=d.length;p<m;p++)f.add(d[p]);return f})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(r)return"perspective"===i.type?t=new fr(ZP_radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===i.type&&(t=new Ev(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Zc(t,i),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return i.push(void 0!==t.inverseBindMatrices?this.getDependency("accessor",t.inverseBindMatrices):null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],c=[];for(let l=0,u=o.length;l<u;l++){const d=o[l];if(d){a.push(d);const f=new qt;null!==s&&f.fromArray(s.array,16*l),c.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[l])}return new Lv(a,c)})}loadAnimation(e){const i=this,r=this.json.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],c=[],l=[],u=[];for(let d=0,f=r.channels.length;d<f;d++){const p=r.channels[d],m=r.samplers[p.sampler],y=p.target,_=void 0!==r.parameters?r.parameters[m.input]:m.input,M=void 0!==r.parameters?r.parameters[m.output]:m.output;void 0!==y.node&&(o.push(this.getDependency("node",y.node)),a.push(this.getDependency("accessor",_)),c.push(this.getDependency("accessor",M)),l.push(m),u.push(y))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c),Promise.all(l),Promise.all(u)]).then(function(d){const f=d[0],p=d[1],m=d[2],y=d[3],v=d[4],_=[];for(let M=0,S=f.length;M<S;M++){const A=f[M],O=p[M],L=m[M],N=y[M],V=v[M];if(void 0===A)continue;A.updateMatrix&&A.updateMatrix();const R=i._createAnimationTracks(A,O,L,N,V);if(R)for(let B=0;B<R.length;B++)_.push(R[B])}return new pg(s,void 0,_)})}createNodeMesh(e){const i=this,r=this.json.nodes[e];return void 0===r.mesh?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return void 0!==r.weights&&o.traverse(function(a){if(a.isMesh)for(let c=0,l=r.weights.length;c<l;c++)a.morphTargetInfluences[c]=r.weights[c]}),o})}loadNode(e){const i=this,r=this.json.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let l=0,u=a.length;l<u;l++)o.push(i.getDependency("node",a[l]));const c=void 0===r.skin?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),c]).then(function(l){const u=l[0],d=l[1],f=l[2];null!==f&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(f,pQ)});for(let p=0,m=d.length;p<m;p++)u.add(d[p]);return u})}_loadNodeShallow(e){const i=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const s=this.json.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],c=r._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return c&&a.push(c),void 0!==s.camera&&a.push(r.getDependency("camera",s.camera).then(function(l){return r._getNodeRef(r.cameraCache,s.camera,l)})),r._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){a.push(l)}),this.nodeCache[e]=Promise.all(a).then(function(l){let u;if(u=!0===s.isBone?new Nx:l.length>1?new qc:1===l.length?l[0]:new ur,u!==l[0])for(let d=0,f=l.length;d<f;d++)u.add(l[d]);if(s.name&&(u.userData.name=s.name,u.name=o),Zc(u,s),s.extensions&&lu(i,u,s),void 0!==s.matrix){const d=new qt;d.fromArray(s.matrix),u.applyMatrix4(d)}else void 0!==s.translation&&u.position.fromArray(s.translation),void 0!==s.rotation&&u.quaternion.fromArray(s.rotation),void 0!==s.scale&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new qc;i.name&&(s.name=r.createUniqueName(i.name)),Zc(s,i),i.extensions&&lu(t,s,i);const o=i.nodes||[],a=[];for(let c=0,l=o.length;c<l;c++)a.push(r.getDependency("node",o[c]));return Promise.all(a).then(function(c){for(let u=0,d=c.length;u<d;u++)s.add(c[u]);return r.associations=(u=>{const d=new Map;for(const[f,p]of r.associations)(f instanceof Go||f instanceof Fo)&&d.set(f,p);return u.traverse(f=>{const p=r.associations.get(f);null!=p&&d.set(f,p)}),d})(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,c=[];let l;switch(Yc[s.path]===Yc.weights?e.traverse(function(f){f.morphTargetInfluences&&c.push(f.name?f.name:f.uuid)}):c.push(a),Yc[s.path]){case Yc.weights:l=Uh;break;case Yc.rotation:l=nu;break;case Yc.position:case Yc.scale:l=Hh;break;default:l=1===i.itemSize?Uh:Hh}const u=void 0!==r.interpolation?cQ[r.interpolation]:ih,d=this._getArrayFromAccessor(i);for(let f=0,p=c.length;f<p;f++){const m=new l(c[f]+"."+Yc[s.path],t.array,d,u);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(m),o.push(m)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=SM(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){return new(this instanceof nu?aQ:vL)(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function wL(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(c){n.setAttribute(a,c)})}for(const o in i){const a=wM[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(void 0!==e.indices&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Gn.workingColorSpace!==Tr&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Gn.workingColorSpace}" not supported.`),Zc(n,e),function mQ(n,e,t){const i=e.attributes,r=new Bo;if(void 0===i.POSITION)return;{const a=t.json.accessors[i.POSITION],c=a.min,l=a.max;if(void 0===c||void 0===l)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new U(c[0],c[1],c[2]),new U(l[0],l[1],l[2])),a.normalized){const u=SM(zh[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}const s=e.targets;if(void 0!==s){const a=new U,c=new U;for(let l=0,u=s.length;l<u;l++){const d=s[l];if(void 0!==d.POSITION){const f=t.json.accessors[d.POSITION],p=f.min,m=f.max;if(void 0!==p&&void 0!==m){if(c.setX(Math.max(Math.abs(p[0]),Math.abs(m[0]))),c.setY(Math.max(Math.abs(p[1]),Math.abs(m[1]))),c.setZ(Math.max(Math.abs(p[2]),Math.abs(m[2]))),f.normalized){const y=SM(zh[f.componentType]);c.multiplyScalar(y)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Uo;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}(n,e,t),Promise.all(r).then(function(){return void 0!==e.targets?function uQ(n,e,t){let i=!1,r=!1,s=!1;for(let l=0,u=e.length;l<u;l++){const d=e[l];if(void 0!==d.POSITION&&(i=!0),void 0!==d.NORMAL&&(r=!0),void 0!==d.COLOR_0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],c=[];for(let l=0,u=e.length;l<u;l++){const d=e[l];if(i){const f=void 0!==d.POSITION?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(f)}if(r){const f=void 0!==d.NORMAL?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(f)}if(s){const f=void 0!==d.COLOR_0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;c.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c)]).then(function(l){const d=l[1],f=l[2];return i&&(n.morphAttributes.position=l[0]),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}(n,e.targets,t):n})}const _Q=function(n,e){return{display:n,opacity:e}};let vQ=(()=>{class n{openModal(){var t=this;return Jd(function*(){t.displayM="block";for(var i=1;i<=100;i++)t.opacityM=i.toString()+"%",yield new Promise(r=>setTimeout(r,1))})()}onCloseHandled(){var t=this;return Jd(function*(){for(var i=99;i>=0;i--)t.opacityM=i.toString()+"%",yield new Promise(r=>setTimeout(r,1));t.displayM="none"})()}constructor(t){this.router=t,this.displayM="none",this.opacityM="0%"}ngOnInit(){const t=new ZN,i=new fr(75,window.innerWidth/window.innerHeight,.1,3e4);i.position.set(0,-7.5,20);const r=new YN({alpha:!0});r.setSize(window.innerWidth,window.innerHeight),document.getElementById("scenediv").appendChild(r.domElement);const o=new kK(i,r.domElement);o.enableDamping=!0;let a,c,l,u,d,f=!1,p=!1,m=!1,y=!1,v=!1,_=!1,M=!1,S=!1,A=!1,O=!1,L=!1,N=!1,V=!1;const R=new BK,B=new _g(new st(16764108),2);B.position.set(-1,1,1),t.add(B);const Q=new _g(new st(13434828),2);Q.position.set(1,1,1),t.add(Q);const he=new _g(new st(13421823),2);he.position.set(0,-1,0),t.add(he);let fe,X=[],se=(new iu).load("assets/skybox/ft.jpg"),de=(new iu).load("assets/skybox/bk.jpg"),pe=(new iu).load("assets/skybox/up.jpg"),Le=(new iu).load("assets/skybox/dn.jpg"),me=(new iu).load("assets/skybox/rt.jpg"),Se=(new iu).load("assets/skybox/lf.jpg");X.push(new dr({map:se})),X.push(new dr({map:de})),X.push(new dr({map:pe})),X.push(new dr({map:Le})),X.push(new dr({map:me})),X.push(new dr({map:Se}));for(let k=0;k<6;k++)X[k].side=1;let ee=new ql(1e4,1e4,1e4),_e=new Ar(ee,X);t.add(_e),R.load("assets/glbs/zap.glb",k=>{k.scene.scale.set(30,30,30),k.scene.position.z+=4.1,k.scene.position.y-=13.5,k.scene.position.x+=.5,t.add(k.scene),f=!0;const ke=(new Bo).setFromObject(k.scene);o.target.x=(ke.min.x+ke.max.x)/2,o.target.y=(ke.min.y+ke.max.y)/2+1,o.target.z=(ke.min.z+ke.max.z)/2},k=>{console.log(k)}),R.load("assets/glbs/jokerp5mask.glb",k=>{k.scene.scale.set(65,65,65),k.scene.position.z+=7.25,k.scene.position.y-=16.35,k.scene.position.x+=2.5,k.scene.rotation.x-=1.5,k.scene.rotation.z-=.5,t.add(k.scene),p=!0},k=>{console.log(k)}),R.load("assets/glbs/desk.glb",k=>{k.scene.scale.set(1,1,1.2),k.scene.position.z+=4,k.scene.position.y-=25.75,k.scene.position.x-=9.75,k.scene.rotation.y+=2.75,t.add(k.scene),M=!0},k=>{console.log(k)}),R.load("assets/glbs/laptop.glb",k=>{k.scene.scale.set(1,1,1),k.scene.position.z+=6.85,k.scene.position.y-=14,k.scene.position.x-=12.15,k.scene.rotation.y-=14.5,t.add(k.scene),S=!0},k=>{console.log(k)}),R.load("assets/glbs/cdplayer.glb",k=>{k.scene.scale.set(.05,.05,.05),k.scene.position.z+=5.75,k.scene.position.y-=14.01,k.scene.position.x-=11.9,d=new yg(k.scene),d.clipAction(k.animations[0]).play(),t.add(k.scene),V=!0},k=>{console.log(k)}),R.load("assets/glbs/mouse.glb",k=>{k.scene.scale.set(.05,.05,.05),k.scene.position.z+=6.5,k.scene.position.y-=13.98,k.scene.position.x-=12.5,k.scene.rotation.y-=.75,t.add(k.scene),A=!0},k=>{console.log(k)}),R.load("assets/glbs/pewdiepiechair.glb",k=>{k.scene.scale.set(1.25,1.25,1.25),k.scene.position.z+=10,k.scene.position.y-=15.5,k.scene.position.x-=13,k.scene.rotation.y+=1.5,t.add(k.scene),O=!0},k=>{console.log(k)}),R.load("assets/glbs/slifer.glb",k=>{k.scene.scale.set(.1,.1,.1),k.scene.position.z-=20,k.scene.position.y+=10,k.scene.position.x-=30,k.scene.rotation.y+=1,k.scene.rotation.z+=1,t.add(k.scene),L=!0},k=>{console.log(k)}),R.load("assets/glbs/naruto.glb",k=>{k.scene.position.y-=15.5,a=new yg(k.scene),a.clipAction(k.animations[0]).play(),fe=k.scene,t.add(k.scene),m=!0},k=>{console.log(k)}),R.load("assets/glbs/pikachu.glb",k=>{k.scene.position.y-=14.5,k.scene.position.x+=4.5,k.scene.position.z+=4.5,c=new yg(k.scene),c.clipAction(k.animations[1]).play(),t.add(k.scene),y=!0},k=>{console.log(k)}),R.load("assets/glbs/spiderman.glb",k=>{k.scene.position.y-=8.5,k.scene.position.x+=4.5,k.scene.position.z+=2.5,k.scene.rotation.z+=3.1,u=new yg(k.scene),u.clipAction(k.animations[0]).play(),t.add(k.scene),_=!0},k=>{console.log(k)}),R.load("assets/glbs/sans.glb",k=>{k.scene.scale.set(.03,.03,.03),k.scene.position.y-=15.5,k.scene.position.x+=7,k.scene.position.z+=1,k.scene.rotation.y-=1,l=new yg(k.scene),l.clipAction(k.animations[0]).play(),t.add(k.scene),v=!0},k=>{console.log(k)}),R.load("assets/glbs/treehouse.glb",k=>{t.add(k.scene),N=!0},k=>{console.log(k)}),window.addEventListener("resize",function Ue(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight),lt()},!1);const ze=new Z2;var Ge=0;function lt(){r.render(t,i)}let tn=document.getElementById("loading"),gn=document.getElementById("mainscreen"),yt=!0;!function ft(){requestAnimationFrame(ft),o.update();let k=ze.getDelta();m&&a.update(k),m&&function ut(){fe.rotation.y=-(Ge+=.01),fe.position.x=11*Math.cos(Ge),fe.position.z=11*Math.sin(Ge)}(),y&&c.update(k),v&&l.update(k),_&&u.update(k),V&&d.update(k),f&&p&&m&&y&&v&&_&&M&&S&&A&&O&&L&&N&&yt&&(tn.hidden=!0,gn.hidden=!1,yt=!1),lt()}()}onPage(t){var i=this;return Jd(function*(){let r=document.getElementById("loading"),s=document.getElementById("mainscreen");r.style.opacity="0",s.hidden=!0,r.hidden=!1;for(var o=1;o<=100;o++)r.style.opacity=o.toString()+"%",yield new Promise(a=>setTimeout(a,10));yield new Promise(a=>setTimeout(a,40)),i.router.navigate([t])})()}static#e=this.\u0275fac=function(i){return new(i||n)(J(Fs))};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-mainpage"]],decls:90,vars:4,consts:[["lang","en",2,"background-color","#CBC3E3"],["charset","UTF-8"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH","crossorigin","anonymous"],["id","scenediv"],["id","loading",1,"content"],[2,"height","30%"],["src","assets/loading.gif"],["id","mainscreen","hidden","true"],["type","button",1,"btn","cornerleft",3,"click"],[1,"bi","bi-badge-cc-fill"],["type","button",1,"btn","cornerbtn",3,"click"],[1,"bi","bi-clipboard-heart-fill"],["id","centerbody"],[1,"content"],[1,"text_shadows"],[1,"container"],[1,"row"],[1,"col"],["type","button",1,"btn",3,"click"],["id","bottom"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content",2,"background-color","#CBC3E3"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close","mod",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"contrib"],["href","https://skfb.ly/oLFnE"],["href","https://skfb.ly/oGpXs"],["href","https://skfb.ly/onEsu"],["href","https://skfb.ly/oFLUy"],["href","https://skfb.ly/orQHW"],["href","https://skfb.ly/6YDFF"],["href","https://skfb.ly/6VGPD"],["href","https://skfb.ly/orFM9"],["href","https://skfb.ly/oy88W"],["href","https://skfb.ly/6AEGA"],["href","https://skfb.ly/osLIQ"],["href","https://www.microsoft.com/en-us/garage/wall-of-fame/3d-models-in-office/"],[1,"modal-footer"],["type","button",1,"btn","btn-default","mod",3,"click"]],template:function(i,r){1&i&&(b(0,"html",0)(1,"head"),G(2,"meta",1)(3,"link",2),w(),b(4,"body"),G(5,"div",3),b(6,"div",4)(7,"div",5),G(8,"img",6),w()(),b(9,"div",7)(10,"button",8),Fe("click",function(){return r.openModal()}),G(11,"i",9),w(),b(12,"button",10),Fe("click",function(){return r.onPage("favourites")}),G(13,"i",11),w(),b(14,"div",12)(15,"div",13)(16,"h1",14),E(17,"Anthony Amgad"),w()(),b(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",13)(22,"button",18),Fe("click",function(){return r.onPage("about")}),E(23,"About"),w()()(),b(24,"div",17)(25,"div",13)(26,"button",18),Fe("click",function(){return r.onPage("experience")}),E(27,"Experience"),w()()()(),b(28,"div",16)(29,"div",17)(30,"div",13)(31,"button",18),Fe("click",function(){return r.onPage("projects")}),E(32,"Projects"),w()()()()()(),b(33,"div",19)(34,"h6"),E(35,"Portfolio"),G(36,"br"),E(37,"Explore the Enviroment"),w()()()()(),b(38,"div",20)(39,"div",21)(40,"div",22)(41,"div",23)(42,"h4",24),E(43,"3D Models Creators"),w(),b(44,"button",25),Fe("click",function(){return r.onCloseHandled()}),b(45,"span",26),E(46,"\xd7"),w()()(),b(47,"div",27)(48,"p"),E(49,"It is important to note that none of the 3D models were created by me and are under Creative Commons Attribution License. I'd like to thank all of the models' creators respectively <3"),w(),b(50,"div",28)(51,"a",29),E(52,"LouisHackney | CD Player"),w(),G(53,"br"),b(54,"a",30),E(55,"GeniusPilot2016 | Laptop"),w(),G(56,"br"),b(57,"a",31),E(58,"ribot02 | Desk"),w(),G(59,"br"),b(60,"a",32),E(61,"Josevan Danusastra | Persona Joker Mask"),w(),G(62,"br"),b(63,"a",33),E(64,"Felix Yadomi | Mouse"),w(),G(65,"br"),b(66,"a",34),E(67,"Monhoo | Naruto"),w(),G(68,"br"),b(69,"a",35),E(70,"Niekjes10 | Pewdiepie Chair"),w(),G(71,"br"),b(72,"a",36),E(73,"Raghav Gupta | Pikachu"),w(),G(74,"br"),b(75,"a",37),E(76,"VibaPop | Sans"),w(),G(77,"br"),b(78,"a",38),E(79,"jovankastrol | Slifer the Sky Dragon"),w(),G(80,"br"),b(81,"a",39),E(82,"KhangDuyNguyen189 | Superior Spiderman"),w(),G(83,"br"),b(84,"a",40),E(85,"Microsoft | Minecraft Treehouse & Zap Sign"),w(),G(86,"br"),w()(),b(87,"div",41)(88,"button",42),Fe("click",function(){return r.onCloseHandled()}),E(89,"Close"),w()()()()()),2&i&&(Oe(38),De("ngStyle",so(1,_Q,r.displayM,r.opacityM)))},dependencies:[K1],styles:["#corner[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;margin-left:1%;margin-top:1%;width:20%;background-color:#e0b0ff;border-radius:25%;padding:1%;opacity:40%}#bottom[_ngcontent-%COMP%]{position:fixed!important;bottom:0!important;text-align:center;width:100%;color:#fff}.toptip[_ngcontent-%COMP%]{color:#bf40bf;text-wrap:wrap;display:block;margin:auto;text-align:center}.cornerbtn[_ngcontent-%COMP%]{position:fixed!important;top:0!important;right:0!important;margin-right:1%;margin-top:1%;width:5%}.cornerleft[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;margin-left:1%;margin-top:1%;width:5%}button[_ngcontent-%COMP%]{background-color:#e0b0ff;box-shadow:0 8px 16px #0003,0 6px 20px #00000030}button[_ngcontent-%COMP%]:hover{background-color:#9f2b68}button[_ngcontent-%COMP%]:active{background-color:#bf40bf!important}*[_ngcontent-%COMP%]:not(body):not(#scenediv):not(html):not(.modal){position:relative}.content[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.text_shadows[_ngcontent-%COMP%]{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3;font-family:trashfort,sans-serif;font-weight:400;text-transform:uppercase;font-size:calc(2rem + 5vw);text-align:center;margin:0;color:#bf40bf;animation:_ngcontent-%COMP%_shadows 1.2s ease-in infinite,move 1.2s ease-in infinite;letter-spacing:.4rem}@keyframes _ngcontent-%COMP%_shadows{0%{text-shadow:none}10%{text-shadow:3px 3px 0 #E0B0FF}20%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF}30%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68}40%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3}50%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3}60%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3}70%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68}80%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF}90%{text-shadow:3px 3px 0 #E0B0FF}to{text-shadow:none}}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}40%{transform:translate(-12px,-12px)}50%{transform:translate(-12px,-12px)}60%{transform:translate(-12px,-12px)}to{transform:translate(0)}}body[_ngcontent-%COMP%]{margin:0;min-height:100vh;font-family:kbdunktank,sans-serif;font-weight:300;font-size:1.75rem;display:flex;flex-direction:column;justify-content:center;overflow:hidden;background-color:#eff8e2}#scenediv[_ngcontent-%COMP%]{position:fixed;top:0;left:0}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}#loading[_ngcontent-%COMP%]{height:100vh;background-color:#fff;opacity:100%}.mod[_ngcontent-%COMP%]{background-color:transparent;border:transparent;padding:6px!important;box-shadow:none}.close[_ngcontent-%COMP%]:hover{background-color:transparent!important;color:#bf40bf}.modal-body[_ngcontent-%COMP%] > .contrib[_ngcontent-%COMP%]{text-align:center}@media all and (max-width: 801px){.cornerbtn[_ngcontent-%COMP%], .cornerleft[_ngcontent-%COMP%]{padding:0}}"]})}return n})(),yQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-aboutpage"]],decls:168,vars:2,consts:[[2,"padding","20px 30px 20px 30px"],["align","center",1,"text_shadows"],["id","compview"],[1,"row"],[1,"col"],["align","left",1,"glitch"],["align","center"],["href","https://eng.asu.edu.eg/","target","_blank","rel","noreferrer"],["alt","asu","width","40","height","40",3,"src"],["href","https://uel.ac.uk/","target","_blank","rel","noreferrer"],["alt","uel","height","40",3,"src"],["id","mobview"],["align","left",1,"noglitch"],["src","https://eng.asu.edu.eg/img/logo.png","alt","asu","width","40","height","40"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/University_of_East_London_logo.svg/800px-University_of_East_London_logo.svg.png","alt","uel","height","40"],["align","left",1,"matrix"],["href","https://linkedin.com/in/anthony-amgad","target","blank"],["align","center","src","https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/linked-in-alt.svg","alt","anthony-amgad","height","30","width","40"],["href","https://github.com/anthony-amgad","target","blank"],["align","center","src","https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/github.svg","alt","anthony-amgad","height","30","width","40"],["href","https://developer.android.com","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/android/android-original-wordmark.svg","alt","android","width","40","height","40"],["href","https://angular.io","target","_blank","rel","noreferrer"],["src","https://angular.io/assets/images/logos/angular/angular.svg","alt","angular","width","40","height","40"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/angularjs/angularjs-original-wordmark.svg","alt","angularjs","width","40","height","40"],["href","https://www.arduino.cc/","target","_blank","rel","noreferrer"],["src","https://cdn.worldvectorlogo.com/logos/arduino-1.svg","alt","arduino","width","40","height","40"],["href","https://aws.amazon.com","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/amazonwebservices/amazonwebservices-original-wordmark.svg","alt","aws","width","40","height","40"],["href","https://www.blender.org/","target","_blank","rel","noreferrer"],["src","https://download.blender.org/branding/community/blender_community_badge_white.svg","alt","blender","width","40","height","40"],["href","https://getbootstrap.com","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/bootstrap/bootstrap-plain-wordmark.svg","alt","bootstrap","width","40","height","40"],["href","https://www.cprogramming.com/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/c/c-original.svg","alt","c","width","40","height","40"],["href","https://www.w3schools.com/cpp/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/cplusplus/cplusplus-original.svg","alt","cplusplus","width","40","height","40"],["href","https://www.w3schools.com/cs/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/csharp/csharp-original.svg","alt","csharp","width","40","height","40"],["href","https://www.w3schools.com/css/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/css3/css3-original-wordmark.svg","alt","css3","width","40","height","40"],["href","https://dart.dev","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/dartlang/dartlang-icon.svg","alt","dart","width","40","height","40"],["href","https://www.figma.com/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/figma/figma-icon.svg","alt","figma","width","40","height","40"],["href","https://firebase.google.com/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/firebase/firebase-icon.svg","alt","firebase","width","40","height","40"],["href","https://flutter.dev","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/flutterio/flutterio-icon.svg","alt","flutter","width","40","height","40"],["href","https://git-scm.com/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/git-scm/git-scm-icon.svg","alt","git","width","40","height","40"],["href","https://hadoop.apache.org/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/apache_hadoop/apache_hadoop-icon.svg","alt","hadoop","width","40","height","40"],["href","https://www.w3.org/html/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/html5/html5-original-wordmark.svg","alt","html5","width","40","height","40"],["href","https://ifttt.com/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/ifttt/ifttt-ar21.svg","alt","ifttt","width","40","height","40"],["href","https://www.java.com","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/java/java-original.svg","alt","java","width","40","height","40"],["href","https://developer.mozilla.org/en-US/docs/Web/JavaScript","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/javascript/javascript-original.svg","alt","javascript","width","40","height","40"],["href","https://kotlinlang.org","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/kotlinlang/kotlinlang-icon.svg","alt","kotlin","width","40","height","40"],["href","https://www.linux.org/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/linux/linux-original.svg","alt","linux","width","40","height","40"],["href","https://www.mongodb.com/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/mongodb/mongodb-original-wordmark.svg","alt","mongodb","width","40","height","40"],["href","https://www.mysql.com/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/mysql/mysql-original-wordmark.svg","alt","mysql","width","40","height","40"],["href","https://nodejs.org","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/nodejs/nodejs-original-wordmark.svg","alt","nodejs","width","40","height","40"],["href","https://opencv.org/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/opencv/opencv-icon.svg","alt","opencv","width","40","height","40"],["href","https://pandas.pydata.org/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/2ae2a900d2f041da66e950e4d48052658d850630/icons/pandas/pandas-original.svg","alt","pandas","width","40","height","40"],["href","https://www.photoshop.com/en","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/photoshop/photoshop-line.svg","alt","photoshop","width","40","height","40"],["href","https://www.postgresql.org","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/postgresql/postgresql-original-wordmark.svg","alt","postgresql","width","40","height","40"],["href","https://www.python.org","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/python/python-original.svg","alt","python","width","40","height","40"],["href","https://pytorch.org/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/pytorch/pytorch-icon.svg","alt","pytorch","width","40","height","40"],["href","https://www.qt.io/","target","_blank","rel","noreferrer"],["src","https://upload.wikimedia.org/wikipedia/commons/0/0b/Qt_logo_2016.svg","alt","qt","width","40","height","40"],["href","https://scikit-learn.org/","target","_blank","rel","noreferrer"],["src","https://upload.wikimedia.org/wikipedia/commons/0/05/Scikit_learn_logo_small.svg","alt","scikit_learn","width","40","height","40"],["href","https://seaborn.pydata.org/","target","_blank","rel","noreferrer"],["src","https://seaborn.pydata.org/_images/logo-mark-lightbg.svg","alt","seaborn","width","40","height","40"],["href","https://www.selenium.dev","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/detain/svg-logos/780f25886640cef088af994181646db2f6b1a3f8/svg/selenium-logo.svg","alt","selenium","width","40","height","40"],["href","https://www.sqlite.org/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/sqlite/sqlite-icon.svg","alt","sqlite","width","40","height","40"],["href","https://www.tensorflow.org","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/tensorflow/tensorflow-icon.svg","alt","tensorflow","width","40","height","40"],["href","https://www.typescriptlang.org/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/typescript/typescript-original.svg","alt","typescript","width","40","height","40"],["href","https://unity.com/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/unity3d/unity3d-icon.svg","alt","unity","width","40","height","40"],["href","https://zapier.com","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/zapier/zapier-icon.svg","alt","zapier","width","40","height","40"],["type","button","routerLink","/projects",1,"btn","clkbtn"],["type","button","routerLink","/experience",1,"btn","clkbtn"],["type","button","routerLink","/favourites",1,"btn","clkbtn"],[1,"bi","bi-clipboard-heart-fill"],[1,"scanlines"]],template:function(i,r){1&i&&(b(0,"body",0)(1,"h1",1),E(2,"Hi \u{1f44b}, I'm Anthony"),w(),b(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),E(7,"\u{1f47e} A passionate Machine Learning Engineer based in Cairo, Egypt, with a fervent interest in cutting-edge technologies and their applications."),w()(),b(8,"div",4)(9,"p",6)(10,"a",7),G(11,"img",8),w(),b(12,"a",9),G(13,"img",10),w()()()(),b(14,"div",3)(15,"div",4)(16,"li"),E(17,"\u{1f393} I currently have "),b(18,"b"),E(19,"a Bachelor's degree in Computer Engineering from Ain Shams University, with a dual degree from UEL UK. Throughout my academic journey, I've delved deep into various aspects of computer science, from machine learning and deep learning to big data and distributed computing."),w()()(),b(20,"div",4)(21,"li"),E(22,"\u{1f680} In my spare time, "),b(23,"b"),E(24,"I love tinkering with new technologies, whether it's experimenting with Unity to create a 3D Realtime Multiplayer Racing Game or simulating a Mars Rover Rock Sample Picking scenario using Python and OpenCV."),w()()()(),b(25,"div",3)(26,"div",4)(27,"li"),E(28,"\u{1f4a1} Passion projects drive me forward. "),b(29,"b"),E(30,"From developing a Football Players Tracking system using computer vision and deep learning to crafting a Secure Encrypted Outlook App for enhanced email privacy"),w()()(),b(31,"div",4)(32,"li"),E(33,"\u{1f4bb} Proficient in "),b(34,"b"),E(35,"a plethora of programming languages and tools including Python, C++, TensorFlow, PyTorch, and OpenCV, I am constantly expanding my skill set to stay at the forefront of technological innovation."),w()()()()(),b(36,"div",11)(37,"p",12),E(38,"\u{1f47e} A passionate Machine Learning Engineer based in Cairo, Egypt, with a fervent interest in cutting-edge technologies and their applications."),w(),b(39,"li"),E(40,"\u{1f393} I currently have "),b(41,"b"),E(42,"a Bachelor's degree in Computer Engineering from Ain Shams University, with a dual degree from UEL UK. Throughout my academic journey, I've delved deep into various aspects of computer science, from machine learning and deep learning to big data and distributed computing."),w()(),b(43,"p",6)(44,"a",7),G(45,"img",13),w(),b(46,"a",9),G(47,"img",14),w()(),b(48,"li"),E(49,"\u{1f4a1} Passion projects drive me forward. "),b(50,"b"),E(51,"From developing a Football Players Tracking system using computer vision and deep learning to crafting a Secure Encrypted Outlook App for enhanced email privacy"),w()(),b(52,"li"),E(53,"\u{1f680} In my spare time, "),b(54,"b"),E(55,"I love tinkering with new technologies, whether it's experimenting with Unity to create a 3D Realtime Multiplayer Racing Game or simulating a Mars Rover Rock Sample Picking scenario using Python and OpenCV."),w()(),b(56,"li"),E(57,"\u{1f4bb} Proficient in "),b(58,"b"),E(59,"a plethora of programming languages and tools including Python, C++, TensorFlow, PyTorch, and OpenCV, I am constantly expanding my skill set to stay at the forefront of technological innovation."),w()()(),b(60,"h3",15),E(61,"Connect with me:"),w(),b(62,"p",6)(63,"a",16),G(64,"img",17),w(),b(65,"a",18),G(66,"img",19),w()(),b(67,"h3",15),E(68,"Languages and Tools:"),w(),b(69,"p",6)(70,"a",20),G(71,"img",21),w(),b(72,"a",22),G(73,"img",23),w(),b(74,"a",22),G(75,"img",24),w(),b(76,"a",25),G(77,"img",26),w(),b(78,"a",27),G(79,"img",28),w(),b(80,"a",29),G(81,"img",30),w(),G(82,"br"),b(83,"a",31),G(84,"img",32),w(),b(85,"a",33),G(86,"img",34),w(),b(87,"a",35),G(88,"img",36),w(),b(89,"a",37),G(90,"img",38),w(),b(91,"a",39),G(92,"img",40),w(),G(93,"br"),b(94,"a",41),G(95,"img",42),w(),b(96,"a",43),G(97,"img",44),w(),b(98,"a",45),G(99,"img",46),w(),b(100,"a",47),G(101,"img",48),w(),b(102,"a",49),G(103,"img",50),w(),G(104,"br"),b(105,"a",51),G(106,"img",52),w(),b(107,"a",53),G(108,"img",54),w(),b(109,"a",55),G(110,"img",56),w(),b(111,"a",57),G(112,"img",58),w(),b(113,"a",59),G(114,"img",60),w(),G(115,"br"),b(116,"a",61),G(117,"img",62),w(),b(118,"a",63),G(119,"img",64),w(),b(120,"a",65),G(121,"img",66),w(),b(122,"a",67),G(123,"img",68),w(),b(124,"a",69),G(125,"img",70),w(),G(126,"br"),b(127,"a",71),G(128,"img",72),w(),b(129,"a",73),G(130,"img",74),w(),b(131,"a",75),G(132,"img",76),w(),b(133,"a",77),G(134,"img",78),w(),b(135,"a",79),G(136,"img",80),w(),G(137,"br"),b(138,"a",81),G(139,"img",82),w(),b(140,"a",83),G(141,"img",84),w(),b(142,"a",85),G(143,"img",86),w(),b(144,"a",87),G(145,"img",88),w(),b(146,"a",89),G(147,"img",90),w(),G(148,"br"),b(149,"a",91),G(150,"img",92),w(),b(151,"a",93),G(152,"img",94),w(),b(153,"a",95),G(154,"img",96),w(),b(155,"a",97),G(156,"img",98),w(),b(157,"a",99),G(158,"img",100),w()(),G(159,"br"),b(160,"div",6)(161,"button",101),E(162,"Projects"),w(),b(163,"button",102),E(164,"Experience"),w(),b(165,"button",103),G(166,"i",104),w()(),G(167,"div",105),w()),2&i&&(Oe(11),De("src","./assets/companies/ASU.png",er),Oe(2),De("src","./assets/companies/UEL.png",er))},dependencies:[Zd],styles:['body[_ngcontent-%COMP%]{background-color:#eff8e2;background-image:url(infrazap.7db3d0844fb678b2.png);background-repeat:no-repeat;background-attachment:fixed;background-position:center;background-size:auto}.text_shadows[_ngcontent-%COMP%]{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3;font-family:trashfort,sans-serif;font-weight:400;text-transform:uppercase;font-size:calc(2rem + 5vw);text-align:center;margin:0;color:#bf40bf;animation:_ngcontent-%COMP%_shadows 1.2s ease-in infinite,move 1.2s ease-in infinite;letter-spacing:.4rem}@keyframes _ngcontent-%COMP%_shadows{0%{text-shadow:none}10%{text-shadow:3px 3px 0 #E0B0FF}20%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF}30%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68}40%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3}50%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3}60%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3}70%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68}80%{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF}90%{text-shadow:3px 3px 0 #E0B0FF}to{text-shadow:none}}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}40%{transform:translate(-12px,-12px)}50%{transform:translate(-12px,-12px)}60%{transform:translate(-12px,-12px)}to{transform:translate(0)}}h1[_ngcontent-%COMP%]{text-shadow:3px 3px 0 #E0B0FF,6px 6px 0 #CF9FFF,9px 9px #9F2B68,12px 12px 0 #CBC3E3;font-family:trashfort,sans-serif;font-weight:400;text-transform:uppercase;font-size:calc(2rem + 5vw);text-align:center;margin:0;color:#bf40bf;letter-spacing:.4rem}h3[_ngcontent-%COMP%]{text-align:left;margin:0;color:#9f2b68;font-weight:700;letter-spacing:.4rem;text-shadow:3px 3px 0 #CBC3E3}.matrix[_ngcontent-%COMP%]{background-image:url(https://64.media.tumblr.com/ee29dfb226d65d557488c4cca54e2e96/697f4ca3ed0332a1-e2/s500x750/dd4fd831440e5e7b256f38f0b3f924441363ed7b.gif);background-size:cover;background-repeat:no-repeat;color:transparent;-moz-background-clip:text;-webkit-background-clip:text;text-shadow:none}.glitch[_ngcontent-%COMP%]{text-align:left;margin:0;color:#9f2b68;font-style:italic;font-weight:700;letter-spacing:.4rem;text-shadow:3px 3px 0 #CBC3E3;position:relative;animation:_ngcontent-%COMP%_glitch 5s 5s infinite}.noglitch[_ngcontent-%COMP%]{text-align:left;margin:0;color:#9f2b68;font-style:italic;font-weight:700;letter-spacing:.4rem;text-shadow:3px 3px 0 #CBC3E3;position:relative}.glitch[_ngcontent-%COMP%]:before{content:attr(data-text);left:-2px;text-shadow:-5px 0 magenta;background:black;overflow:hidden;top:0;animation:_ngcontent-%COMP%_noise-1 3s linear infinite alternate-reverse,glitch 5s 5.05s infinite}.glitch[_ngcontent-%COMP%]:after{content:attr(data-text);left:2px;text-shadow:-5px 0 lightgreen;background:black;overflow:hidden;top:0;animation:_ngcontent-%COMP%_noise-2 3s linear infinite alternate-reverse,glitch 5s 5s infinite}@keyframes _ngcontent-%COMP%_glitch{1%{transform:rotateX(10deg) skew(90deg)}2%{transform:rotateX(0) skew(0)}}@keyframes _ngcontent-%COMP%_noise-1{3.3333333333%{clip-path:inset(96px 0 4px 0)}6.6666666667%{clip-path:inset(54px 0 47px 0)}10%{clip-path:inset(57px 0 3px 0)}13.3333333333%{clip-path:inset(10px 0 63px 0)}16.6666666667%{clip-path:inset(8px 0 31px 0)}20%{clip-path:inset(76px 0 11px 0)}23.3333333333%{clip-path:inset(30px 0 36px 0)}26.6666666667%{clip-path:inset(53px 0 37px 0)}30%{clip-path:inset(13px 0 36px 0)}33.3333333333%{clip-path:inset(43px 0 30px 0)}36.6666666667%{clip-path:inset(15px 0 53px 0)}40%{clip-path:inset(27px 0 32px 0)}43.3333333333%{clip-path:inset(75px 0 14px 0)}46.6666666667%{clip-path:inset(50px 0 22px 0)}50%{clip-path:inset(100px 0 1px 0)}53.3333333333%{clip-path:inset(35px 0 44px 0)}56.6666666667%{clip-path:inset(21px 0 6px 0)}60%{clip-path:inset(45px 0 3px 0)}63.3333333333%{clip-path:inset(70px 0 18px 0)}66.6666666667%{clip-path:inset(13px 0 3px 0)}70%{clip-path:inset(1px 0 54px 0)}73.3333333333%{clip-path:inset(98px 0 2px 0)}76.6666666667%{clip-path:inset(71px 0 12px 0)}80%{clip-path:inset(23px 0 16px 0)}83.3333333333%{clip-path:inset(90px 0 8px 0)}86.6666666667%{clip-path:inset(2px 0 25px 0)}90%{clip-path:inset(43px 0 11px 0)}93.3333333333%{clip-path:inset(97px 0 2px 0)}96.6666666667%{clip-path:inset(54px 0 29px 0)}to{clip-path:inset(63px 0 15px 0)}}@keyframes _ngcontent-%COMP%_noise-2{0%{clip-path:inset(35px 0 30px 0)}3.3333333333%{clip-path:inset(55px 0 14px 0)}6.6666666667%{clip-path:inset(34px 0 39px 0)}10%{clip-path:inset(5px 0 82px 0)}13.3333333333%{clip-path:inset(80px 0 12px 0)}16.6666666667%{clip-path:inset(17px 0 41px 0)}20%{clip-path:inset(60px 0 9px 0)}23.3333333333%{clip-path:inset(100px 0 1px 0)}26.6666666667%{clip-path:inset(96px 0 1px 0)}30%{clip-path:inset(25px 0 4px 0)}33.3333333333%{clip-path:inset(39px 0 5px 0)}36.6666666667%{clip-path:inset(72px 0 27px 0)}40%{clip-path:inset(30px 0 14px 0)}43.3333333333%{clip-path:inset(96px 0 3px 0)}46.6666666667%{clip-path:inset(99px 0 2px 0)}50%{clip-path:inset(31px 0 68px 0)}53.3333333333%{clip-path:inset(63px 0 12px 0)}56.6666666667%{clip-path:inset(93px 0 3px 0)}60%{clip-path:inset(28px 0 41px 0)}63.3333333333%{clip-path:inset(31px 0 49px 0)}66.6666666667%{clip-path:inset(73px 0 9px 0)}70%{clip-path:inset(54px 0 46px 0)}73.3333333333%{clip-path:inset(67px 0 8px 0)}76.6666666667%{clip-path:inset(9px 0 10px 0)}80%{clip-path:inset(87px 0 12px 0)}83.3333333333%{clip-path:inset(11px 0 35px 0)}86.6666666667%{clip-path:inset(54px 0 43px 0)}90%{clip-path:inset(81px 0 15px 0)}93.3333333333%{clip-path:inset(32px 0 63px 0)}96.6666666667%{clip-path:inset(44px 0 4px 0)}to{clip-path:inset(14px 0 3px 0)}}.scanlines[_ngcontent-%COMP%]{overflow:hidden;mix-blend-mode:difference;pointer-events:none}.scanlines[_ngcontent-%COMP%]:before{content:"";position:fixed;width:100%;height:100%;top:0;left:0;background:repeating-linear-gradient(to bottom,transparent 0%,rgba(255,255,255,.05) .5%,transparent 1%);animation:_ngcontent-%COMP%_fudge 7s ease-in-out alternate infinite}@keyframes _ngcontent-%COMP%_fudge{0%{transform:translate(0)}to{transform:translateY(2%)}}li[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;text-align:left;margin:5px 0 7px;text-shadow:2px 2px 0 #CBC3E3}a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]{background-color:#e0b0ff;box-shadow:0 8px 16px #0003,0 6px 20px #00000030;font-family:kbdunktank,sans-serif;font-weight:300;font-size:1.75rem;margin:5px}button[_ngcontent-%COMP%]:hover{background-color:#9f2b68}button[_ngcontent-%COMP%]:active{background-color:#bf40bf!important}#mobview[_ngcontent-%COMP%]{display:none}@media all and (max-width: 801px){#compview[_ngcontent-%COMP%]{display:none}#mobview[_ngcontent-%COMP%]{display:block}.clkbtn[_ngcontent-%COMP%]{padding:1px}}']})}return n})();const jh=function(n,e){return{display:n,opacity:e}};let bQ=(()=>{class n{constructor(){this.displayKS="none",this.opacityKS="0%",this.displayFoto="none",this.opacityFoto="0%",this.displayWe="none",this.opacityWe="0%",this.displayNTI="none",this.opacityNTI="0%",this.displayWiro="none",this.opacityWiro="0%",this.displayAB="none",this.opacityAB="0%"}ngOnInit(){}openModal(t){var i=this;return Jd(function*(){switch(t){case"KS":i.displayKS="block";for(var r=1;r<=100;r++)i.opacityKS=r.toString()+"%",yield new Promise(s=>setTimeout(s,1));break;case"Foto":for(i.displayFoto="block",r=1;r<=100;r++)i.opacityFoto=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));break;case"We":for(i.displayWe="block",r=1;r<=100;r++)i.opacityWe=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));break;case"NTI":for(i.displayNTI="block",r=1;r<=100;r++)i.opacityNTI=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));break;case"Wiro":for(i.displayWiro="block",r=1;r<=100;r++)i.opacityWiro=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));break;case"AB":for(i.displayAB="block",r=1;r<=100;r++)i.opacityAB=r.toString()+"%",yield new Promise(o=>setTimeout(o,1))}})()}onCloseHandled(t){var i=this;return Jd(function*(){switch(t){case"KS":for(var r=99;r>=0;r--)i.opacityKS=r.toString()+"%",yield new Promise(s=>setTimeout(s,1));i.displayKS="none";break;case"Foto":for(r=99;r>=0;r--)i.opacityFoto=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));i.displayFoto="none";break;case"We":for(r=99;r>=0;r--)i.opacityWe=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));i.displayWe="none";break;case"NTI":for(r=99;r>=0;r--)i.opacityNTI=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));i.displayNTI="none";break;case"Wiro":for(r=99;r>=0;r--)i.opacityWiro=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));i.displayWiro="none";break;case"AB":for(r=99;r>=0;r--)i.opacityAB=r.toString()+"%",yield new Promise(o=>setTimeout(o,1));i.displayAB="none"}})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-experiencepage"]],decls:245,vars:31,consts:[["href","https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH","crossorigin","anonymous"],[2,"margin-left","10px","font-style","italic"],[1,"text_shadows"],[1,"tcont"],[1,"timeline"],[1,"outer"],[1,"card"],[1,"info"],[1,"title"],[1,"subtitle"],["href","https://www.azdan.com/",1,"logo"],["height","60px",3,"src"],[1,"divcont"],["href","https://korastats.com/site/",1,"logo"],[2,"text-shadow","none"],["type","button","hidden","",1,"btn",3,"click"],[1,"bi","bi-clipboard"],["href","https://fotopiatech.com/",1,"logo"],["type","button",1,"btn",3,"click"],["href","https://www.te.eg/wps/portal/te/Personal",1,"logo"],["href","https://www.nti.sci.eg/",1,"logo"],[1,"logo"],["href","https://sprints.ai/",1,"logo"],["align","center"],["type","button","routerLink","/projects",1,"btn","clkbtn"],["type","button","routerLink","/about",1,"btn","clkbtn"],["type","button","routerLink","/favourites",1,"btn","clkbtn"],[1,"bi","bi-clipboard-heart-fill"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close","mod",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-default","mod",3,"click"],[1,"mimgcon"],["src","./assets/cert/fotopia.jpg","onclick","window.open('./assets/cert/fotopia.jpg')",1,"mimg"],["src","./assets/cert/we.jpg","onclick","window.open('./assets/cert/we.jpg')",1,"mimg"],["src","./assets/cert/nti.jpg","onclick","window.open('./assets/cert/nti.jpg')",1,"mimg"],["src","./assets/cert/vex_go.jpg","onclick","window.open('./assets/cert/vex_go.jpg')",1,"mimg"],["src","./assets/cert/vex_iq.jpg","onclick","window.open('./assets/cert/vex_iq.jpg')",1,"mimg"],["src","./assets/cert/Android Development Certificate.jpg","onclick","window.open('./assets/cert/Android Development Certificate.jpg')",1,"mimg"],["src","./assets/cert/Scoring Android app Task Dashboard.jpg","onclick","window.open('./assets/cert/Scoring Android app Task Dashboard.jpg')",1,"mimg"],["src","./assets/cert/Login Form with ConstraintaLayout + Activity Navigation Task Dashboard.jpg","onclick","window.open('./assets/cert/Login Form with ConstraintaLayout + Activity Navigation Task Dashboard.jpg')",1,"mimg"],["src","./assets/cert/ConstraintLayout Task Task Dashboard.jpg","onclick","window.open('./assets/cert/ConstraintLayout Task Task Dashboard.jpg')",1,"mimg"],["src","./assets/cert/LinearRelative Layouts Task Task Dashboard.jpg","onclick","window.open('./assets/cert/LinearRelative Layouts Task Task Dashboard.jpg')",1,"mimg"],["src","./assets/cert/OOP 102 Task Dashboard.jpg","onclick","window.open('./assets/cert/OOP 102 Task Dashboard.jpg')",1,"mimg"],["src","./assets/cert/OOP 101 Task Dashboard.jpg","onclick","window.open('./assets/cert/OOP 101 Task Dashboard.jpg')",1,"mimg"],["src","./assets/cert/Data Structure Task Dashboard.jpg","onclick","window.open('./assets/cert/Data Structure Task Dashboard.jpg')",1,"mimg"]],template:function(i,r){1&i&&(b(0,"head"),G(1,"link",0),w(),b(2,"body")(3,"p",1),E(4,"Last Updated: 16th of May 2025"),w(),b(5,"h1",2),E(6,"Anthony's Experience"),w(),b(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h3",8),E(13,"Machine Learning Engineer"),w(),b(14,"h4",9),E(15,"Azdan"),w(),b(16,"h5",9),E(17,"Jun 2024 - Present"),w(),b(18,"a",10),G(19,"img",11),w(),b(20,"div",12)(21,"ul")(22,"li"),E(23,"Developed and optimized LLM agent-based systems, enhancing automation and decision-making"),w(),b(24,"li"),E(25,"Leveraged SQL extensively for efficient data retrieval and processing"),w()()()()(),b(26,"div",6)(27,"div",7)(28,"h3",8),E(29,"Machine Learning - Graduation Project Intern"),w(),b(30,"h4",9),E(31,"KoraStats"),w(),b(32,"h5",9),E(33,"Oct 2023 - Jul 2024"),w(),b(34,"a",13),G(35,"img",11),w(),b(36,"p",9)(37,"b",14),E(38,"Project Title: Football Players Tracking from Multiple Cameras using Deep Learning"),w()(),b(39,"div",12)(40,"ul")(41,"li"),E(42,"Five module system that tracks football players in a match across 2-3 cameras using computer vision and deep learning"),w(),b(43,"li"),E(44,"Implemented the path predictor module using an Encoder-Decoder Network to efficiently get the trajectory of the player on the screen to predict occlusions with other players"),w(),b(45,"li"),E(46,"Integrated the 5 modules into a multithreaded system that efficiently manages memory and CPU resources"),w()()(),b(47,"button",15),Fe("click",function(){return r.openModal("KS")}),G(48,"i",16),w()()(),b(49,"div",6)(50,"div",7)(51,"h3",8),E(52,"Machine Learning Intern"),w(),b(53,"h4",9),E(54,"Fotopia Technologies"),w(),b(55,"h5",9),E(56,"Aug 2023 - Sep 2023"),w(),b(57,"a",17),G(58,"img",11),w(),b(59,"div",12)(60,"ul")(61,"li"),E(62," Used different machine learning techniques to improve the accuracy of OCRs "),w(),b(63,"li"),E(64," Developed a pipeline that parses scanned documents into digital format files "),w(),b(65,"li"),E(66," Integrated individually developed modules with the team into one pipeline "),w()()(),b(67,"button",18),Fe("click",function(){return r.openModal("Foto")}),G(68,"i",16),w()()(),b(69,"div",6)(70,"div",7)(71,"h3",8),E(72,"Big Data Analytics Trainee"),w(),b(73,"h4",9),E(74,"Telecom Egypt"),w(),b(75,"h5",9),E(76,"July 2023 - Aug 2023"),w(),b(77,"a",19),G(78,"img",11),w(),b(79,"div",12)(80,"ul")(81,"li"),E(82," Utilized PowerBI to analyze multiple realistic datasets "),w(),b(83,"li"),E(84," Learned about the Hadoop Distributed File System (HDFS) and how it is used "),w(),b(85,"li"),E(86," Used the acquired skills to analyze the S&P500 as a final project "),w()()(),b(87,"button",18),Fe("click",function(){return r.openModal("We")}),G(88,"i",16),w()()(),b(89,"div",6)(90,"div",7)(91,"h3",8),E(92,"Datacenter Virtualization Trainee"),w(),b(93,"h4",9),E(94,"National Telecommunication Institute - NTI (With VMware & Amazon Academies)"),w(),b(95,"h5",9),E(96,"July 2022 - Aug 2022"),w(),b(97,"a",20),G(98,"img",11),w(),b(99,"div",12)(100,"ul")(101,"li"),E(102," Learned about the VMware Virtualization concepts (Cloud, Software-Defined Storage, and Network Virtualization) "),w(),b(103,"li"),E(104," Used Amazon Web Services (AWS) services to deploy servers of various uses "),w()()(),b(105,"button",18),Fe("click",function(){return r.openModal("NTI")}),G(106,"i",16),w()()(),b(107,"div",6)(108,"div",7)(109,"h3",8),E(110,"Part-time Robotics Instructor"),w(),b(111,"h4",9),E(112,"WIRO PLUS"),w(),b(113,"h5",9),E(114,"April 2022 - July 2022"),w(),b(115,"a",21),G(116,"img",11),w(),b(117,"button",18),Fe("click",function(){return r.openModal("Wiro")}),G(118,"i",16),w()()(),b(119,"div",6)(120,"div",7)(121,"h3",8),E(122,"Android Development Trainee"),w(),b(123,"h4",9),E(124,"Sprints"),w(),b(125,"h5",9),E(126,"Aug 2021 - Oct 2021"),w(),b(127,"a",22),G(128,"img",11),w(),b(129,"button",18),Fe("click",function(){return r.openModal("AB")}),G(130,"i",16),w()()()()()(),b(131,"div",23)(132,"button",24),E(133,"Projects"),w(),b(134,"button",25),E(135,"About"),w(),b(136,"button",26),G(137,"i",27),w()(),G(138,"br"),w(),b(139,"div",28)(140,"div",29)(141,"div",30)(142,"div",31)(143,"h4",32),E(144,"Model Title"),w(),b(145,"button",33),Fe("click",function(){return r.onCloseHandled("KS")}),b(146,"span",34),E(147,"\xd7"),w()()(),b(148,"div",35)(149,"p"),E(150,"Model body text"),w()(),b(151,"div",36)(152,"button",37),Fe("click",function(){return r.onCloseHandled("KS")}),E(153,"Close"),w()()()()(),b(154,"div",28)(155,"div",29)(156,"div",30)(157,"div",31)(158,"h4",32),E(159,"Fotopia Technologies"),w(),b(160,"button",33),Fe("click",function(){return r.onCloseHandled("Foto")}),b(161,"span",34),E(162,"\xd7"),w()()(),b(163,"div",35)(164,"div",38),G(165,"img",39),w()(),b(166,"div",36)(167,"button",37),Fe("click",function(){return r.onCloseHandled("Foto")}),E(168,"Close"),w()()()()(),b(169,"div",28)(170,"div",29)(171,"div",30)(172,"div",31)(173,"h4",32),E(174,"Telecom Egypt"),w(),b(175,"button",33),Fe("click",function(){return r.onCloseHandled("We")}),b(176,"span",34),E(177,"\xd7"),w()()(),b(178,"div",35)(179,"div",38),G(180,"img",40),w()(),b(181,"div",36)(182,"button",37),Fe("click",function(){return r.onCloseHandled("We")}),E(183,"Close"),w()()()()(),b(184,"div",28)(185,"div",29)(186,"div",30)(187,"div",31)(188,"h4",32),E(189,"National Telecommunication Institute - NTI"),w(),b(190,"button",33),Fe("click",function(){return r.onCloseHandled("NTI")}),b(191,"span",34),E(192,"\xd7"),w()()(),b(193,"div",35)(194,"div",38),G(195,"img",41),w()(),b(196,"div",36)(197,"button",37),Fe("click",function(){return r.onCloseHandled("NTI")}),E(198,"Close"),w()()()()(),b(199,"div",28)(200,"div",29)(201,"div",30)(202,"div",31)(203,"h4",32),E(204,"WIRO PLUS"),w(),b(205,"button",33),Fe("click",function(){return r.onCloseHandled("Wiro")}),b(206,"span",34),E(207,"\xd7"),w()()(),b(208,"div",35)(209,"div",38),G(210,"img",42),w(),b(211,"div",38),G(212,"img",43),w()(),b(213,"div",36)(214,"button",37),Fe("click",function(){return r.onCloseHandled("Wiro")}),E(215,"Close"),w()()()()(),b(216,"div",28)(217,"div",29)(218,"div",30)(219,"div",31)(220,"h4",32),E(221,"Sprints"),w(),b(222,"button",33),Fe("click",function(){return r.onCloseHandled("AB")}),b(223,"span",34),E(224,"\xd7"),w()()(),b(225,"div",35)(226,"div",38),G(227,"img",44),w(),b(228,"div",38),G(229,"img",45),w(),b(230,"div",38),G(231,"img",46),w(),b(232,"div",38),G(233,"img",47),w(),b(234,"div",38),G(235,"img",48),w(),b(236,"div",38),G(237,"img",49),w(),b(238,"div",38),G(239,"img",50),w(),b(240,"div",38),G(241,"img",51),w()(),b(242,"div",36)(243,"button",37),Fe("click",function(){return r.onCloseHandled("AB")}),E(244,"Close"),w()()()()()),2&i&&(Oe(19),De("src","./assets/companies/azdan.png",er),Oe(16),De("src","./assets/companies/korastats.svg",er),Oe(23),De("src","./assets/companies/fotopia.png",er),Oe(20),De("src","./assets/companies/telecomeg.png",er),Oe(20),De("src","./assets/companies/nti.png",er),Oe(18),De("src","./assets/companies/wiro.webp",er),Oe(12),De("src","./assets/companies/sprints.svg",er),Oe(11),De("ngStyle",so(13,jh,r.displayKS,r.opacityKS)),Oe(15),De("ngStyle",so(16,jh,r.displayFoto,r.opacityFoto)),Oe(15),De("ngStyle",so(19,jh,r.displayWe,r.opacityWe)),Oe(15),De("ngStyle",so(22,jh,r.displayNTI,r.opacityNTI)),Oe(15),De("ngStyle",so(25,jh,r.displayWiro,r.opacityWiro)),Oe(17),De("ngStyle",so(28,jh,r.displayAB,r.opacityAB)))},dependencies:[K1,Zd],styles:['.text_shadows[_ngcontent-%COMP%]{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1,9px 9px #AFA0CD,12px 12px 0 #7A1F50;font-family:trashfort,sans-serif;font-weight:400;text-transform:uppercase;font-size:calc(2rem + 5vw);text-align:center;margin:0;color:#8e2baf;animation:_ngcontent-%COMP%_shadows 1.2s ease-in infinite,move 1.2s ease-in infinite;letter-spacing:.4rem}@keyframes _ngcontent-%COMP%_shadows{0%{text-shadow:none}10%{text-shadow:3px 3px 0 #4B256F}20%{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1}30%{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1,9px 9px #AFA0CD}40%{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1,9px 9px #AFA0CD,12px 12px 0 #7A1F50}50%{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1,9px 9px #AFA0CD,12px 12px 0 #7A1F50}60%{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1,9px 9px #AFA0CD,12px 12px 0 #7A1F50}70%{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1,9px 9px #AFA0CD}80%{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1}90%{text-shadow:3px 3px 0 #4B256F}to{text-shadow:none}}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}40%{transform:translate(-12px,-12px)}50%{transform:translate(-12px,-12px)}60%{transform:translate(-12px,-12px)}to{transform:translate(0)}}h1[_ngcontent-%COMP%]{text-shadow:3px 3px 0 #4B256F,6px 6px 0 #A974D1,9px 9px #AFA0CD,12px 12px 0 #7A1F50;font-family:trashfort,sans-serif;font-weight:400;text-transform:uppercase;font-size:calc(2rem + 5vw);text-align:center;margin:0;color:#8e2baf;letter-spacing:.4rem}*[_ngcontent-%COMP%]{margin:0;padding:0}button[_ngcontent-%COMP%]{background-color:#eff8e2}.mod[_ngcontent-%COMP%]{background-color:transparent;border:transparent;padding:6px!important}.close[_ngcontent-%COMP%]:hover{background-color:transparent!important;color:#8e2baf}.clkbtn[_ngcontent-%COMP%]{box-shadow:0 8px 16px #0003,0 6px 20px #00000030;font-family:kbdunktank,sans-serif;font-weight:300;font-size:1.75rem;margin:5px;padding:7px!important}.mimgcon[_ngcontent-%COMP%]{width:inherit;overflow:hidden;border-radius:10px;border-style:solid;border-width:3px;border-color:#8e2baf;margin-bottom:5px;align-self:center}.mimg[_ngcontent-%COMP%]{width:100%;transform:scale(1);transition:.3s ease-in-out}.mimg[_ngcontent-%COMP%]:hover{transform:scale(1.3)}button[_ngcontent-%COMP%]:hover{background-color:#7a1f50;color:#8e2baf}body[_ngcontent-%COMP%]{background:#CCC;background-image:url(bgdoodle.bcb734800c338c23.png)}.tcont[_ngcontent-%COMP%]{font-family:#AFA0CD;display:flex;justify-content:center}.timeline[_ngcontent-%COMP%]{margin:20px auto;padding:20px}.card[_ngcontent-%COMP%]{position:relative;background:transparent;border:0}.card[_ngcontent-%COMP%]:nth-child(odd){padding:30px 0 30px 30px}.card[_ngcontent-%COMP%]:nth-child(2n){padding:30px 30px 30px 0}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;width:50%;border:solid #8E2BAF}.card[_ngcontent-%COMP%]:nth-child(odd):before{left:0;top:-4.5px;bottom:-4.5px;border-width:5px 0 5px 5px;border-radius:50px 0 0 50px}.card[_ngcontent-%COMP%]:nth-child(2n):before{right:0;top:0;bottom:0;border-width:5px 5px 5px 0;border-radius:0 50px 50px 0}.card[_ngcontent-%COMP%]:first-child:before{border-top:0;border-top-left-radius:0}.card[_ngcontent-%COMP%]:last-child:nth-child(odd):before{border-bottom:0;border-bottom-left-radius:0}.card[_ngcontent-%COMP%]:last-child:nth-child(2n):before{border-bottom:0;border-bottom-right-radius:0}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:transparent;color:#4b256f;text-shadow:1px 1px 0 #EFF8E2;border-radius:10px;padding:10px}.title[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{color:#7a1f50;position:relative}.card[_ngcontent-%COMP%]:nth-child(odd) > .info[_ngcontent-%COMP%] > .logo[_ngcontent-%COMP%]{position:absolute;align-self:flex-end;margin-right:20px}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .logo[_ngcontent-%COMP%]{position:absolute;align-self:flex-start;margin-left:20px}.card[_ngcontent-%COMP%]:nth-child(odd) > .info[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{position:absolute;align-self:flex-end}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{position:absolute;align-self:flex-start}.title[_ngcontent-%COMP%]:before{content:"";position:absolute;width:15px;height:15px;background:#CCC;border-radius:999px;border:3px solid #8E2BAF}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{text-align:right}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .subtitle[_ngcontent-%COMP%]{text-align:right}.card[_ngcontent-%COMP%]:nth-child(odd) > .info[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]:before{left:-45px}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]:before{right:-45px}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .divcont[_ngcontent-%COMP%]{text-align:right}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .divimgs[_ngcontent-%COMP%]{align-self:flex-start}ul[_ngcontent-%COMP%]{font-weight:700}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .divcont[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{direction:rtl}.btn[_ngcontent-%COMP%]{padding:0}.modal[_ngcontent-%COMP%]{background-color:#ccc;background-image:url(bgdoodle.bcb734800c338c23.png)}@media all and (max-width: 801px){.logo[_ngcontent-%COMP%]{position:relative;align-self:center;margin:10px 0}}']})}return n})();function wQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Football Players Tracking from Multiple Cameras using Deep Learning - Graduation Project"),w(),b(4,"h4",16),E(5,"Sponsored by KoraStats"),w(),b(6,"h5",16),E(7,"Sep 2023 - Jul 2024"),w(),b(8,"div",17)(9,"ul")(10,"li"),E(11,"Five module system that tracks football players in a match across 2-3 cameras using computer vision and deep learning"),w(),b(12,"li"),E(13,"Implemented the path predictor module using an Encoder-Decoder Network to efficiently get the trajectory of the player on the screen to predict occlusions with other players"),w(),b(14,"li"),E(15,"Integrated the 5 modules into a multithreaded system that efficiently manages memory and CPU resources"),w()(),b(16,"button",18),E(17,"Thesis-1 Document "),G(18,"i",19),w(),b(19,"button",20),E(20,"Thesis-2 Document "),G(21,"i",19),w()(),b(22,"div",21)(23,"a",22),G(24,"img",23),w(),b(25,"a",24),G(26,"img",25),w(),b(27,"a",26),G(28,"img",27),w(),G(29,"br"),b(30,"a",28),G(31,"img",29),w(),b(32,"a",30),G(33,"img",31),w(),b(34,"a",32),G(35,"img",33),w(),G(36,"br"),b(37,"a",34),G(38,"img",35),w(),b(39,"a",36),G(40,"img",37),w()()()())}function xQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Next Word Predictor"),w(),b(4,"h5",16),E(5,"Jun 2024"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Developed a next-word prediction model using deep learning architectures (CNNs, LSTMs, and GRUs), with LSTMs and GRUs outperforming CNNs due to their strength in handling sequential data"),w(),b(10,"li"),E(11,"Optimized input sequence length, reducing it from 25 to 5 words to balance prediction accuracy with computational efficiency"),w(),b(12,"li"),E(13,"Performed extensive text preprocessing, including tokenization and embedding, to prepare the data for effective training of neural network models"),w()(),b(14,"button",38),E(15,"Project Document "),G(16,"i",19),w(),b(17,"button",39),E(18,"Project Repo "),G(19,"i",40),w()(),b(20,"div",21)(21,"a",22),G(22,"img",23),w(),b(23,"a",28),G(24,"img",29),w(),b(25,"a",30),G(26,"img",31),w(),G(27,"br"),b(28,"a",41),G(29,"img",42),w(),b(30,"a",32),G(31,"img",33),w(),b(32,"a",43),G(33,"img",44),w()()()())}function MQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Genetic Algorithm Implementation of Constant Area Coding (CAC) Compression"),w(),b(4,"h5",16),E(5,"Jun 2024"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Applied Context-Adaptive Coding (CAC) for compressing binary images, focusing on how kernel size affects compression efficiency and image quality"),w(),b(10,"li"),E(11,"Used a Genetic Algorithm (GA) to optimize the kernel size, navigating the large search space and adapting to image dataset characteristics"),w(),b(12,"li"),E(13,"Aimed to maximize compression performance by finding a balance between high compression rates and preserved image fidelity through iterative GA tuning"),w()(),b(14,"button",45),E(15,"Project Document "),G(16,"i",19),w(),b(17,"button",46),E(18,"Project Repo "),G(19,"i",40),w()(),b(20,"div",21)(21,"a",22),G(22,"img",23),w(),b(23,"a",43),G(24,"img",44),w()()()())}function SQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"This Website :D"),w(),b(4,"h5",16),E(5,"Feb 2024 - Mar 2024"),w(),b(6,"div",17)(7,"button",47),E(8,"Project Repo "),G(9,"i",40),w()(),b(10,"div",21)(11,"a",48),G(12,"img",49),w(),b(13,"a",50),G(14,"img",51),w(),b(15,"a",52),G(16,"img",53),w(),G(17,"br"),b(18,"a",54),G(19,"img",55),w(),b(20,"a",56),G(21,"img",57),w(),b(22,"a",58),G(23,"img",59),w(),G(24,"br"),b(25,"a",60),G(26,"img",61),w()()()())}function CQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Sentiment Analysis on Social Media Platforms using Machine and Deep Learning"),w(),b(4,"h5",16),E(5,"Dec 2023 - Jan 2024"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Compare and assess machine learning algorithms such as KNN, SVM, Na\xefve Bayes Classifiers, Random Forest, and Logistic Regression"),w(),b(10,"li"),E(11,"Seeing how Deep Learning algorithms perform using datasets from Twitter that are available in both Arabic and English"),w(),b(12,"li"),E(13,"Applying different feature extraction and hyperparameter optimization methods"),w()()(),b(14,"div",21)(15,"a",22),G(16,"img",23),w(),b(17,"a",28),G(18,"img",29),w(),b(19,"a",30),G(20,"img",31),w(),G(21,"br"),b(22,"a",41),G(23,"img",42),w(),b(24,"a",32),G(25,"img",33),w()()()())}function TQ(n,e){if(1&n){const t=vs();b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Secure Encrypted Outlook App"),w(),b(4,"h5",16),E(5,"Dec 2023 - Jan 2024"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Used PyWin32 to interact with the local Outlook App and read its inbox as well as send emails"),w(),b(10,"li"),E(11,"Encrypted emails with AES and included a Digital Signature using RSA and SHA-256"),w(),b(12,"li"),E(13,"Key shared by storing users\u2019 public keys on MongoDB for any other users to retrieve and share AES keys securely"),w()(),b(14,"button",62),E(15,"Project Repo "),G(16,"i",40),w()(),b(17,"div",63)(18,"img",64),Fe("click",function(){return Jr(t),Kr(kt().open("./assets/projects/secureoutlookarch.png"))}),w()(),b(19,"div",21)(20,"a",22),G(21,"img",23),w(),b(22,"a",43),G(23,"img",44),w(),b(24,"a",65),G(25,"img",66),w()()()()}2&n&&(Oe(18),De("src","./assets/projects/secureoutlookarch.png",er))}function EQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"University Carpool Mobile App"),w(),b(4,"h5",16),E(5,"Nov 2023 - Dec 2023"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Made both a User and a Driver app that work seamlessly in realtime together"),w(),b(10,"li"),E(11,"Integrated Google Maps API to book directly from it for ease of use"),w(),b(12,"li"),E(13,"Used local databases to check on your ride details offline"),w(),b(14,"li"),E(15,"Verified users using their university emails"),w()()(),b(16,"div",63)(17,"video",67),G(18,"source",68),E(19," Your Browser Doesn't support html Video :( "),w()(),b(20,"div",21)(21,"a",69),G(22,"img",70),w(),b(23,"a",71),G(24,"img",72),w(),b(25,"a",73),G(26,"img",74),w(),G(27,"br"),b(28,"a",75),G(29,"img",76),w(),b(30,"a",77),G(31,"img",78),w()()()()),2&n&&(Oe(18),De("src","./assets/projects/carpoolvideo.mov",er))}function AQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"3D Realtime Multiplayer Racing Game\t"),w(),b(4,"h5",16),E(5,"May 2023 - June 2023"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Used Unity (C#) to build the client side of the connection, and built the server-side connection using Python"),w(),b(10,"li"),E(11,"Implemented 2 multithreaded servers that allow parallel rooms where each 2-4 players can join a racing game"),w(),b(12,"li"),E(13,"Created matchmaking, chat, as well as network failure handling features"),w(),b(14,"li"),E(15,"Deployed both the Python servers and MongoDB instances on EC2 AWS for reliable access"),w()(),b(16,"button",79),E(17,"Project Repo "),G(18,"i",40),w()(),b(19,"div",63),G(20,"iframe",80),w(),b(21,"div",21)(22,"a",81),G(23,"img",82),w(),b(24,"a",83),G(25,"img",84),w(),b(26,"a",36),G(27,"img",37),w(),G(28,"br"),b(29,"a",65),G(30,"img",66),w(),b(31,"a",22),G(32,"img",23),w(),b(33,"a",85),G(34,"img",86),w()()()())}function DQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Fruit Recognition Deep Learning Model"),w(),b(4,"h5",16),E(5,"May 2023 - June 2023"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Using a VGG-16 and a VGG-19 NN to classify fruits into 5 classes"),w(),b(10,"li"),E(11,"Achieving around 85% accuracy"),w()(),b(12,"button",87),E(13,"Project Document "),G(14,"i",19),w(),b(15,"button",88),E(16,"Project Repo "),G(17,"i",40),w()(),b(18,"div",21)(19,"a",22),G(20,"img",23),w(),b(21,"a",26),G(22,"img",27),w(),b(23,"a",28),G(24,"img",29),w(),G(25,"br"),b(26,"a",30),G(27,"img",31),w(),b(28,"a",41),G(29,"img",42),w(),b(30,"a",32),G(31,"img",33),w(),G(32,"br"),b(33,"a",43),G(34,"img",44),w()()()())}function IQ(n,e){if(1&n){const t=vs();b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Realtime Embedded Operating System Power Window Control"),w(),b(4,"h5",16),E(5,"April 2023 - May 2023"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Used FreeRTOS on Tiva-C to simulate a car's powered windows system"),w(),b(10,"li"),E(11,"Utilized various interupt, semaphore, and mutex based systems"),w()(),b(12,"button",89),E(13,"Project Repo "),G(14,"i",40),w()(),b(15,"div",63)(16,"img",64),Fe("click",function(){return Jr(t),Kr(kt().open("./assets/projects/rtes.png"))}),w()(),b(17,"div",21)(18,"a",90),G(19,"img",91),w()()()()}2&n&&(Oe(16),De("src","./assets/projects/rtes.png",er))}function OQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"NFA to DFA & CFG to PDA Visualizer"),w(),b(4,"h5",16),E(5,"April 2023 - May 2023"),w(),b(6,"div",17)(7,"button",92),E(8,"Project Document "),G(9,"i",19),w(),b(10,"button",93),E(11,"Project Repo "),G(12,"i",40),w()(),b(13,"div",21)(14,"a",22),G(15,"img",23),w(),b(16,"a",43),G(17,"img",44),w(),b(18,"a",54),G(19,"img",55),w(),G(20,"br"),b(21,"a",52),G(22,"img",53),w(),b(23,"a",56),G(24,"img",57),w()()()())}function RQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Mars Rover Rock Sample Picking Simulator"),w(),b(4,"h5",16),E(5,"Nov 2022 - Jan 2023"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Used Computer Vision methods to allow a simulated Mars Rover to pick up unique rock samples"),w(),b(10,"li"),E(11,"Traversed the environment with over 85% Fidelity and 95% Mapping while picking up at least 85% of the samples encountered"),w()(),b(12,"button",94),E(13,"Phase 1 Document "),G(14,"i",19),w(),b(15,"button",95),E(16,"Phase 2 Document "),G(17,"i",19),w(),b(18,"button",96),E(19,"Project Repo "),G(20,"i",40),w()(),b(21,"div",63),G(22,"iframe",97),w(),b(23,"div",21)(24,"a",36),G(25,"img",37),w(),b(26,"a",22),G(27,"img",23),w(),b(28,"a",26),G(29,"img",27),w()()()())}function PQ(n,e){if(1&n){const t=vs();b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Charity Management System"),w(),b(4,"h5",16),E(5,"Dec 2022 - Jan 2023"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Used Django Framework to have a python backend ready to go"),w(),b(10,"li"),E(11,"Utilized Amazon RDS to host the SQL tables needed"),w()()(),b(12,"div",63)(13,"img",64),Fe("click",function(){return Jr(t),Kr(kt().open("./assets/projects/charch.png"))}),w()(),b(14,"div",21)(15,"a",81),G(16,"img",82),w(),b(17,"a",50),G(18,"img",51),w(),b(19,"a",52),G(20,"img",53),w(),G(21,"br"),b(22,"a",54),G(23,"img",55),w(),b(24,"a",56),G(25,"img",57),w(),b(26,"a",98),G(27,"img",99),w(),G(28,"br"),b(29,"a",22),G(30,"img",23),w()()()()}2&n&&(Oe(13),De("src","./assets/projects/charch.png",er))}function NQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Encoded Face Detection and Digit Classification Using Machine Learning"),w(),b(4,"h5",16),E(5,"Nov 2022 - Dec 2022"),w(),b(6,"div",17)(7,"button",100),E(8,"Project Document "),G(9,"i",19),w()(),b(10,"div",21)(11,"a",22),G(12,"img",23),w(),b(13,"a",30),G(14,"img",31),w()()()())}function LQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Tiva-C Calculator, Timer, and Stopwatch"),w(),b(4,"h5",16),E(5,"Nov 2022 - Dec 2022"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Both Keypad and LCD drivers were written from scratch"),w(),b(10,"li"),E(11,"Ability to toggle between modes to run them all simultaneously together"),w()(),b(12,"button",101),E(13,"Project Document "),G(14,"i",19),w(),b(15,"button",102),E(16,"Project Repo "),G(17,"i",40),w()(),b(18,"div",21)(19,"a",90),G(20,"img",91),w()()()())}function kQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Football Rankings Web Scraping App"),w(),b(4,"h5",16),E(5,"May 2022 - June 2022"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Created the Desktop App using JavaFX"),w(),b(10,"li"),E(11,"Tested the App using Junit, Testfx, and Awaitility"),w()(),b(12,"button",103),E(13,"Project Document "),G(14,"i",19),w(),b(15,"button",104),E(16,"Project Repo "),G(17,"i",40),w()(),b(18,"div",21)(19,"a",77),G(20,"img",78),w(),b(21,"a",54),G(22,"img",55),w()()()())}function FQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Graph Search Algorithms Visualizer"),w(),b(4,"h5",16),E(5,"April 2022 - May 2022"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Visualized BFS, DFS, Iterative Deepening DFS, Uniform-cost, Greedy, and A* Search Algorithms"),w(),b(10,"li"),E(11,"Allowed user to input his own desired graph"),w()(),b(12,"button",105),E(13,"Project Document "),G(14,"i",19),w(),b(15,"button",106),E(16,"Project Repo "),G(17,"i",40),w()(),b(18,"div",21)(19,"a",22),G(20,"img",23),w(),b(21,"a",43),G(22,"img",44),w(),b(23,"a",54),G(24,"img",55),w(),G(25,"br"),b(26,"a",52),G(27,"img",53),w(),b(28,"a",56),G(29,"img",57),w()()()())}function BQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Visualizer of Compiler Process"),w(),b(4,"h5",16),E(5,"April 2022 - May 2022"),w(),b(6,"div",17)(7,"button",107),E(8,"Project Document "),G(9,"i",19),w(),b(10,"button",108),E(11,"Project Repo "),G(12,"i",40),w()(),b(13,"div",21)(14,"a",22),G(15,"img",23),w(),b(16,"a",43),G(17,"img",44),w(),b(18,"a",54),G(19,"img",55),w(),G(20,"br"),b(21,"a",52),G(22,"img",53),w(),b(23,"a",56),G(24,"img",57),w()()()())}function UQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Sorting Algorithms Complexity Comparer"),w(),b(4,"h5",16),E(5,"Dec 2021 - Jan 2022"),w(),b(6,"div",17)(7,"button",109),E(8,"Project Document "),G(9,"i",19),w(),b(10,"button",110),E(11,"Project Repo "),G(12,"i",40),w()(),b(13,"div",21)(14,"a",77),G(15,"img",78),w()()()())}function VQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"FPGA Traffic Light System"),w(),b(4,"h5",16),E(5,"Dec 2021 - Jan 2022"),w(),b(6,"div",17)(7,"button",111),E(8,"Project Document "),G(9,"i",19),w()(),b(10,"div",21)(11,"a",112),E(12," VHDL "),w()()()())}function HQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Minix3 & XV6 Modifying"),w(),b(4,"h5",16),E(5,"Nov 2021 - Jan 2022"),w(),b(6,"div",17)(7,"ul")(8,"li"),E(9,"Altered and built Minix3 to use different CPU scheduling algorithms as well as extents with different sizes"),w(),b(10,"li"),E(11,"Altered and built XV6 to use a different paging structure as well as different page replacement algorithms"),w()(),b(12,"button",113),E(13,"Project Document "),G(14,"i",19),w()(),b(15,"div",21)(16,"a",90),G(17,"img",91),w()()()())}function GQ(n,e){if(1&n){const t=vs();b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"Sports Tournament Manager"),w(),b(4,"h5",16),E(5,"Nov 2021 - Dec 2021"),w(),b(6,"div",17)(7,"button",114),E(8,"Project Document "),G(9,"i",19),w(),b(10,"button",115),E(11,"Project Repo "),G(12,"i",40),w()(),b(13,"div",63)(14,"img",64),Fe("click",function(){return Jr(t),Kr(kt().open("./assets/projects/ASW.png"))}),w()(),b(15,"div",21)(16,"a",48),G(17,"img",49),w(),b(18,"a",50),G(19,"img",51),w(),b(20,"a",52),G(21,"img",53),w(),G(22,"br"),b(23,"a",73),G(24,"img",74),w(),b(25,"a",54),G(26,"img",55),w(),b(27,"a",56),G(28,"img",57),w(),G(29,"br"),b(30,"a",58),G(31,"img",59),w(),b(32,"a",60),G(33,"img",61),w()()()()}2&n&&(Oe(14),De("src","./assets/projects/ASW.png",er))}function zQ(n,e){1&n&&(b(0,"div",13)(1,"div",14)(2,"h3",15),E(3,"VHDL ALU and Register File"),w(),b(4,"h5",16),E(5,"May 2021 - June 2021"),w(),b(6,"div",21)(7,"a",112),E(8," VHDL "),w()()()())}const jQ=function(){return["Any","Python","Pytorch","OpenCV","Pandas","Scikit-learn","Seaborn","C++","Linux"]},WQ=function(){return["Any","Python","TensorFlow","Pandas","Scikit-learn","Seaborn","QT"]},$Q=function(){return["Any","Python","QT"]},qQ=function(){return["Any","Angular","Bootstrap","HTML","CSS","JavaScript","nodejs","TypeScript"]},XQ=function(){return["Any","Python","TensorFlow","Pandas","Scikit-learn","Seaborn"]},YQ=function(){return["Any","Python","QT","MongoDB"]},ZQ=function(){return["Any","Android","Dart","Firebase","Flutter","Java"]},JQ=function(){return["Any","Python","AWS","MongoDB","C#","Unity","Linux"]},KQ=function(){return["Any","Python","TensorFlow","Pandas","Scikit-learn","Seaborn","QT","OpenCV"]},CM=function(){return["Any","C"]},TM=function(){return["Any","Python","QT","HTML","CSS","JavaScript"]},QQ=function(){return["Any","Python","OpenCV","Linux"]},eee=function(){return["Any","Python","AWS","Bootstrap","HTML","CSS","JavaScript","SQL"]},tee=function(){return["Any","Python","Scikit-learn"]},nee=function(){return["Any","Java","HTML"]},iee=function(){return["Any","Java"]},xL=function(){return["Any","VHDL"]},ree=function(){return["Any","Angular","Bootstrap","HTML","CSS","JavaScript","Firebase","nodejs","TypeScript"]};let see=(()=>{class n{constructor(){this.selected="Any"}SelectedValue(){var t=document.getElementById("Select");this.selected=t.options[t.selectedIndex].innerHTML}open(t){window.open(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-projectspage"]],decls:103,vars:46,consts:[[2,"margin-left","10px","font-style","italic"],[1,"text_shadows"],["align","center"],["id","selectLabel","for","Select",1,"form-label"],["id","Select",1,"form-select",3,"change"],[1,"tcont"],[1,"timeline"],[1,"outer"],["class","card",4,"ngIf"],["type","button","routerLink","/experience",1,"btn","clkbtn"],["type","button","routerLink","/about",1,"btn","clkbtn"],["type","button","routerLink","/favourites",1,"btn","clkbtn"],[1,"bi","bi-clipboard-heart-fill"],[1,"card"],[1,"info"],[1,"title"],[1,"subtitle"],[1,"divcont"],["type","button","onclick","window.open('./assets/projects/Thesis1.pdf')",1,"btn"],[1,"bi","bi-clipboard"],["type","button","onclick","window.open('./assets/projects/Thesis2.pdf')",1,"btn"],[1,"logos"],["href","https://www.python.org","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/python/python-original.svg","alt","python","width","40","height","40"],["href","https://pytorch.org/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/pytorch/pytorch-icon.svg","alt","pytorch","width","40","height","40"],["href","https://opencv.org/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/opencv/opencv-icon.svg","alt","opencv","width","40","height","40"],["href","https://pandas.pydata.org/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/2ae2a900d2f041da66e950e4d48052658d850630/icons/pandas/pandas-original.svg","alt","pandas","width","40","height","40"],["href","https://scikit-learn.org/","target","_blank","rel","noreferrer"],["src","https://upload.wikimedia.org/wikipedia/commons/0/05/Scikit_learn_logo_small.svg","alt","scikit_learn","width","40","height","40"],["href","https://seaborn.pydata.org/","target","_blank","rel","noreferrer"],["src","https://seaborn.pydata.org/_images/logo-mark-lightbg.svg","alt","seaborn","width","40","height","40"],["href","https://www.w3schools.com/cpp/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/cplusplus/cplusplus-original.svg","alt","cplusplus","width","40","height","40"],["href","https://www.linux.org/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/linux/linux-original.svg","alt","linux","width","40","height","40"],["type","button","onclick","window.open('./assets/projects/NWP.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/Next-Word-Predictor')",1,"btn"],[1,"bi","bi-github"],["href","https://www.tensorflow.org","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/tensorflow/tensorflow-icon.svg","alt","tensorflow","width","40","height","40"],["href","https://www.qt.io/","target","_blank","rel","noreferrer"],["src","https://upload.wikimedia.org/wikipedia/commons/0/0b/Qt_logo_2016.svg","alt","qt","width","40","height","40"],["type","button","onclick","window.open('./assets/projects/GACAC.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/Genetic-Algorithm-CAC')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/web-portfolio')",1,"btn"],["href","https://angular.io","target","_blank","rel","noreferrer"],["src","https://angular.io/assets/images/logos/angular/angular.svg","alt","angular","width","40","height","40"],["href","https://getbootstrap.com","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/bootstrap/bootstrap-plain-wordmark.svg","alt","bootstrap","width","40","height","40"],["href","https://www.w3schools.com/css/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/css3/css3-original-wordmark.svg","alt","css3","width","40","height","40"],["href","https://www.w3.org/html/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/html5/html5-original-wordmark.svg","alt","html5","width","40","height","40"],["href","https://developer.mozilla.org/en-US/docs/Web/JavaScript","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/javascript/javascript-original.svg","alt","javascript","width","40","height","40"],["href","https://nodejs.org","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/nodejs/nodejs-original-wordmark.svg","alt","nodejs","width","40","height","40"],["href","https://www.typescriptlang.org/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/typescript/typescript-original.svg","alt","typescript","width","40","height","40"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/Secure-Outlook')",1,"btn"],[1,"mimgcon"],[1,"mimg",3,"src","click"],["href","https://www.mongodb.com/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/mongodb/mongodb-original-wordmark.svg","alt","mongodb","width","40","height","40"],["controls","",1,"mvid"],[3,"src"],["href","https://developer.android.com","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/android/android-original-wordmark.svg","alt","android","width","40","height","40"],["href","https://dart.dev","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/dartlang/dartlang-icon.svg","alt","dart","width","40","height","40"],["href","https://firebase.google.com/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/firebase/firebase-icon.svg","alt","firebase","width","40","height","40"],["href","https://flutter.dev","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/flutterio/flutterio-icon.svg","alt","flutter","width","40","height","40"],["href","https://www.java.com","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/java/java-original.svg","alt","java","width","40","height","40"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/Distributed-Project')",1,"btn"],["allowfullscreen","","src","https://www.youtube.com/embed/hVoL1KevE1g",1,"mvid"],["href","https://aws.amazon.com","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/amazonwebservices/amazonwebservices-original-wordmark.svg","alt","aws","width","40","height","40"],["href","https://www.w3schools.com/cs/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/csharp/csharp-original.svg","alt","csharp","width","40","height","40"],["href","https://unity.com/","target","_blank","rel","noreferrer"],["src","https://www.vectorlogo.zone/logos/unity3d/unity3d-icon.svg","alt","unity","width","40","height","40"],["type","button","onclick","window.open('./assets/projects/Fruit Recognition.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/Fruit-Recognition-Deep-Learning')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/RTESProjectTeam1')",1,"btn"],["href","https://www.cprogramming.com/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/c/c-original.svg","alt","c","width","40","height","40"],["type","button","onclick","window.open('./assets/projects/automata.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/automataProject')",1,"btn"],["type","button","onclick","window.open('./assets/projects/CVP1.pdf')",1,"btn"],["type","button","onclick","window.open('./assets/projects/CVP2.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/Vision_Project_Team17')",1,"btn"],["allowfullscreen","","src","https://drive.google.com/file/d/1rXOvd5BzwLp6wOIZyeJ81OScdZb66bsj/preview","allow","autoplay",1,"mvid"],["href","https://www.mysql.com/","target","_blank","rel","noreferrer"],["src","https://raw.githubusercontent.com/devicons/devicon/master/icons/mysql/mysql-original-wordmark.svg","alt","mysql","width","40","height","40"],["type","button","onclick","window.open('./assets/projects/mldoc.pdf')",1,"btn"],["type","button","onclick","window.open('./assets/projects/Embedded.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/Team1-CSE211-Project')",1,"btn"],["type","button","onclick","window.open('./assets/projects/testing.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/youssefg7/CSE338Project')",1,"btn"],["type","button","onclick","window.open('./assets/projects/AI.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/CSE472-Project')",1,"btn"],["type","button","onclick","window.open('./assets/projects/compilers.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/youssefg7/CSE439Team3Spring22')",1,"btn"],["type","button","onclick","window.open('./assets/projects/DS.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/Anthony-Amgad/SortingAlgorithmDSProject')",1,"btn"],["type","button","onclick","window.open('./assets/projects/EDA.pdf')",1,"btn"],["target","_blank","rel","noreferrer",2,"margin","0 10px 0 10px","color","darkblue"],["type","button","onclick","window.open('./assets/projects/Operating Systems.pdf')",1,"btn"],["type","button","onclick","window.open('./assets/projects/ASW.pdf')",1,"btn"],["type","button","onclick","window.open('https://github.com/youssefg7/nazamly-blk')",1,"btn"]],template:function(i,r){1&i&&(b(0,"body")(1,"p",0),E(2,"Last Updated: 16th of May 2025"),w(),b(3,"h1",1),E(4,"Projects \u{1f52c}"),w(),b(5,"div",2)(6,"label",3),E(7,"Tool Filter Menu"),w(),b(8,"select",4),Fe("change",function(){return r.SelectedValue()}),b(9,"option"),E(10,"Any"),w(),b(11,"option"),E(12,"Python"),w(),b(13,"option"),E(14,"Pytorch"),w(),b(15,"option"),E(16,"TensorFlow"),w(),b(17,"option"),E(18,"Scikit-learn"),w(),b(19,"option"),E(20,"OpenCV"),w(),b(21,"option"),E(22,"Pandas"),w(),b(23,"option"),E(24,"Seaborn"),w(),b(25,"option"),E(26,"Linux"),w(),b(27,"option"),E(28,"C++"),w(),b(29,"option"),E(30,"C#"),w(),b(31,"option"),E(32,"C"),w(),b(33,"option"),E(34,"QT"),w(),b(35,"option"),E(36,"MongoDB"),w(),b(37,"option"),E(38,"Android"),w(),b(39,"option"),E(40,"Dart"),w(),b(41,"option"),E(42,"Firebase"),w(),b(43,"option"),E(44,"Flutter"),w(),b(45,"option"),E(46,"Java"),w(),b(47,"option"),E(48,"AWS"),w(),b(49,"option"),E(50,"Unity"),w(),b(51,"option"),E(52,"HTML"),w(),b(53,"option"),E(54,"CSS"),w(),b(55,"option"),E(56,"JavaScript"),w(),b(57,"option"),E(58,"TypeScript"),w(),b(59,"option"),E(60,"Bootstrap"),w(),b(61,"option"),E(62,"SQL"),w(),b(63,"option"),E(64,"Angular"),w(),b(65,"option"),E(66,"nodejs"),w(),b(67,"option"),E(68,"VHDL"),w()()(),b(69,"div",5)(70,"div",6)(71,"div",7),et(72,wQ,41,0,"div",8),et(73,xQ,34,0,"div",8),et(74,MQ,25,0,"div",8),et(75,SQ,27,0,"div",8),et(76,CQ,26,0,"div",8),et(77,TQ,26,1,"div",8),et(78,EQ,32,1,"div",8),et(79,AQ,35,0,"div",8),et(80,DQ,35,0,"div",8),et(81,IQ,20,1,"div",8),et(82,OQ,25,0,"div",8),et(83,RQ,30,0,"div",8),et(84,PQ,31,1,"div",8),et(85,NQ,15,0,"div",8),et(86,LQ,21,0,"div",8),et(87,kQ,23,0,"div",8),et(88,FQ,30,0,"div",8),et(89,BQ,25,0,"div",8),et(90,UQ,16,0,"div",8),et(91,VQ,13,0,"div",8),et(92,HQ,18,0,"div",8),et(93,GQ,34,1,"div",8),et(94,zQ,9,0,"div",8),w()()(),b(95,"div",2)(96,"button",9),E(97,"Experience"),w(),b(98,"button",10),E(99,"About"),w(),b(100,"button",11),G(101,"i",12),w()(),G(102,"br"),w()),2&i&&(Oe(72),De("ngIf",fi(23,jQ).includes(r.selected)),Oe(1),De("ngIf",fi(24,WQ).includes(r.selected)),Oe(1),De("ngIf",fi(25,$Q).includes(r.selected)),Oe(1),De("ngIf",fi(26,qQ).includes(r.selected)),Oe(1),De("ngIf",fi(27,XQ).includes(r.selected)),Oe(1),De("ngIf",fi(28,YQ).includes(r.selected)),Oe(1),De("ngIf",fi(29,ZQ).includes(r.selected)),Oe(1),De("ngIf",fi(30,JQ).includes(r.selected)),Oe(1),De("ngIf",fi(31,KQ).includes(r.selected)),Oe(1),De("ngIf",fi(32,CM).includes(r.selected)),Oe(1),De("ngIf",fi(33,TM).includes(r.selected)),Oe(1),De("ngIf",fi(34,QQ).includes(r.selected)),Oe(1),De("ngIf",fi(35,eee).includes(r.selected)),Oe(1),De("ngIf",fi(36,tee).includes(r.selected)),Oe(1),De("ngIf",fi(37,CM).includes(r.selected)),Oe(1),De("ngIf",fi(38,nee).includes(r.selected)),Oe(1),De("ngIf",fi(39,TM).includes(r.selected)),Oe(1),De("ngIf",fi(40,TM).includes(r.selected)),Oe(1),De("ngIf",fi(41,iee).includes(r.selected)),Oe(1),De("ngIf",fi(42,xL).includes(r.selected)),Oe(1),De("ngIf",fi(43,CM).includes(r.selected)),Oe(1),De("ngIf",fi(44,ree).includes(r.selected)),Oe(1),De("ngIf",fi(45,xL).includes(r.selected)))},dependencies:[Ic,Zd],styles:['select[_ngcontent-%COMP%]{width:60%;background-color:#07e5a0;color:#3107e5}select[_ngcontent-%COMP%]:hover{box-shadow:3px 3px #e5a007}option[_ngcontent-%COMP%]{text-align:center}#selectLabel[_ngcontent-%COMP%]{font-family:trashfort;font-weight:bolder;font-size:larger}.text_shadows[_ngcontent-%COMP%]{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0,9px 9px #e5a007,12px 12px 0 #3107e5;font-family:trashfort,sans-serif;font-weight:400;text-transform:uppercase;font-size:calc(2rem + 5vw);text-align:center;margin:0;color:#a007e5;animation:_ngcontent-%COMP%_shadows 1.2s ease-in infinite,move 1.2s ease-in infinite;letter-spacing:.4rem}@keyframes _ngcontent-%COMP%_shadows{0%{text-shadow:none}10%{text-shadow:3px 3px 0 #b9169b}20%{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0}30%{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0,9px 9px #e5a007}40%{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0,9px 9px #e5a007,12px 12px 0 #3107e5}50%{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0,9px 9px #e5a007,12px 12px 0 #3107e5}60%{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0,9px 9px #e5a007,12px 12px 0 #3107e5}70%{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0,9px 9px #e5a007}80%{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0}90%{text-shadow:3px 3px 0 #b9169b}to{text-shadow:none}}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}40%{transform:translate(-12px,-12px)}50%{transform:translate(-12px,-12px)}60%{transform:translate(-12px,-12px)}to{transform:translate(0)}}h1[_ngcontent-%COMP%]{text-shadow:3px 3px 0 #b9169b,6px 6px 0 #07e5a0,9px 9px #e5a007,12px 12px 0 #3107e5;font-family:trashfort,sans-serif;font-weight:400;text-transform:uppercase;font-size:calc(2rem + 5vw);text-align:center;margin:0;color:#a007e5;letter-spacing:.4rem}body[_ngcontent-%COMP%]{background:#eff8e2;background-image:url(bgxo.a29218a351792c51.png)}.clkbtn[_ngcontent-%COMP%]{box-shadow:0 8px 16px #0003,0 6px 20px #00000030;font-family:kbdunktank,sans-serif;font-weight:300;font-size:1.75rem;margin:5px;padding:7px!important}.tcont[_ngcontent-%COMP%]{font-family:#e5a007;display:flex;justify-content:center}.timeline[_ngcontent-%COMP%]{margin:20px auto;padding:20px;min-width:100%}.card[_ngcontent-%COMP%]{position:relative;background:transparent;border:0}.card[_ngcontent-%COMP%]:nth-child(odd){padding:30px 0 30px 30px}.card[_ngcontent-%COMP%]:nth-child(2n){padding:30px 30px 30px 0}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;width:50%;border:solid #a007e5;pointer-events:none}.card[_ngcontent-%COMP%]:nth-child(odd):before{left:0;top:-4.5px;bottom:-4.5px;border-width:5px 0 5px 5px;border-radius:50px 0 0 50px;pointer-events:none}.card[_ngcontent-%COMP%]:nth-child(2n):before{right:0;top:0;bottom:0;border-width:5px 5px 5px 0;border-radius:0 50px 50px 0;pointer-events:none}.card[_ngcontent-%COMP%]:first-child:before{border-top:0;border-top-left-radius:0;pointer-events:none}.card[_ngcontent-%COMP%]:last-child:nth-child(odd):before{border-bottom:0;border-bottom-left-radius:0;pointer-events:none}.card[_ngcontent-%COMP%]:last-child:nth-child(2n):before{border-bottom:0;border-bottom-right-radius:0;pointer-events:none}button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;background-color:#07e5a0;color:#a007e5;margin:10px 5px 0}button[_ngcontent-%COMP%]:hover{background-color:#e5a007;color:#a007e5}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:transparent;color:#b9169b;text-shadow:1px 1px 0 #eff8e2;border-radius:10px;padding:10px;font-weight:700}.title[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{color:#3107e5;position:relative}.logos[_ngcontent-%COMP%]{position:absolute;align-self:flex-end;text-align:right}.divimgs[_ngcontent-%COMP%]{position:absolute;align-self:flex-end;margin-top:90px;width:25%}.mimgcon[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;border-style:solid;border-width:3px;border-color:#a007e5;margin-bottom:5px;width:30%;background-color:#000;align-self:center;margin-top:10px}.mimg[_ngcontent-%COMP%], .mvid[_ngcontent-%COMP%]{width:100%;transform:scale(1);transition:.3s ease-in-out}.mimg[_ngcontent-%COMP%]:hover{transform:scale(1.3)}.title[_ngcontent-%COMP%]:before{content:"";position:absolute;width:15px;height:15px;background:#eff8e2;border-radius:999px;border:3px solid #a007e5}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{text-align:right}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .subtitle[_ngcontent-%COMP%]{text-align:right}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .logos[_ngcontent-%COMP%]{align-self:flex-start;text-align:left}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .divcont[_ngcontent-%COMP%]{text-align:right}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .divimgs[_ngcontent-%COMP%]{align-self:flex-start}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .divcont[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{direction:rtl}.card[_ngcontent-%COMP%]:nth-child(odd) > .info[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]:before{left:-45px}.card[_ngcontent-%COMP%]:nth-child(2n) > .info[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]:before{right:-45px}@media all and (max-width: 801px){.logos[_ngcontent-%COMP%]{position:relative;margin-top:10px}.mimgcon[_ngcontent-%COMP%]{width:70%}}']})}return n})();var oee=rc(276);const aee=[{path:"",component:vQ},{path:"about",component:yQ},{path:"experience",component:bQ},{path:"projects",component:see},{path:"favourites",component:(()=>{class n{constructor(){this.numofcon=0,this.numofloaded=0,this.display=new Map([["contnet",!1]])}ngAfterViewInit(){var t=document.getElementsByClassName("content");this.numofcon=t.length-1;for(var i=0;i<t.length;i++)if("color"!=t[i].id){var r=oee("#"+t[i].id).css("background-image");r=r.match(/\((.*?)\)/)[1].replace(/('|")/g,"");var s=new Image;s.src=r,this.check(s)}}check(t){t.complete?this.count():window.setTimeout(()=>{this.check(t)},100)}count(){if(this.numofloaded++,console.log(this.numofloaded+" "+this.numofcon),this.numofloaded==this.numofcon){var t=document.getElementById("loading");document.getElementById("body").style.display="block",t.style.display="none"}}drawer(t){var i=document.getElementById(t);if(i.clientHeight)i.style.height="0";else{var r=document.getElementById("m"+t);i.style.height=r.clientHeight+10+"px"}}open(t){window.open(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-favouritespage"]],decls:567,vars:3,consts:[["id","loading"],["align","center",2,"height","30%"],["src","assets/loading.gif"],["id","body"],[2,"margin-left","10px","font-style","italic"],["id","head"],["id","mid"],[1,"separator--line"],["type","button",1,"collapsible",3,"click"],["id","Album",1,"content"],["id","mAlbum"],[1,"divimgs"],[1,"mimgcon"],["onclick","window.open('https://open.spotify.com/album/3c0NHNo2Gn0X7uARad3hGv')",1,"mimg",3,"src"],["onclick","window.open('https://open.spotify.com/album/1S9MukUQEFAYCqlfrwqMd6')",1,"mimg",3,"src"],["href","https://www.albumoftheyear.org/album/498816-quadeca-i-didnt-mean-to-haunt-you.php"],["allowfullscreen","","src","https://www.youtube.com/embed/Ig17K38Fy0Y",1,"mvid"],["href","https://www.youtube.com/watch?v=VXR3wubNMiw"],["href","https://www.albumoftheyear.org/album/868978-quadeca-scrapyard.php"],["id","Animal",1,"content"],["id","mAnimal"],["id","Anime",1,"content"],["id","mAnime"],["id","Animechar",1,"content"],["id","mAnimechar"],["id","antihero",1,"content"],["id","mantihero"],["id","band",1,"content"],["id","mband"],["allowfullscreen","","src","https://www.youtube.com/embed/XFkzRNyygfk",1,"mvid"],["id","board",1,"content"],["id","mboard"],["id","card",1,"content"],["id","mcard"],["id","cmovie",1,"content"],["id","mcmovie"],["id","color",1,"content",2,"background-color","blueviolet"],["id","mcolor"],[2,"height","200px"],[2,"color","#aaa","font-weight","bold"],["id","drink",1,"content"],["id","mdrink"],["id","flavoric",1,"content"],["id","mflavoric"],["id","food",1,"content"],["id","mfood"],["id","game",1,"content"],["id","mgame"],["id","gamechar",1,"content"],["id","mgamechar"],["href","https://www.youtube.com/watch?v=0FCvzsVlXpQ"],["id","hero",1,"content"],["id","mhero"],["id","holiday",1,"content"],["id","mholiday",2,"height","350px"],["id","movie",1,"content"],["id","mmovie"],["allowfullscreen","","src","https://www.youtube.com/embed/7GlsxNI4LVI",1,"mvid"],["id","myth",1,"content"],["id","mmyth"],["id","operson",1,"content"],["id","moperson"],["href","https://www.youtube.com/@ludwig"],["href","https://offbrand.gg/"],["href","https://www.twitch.tv/moistcr1tikal"],["id","pokemon",1,"content"],["id","mpokemon"],["id","season",1,"content"],["id","mseason"],["id","tshost",1,"content"],["id","mtshost"],["allowfullscreen","","src","https://www.youtube.com/embed/4cjBFa6MdUQ",1,"mvid"],["id","tvshow",1,"content"],["id","mtvshow"],["href","https://www.imdb.com/title/tt0417299/"],["id","utensil",1,"content"],["id","mutensil",2,"height","350px"],["id","wrestler",1,"content"],["id","mwrestler"],["id","yugioh",1,"content"],["id","myugioh"],[1,"mimg",3,"src","click"]],template:function(i,r){1&i&&(G(0,"head"),b(1,"div",0)(2,"div",1),G(3,"img",2),w()(),b(4,"body",3)(5,"p",4),E(6,"Last Updated: 16th of May 2025"),w(),b(7,"h1"),E(8,"You've Reached Anthony's Cabinet of"),w(),b(9,"header")(10,"h1",5)(11,"div"),E(12,"F"),w(),b(13,"div"),E(14,"A"),w(),b(15,"div"),E(16,"V"),w(),b(17,"div"),E(18,"O"),w(),b(19,"div"),E(20,"U"),w(),b(21,"div"),E(22,"R"),w(),b(23,"div"),E(24,"I"),w(),b(25,"div"),E(26,"T"),w(),b(27,"div"),E(28,"E"),w(),b(29,"div"),E(30,"S"),w()()(),b(31,"p",6)(32,"i"),E(33,"*click on a category to open its drawer*"),w()(),G(34,"hr",7),b(35,"button",8),Fe("click",function(){return r.drawer("Album")}),E(36,"Album"),w(),b(37,"div",9)(38,"div",10)(39,"h2"),E(40,"I Didn't Mean to Haunt You + SCRAPYARD"),w(),b(41,"h3"),E(42,"By Quadeca"),w(),b(43,"h3"),E(44,"Genre: Folktronica, Art Pop, Alternative Hip Hop"),w(),b(45,"div",11)(46,"div",12),G(47,"img",13),w(),b(48,"div",12),G(49,"img",14),w()(),b(50,"p"),E(51," Quadeca, born Benjamin Lasky, is a rising star in the world of hip-hop. More than just a rapper, he's a multi-talented artist with an impressive range. He crafts not only his rhymes but also the instrumentals behind his music, showcasing his skills as a record producer. His career began on YouTube, where he initially focused on video games and comedy sketches. But his passion for music took hold, leading him to release mixtapes and eventually full-length albums. Quadeca's unique blend of technical rapping, introspective lyricism, and genre-bending production has garnered him a dedicated fanbase and established him as an artist to watch. "),w(),b(52,"p"),E(53,' In 2022 he released his LP "I Didn\'t Mean to Haunt You" (IDMTHY), which sonically sounded different than any thing he ever produced. It had a more glitchy pop sound that he flirted with on his previous LP "From Me To You". IDMTHY is posthumous album that is sung from the prespective of his ghost after death. The album sought major praise from the music industry and even placed #5 User Scored Album of 2022 on '),b(54,"a",15),E(55,"AOTY"),w(),E(56,". "),w(),b(57,"div",11)(58,"div",12),G(59,"iframe",16),w()(),b(60,"p"),E(61," In 2024 he released his Mixtape SCRAPYARD which was a collection of scraped songs off of IDMTHY that wouldn't fit on other projects. This album also gained a lot of praise even getting a 9/10 rating from "),b(62,"a",17),E(63,"TheNeedleDrop (aka. Anthony Fantano)"),w(),E(64," and as of 11-3-2024 it is ranked as #1 best album of 2024 on "),b(65,"a",18),E(66,"AOTY"),w(),E(67,". "),w(),b(68,"p"),E(69," Honorable Mentions: "),w(),b(70,"ul")(71,"li"),E(72,"OK Computer - Radiohead"),w(),b(73,"li"),E(74,"Trench - Twenty One Pilots"),w(),b(75,"li"),E(76,"Let's Start Here. - Lil Yachty"),w()()()(),b(77,"button",8),Fe("click",function(){return r.drawer("Animal")}),E(78,"Animal"),w(),b(79,"div",19)(80,"div",20)(81,"h2"),E(82,"HAWK"),w(),b(83,"p"),E(84," Hawks always felt like royalty to me. In Egyptian mythology, the hawk is most famously associated with Horus, the sky god. Often depicted with a hawk's head, Horus symbolized kingship, protection, and victory. Pharaohs, believed to be descendants of Horus, wore crowns adorned with hawk imagery. "),w(),b(85,"p"),E(86," In Greek mythology, god of light, prophecy, and healing, Apollo was often accompanied by a hawk, seen as a messenger carrying divine messages. In some historical depictions and interpretations of Norse mythology, Odin is portrayed with a hawk perched on his shoulder or with hawks flying nearby. "),w(),b(87,"p"),E(88," Honorable Mentions: "),w(),b(89,"ul")(90,"li"),E(91,"Raven"),w(),b(92,"li"),E(93,"Dog"),w()()()(),b(94,"button",8),Fe("click",function(){return r.drawer("Anime")}),E(95,"Anime"),w(),b(96,"div",21)(97,"div",22)(98,"h2"),E(99,"Death Parade"),w(),b(100,"p"),E(101," Imagine a mysterious bar where the deceased arrive unknowingly, paired with strangers. This is Quindecim, a limbo presided over by the enigmatic bartender Decim. Here, souls play deadly games with high stakes: victory leads to reincarnation, while defeat condemns them to oblivion. As the competition exposes their deepest secrets and chips away at their facades, Decim arbitrates their fates, but everything changes with the arrival of a mysterious woman who throws the very system of judgment into question. "),w(),b(102,"p"),E(103," Death Parade transcends the boundaries of a typical anime by weaving a profound exploration of human nature into its captivating narrative. Each episode throws new souls into the crucible of Quindecim's high-stakes games, forcing them to confront their regrets, hidden desires, and the burdens they carry. The playful yet morbid premise unveils the characters' vulnerabilities, stripping away their masks to expose their core humanity. This introspective journey, masterfully crafted with exceptional animation and a hauntingly beautiful soundtrack, compels you to not only be entertained, but also to grapple with their own mortality and the choices that define their lives. While opinions can be subjective, Death Parade's ability to blend philosophical depth with a suspenseful plot and emotional resonance positions it as one of the best, if not the best, anime there is. "),w(),b(104,"p"),E(105," Honorable Mentions: "),w(),b(106,"ul")(107,"li"),E(108,"Fullmetal Alchemist: Brotherhood"),w(),b(109,"li"),E(110,"Death Note"),w(),b(111,"li"),E(112,"Steins;Gate"),w()()()(),b(113,"button",8),Fe("click",function(){return r.drawer("Animechar")}),E(114,"Anime Character"),w(),b(115,"div",23)(116,"div",24),G(117,"br"),b(118,"h2"),E(119,"Sasuke Uchiha"),w(),b(120,"h3"),E(121,"From Naruto"),w(),b(122,"p"),E(123," Unlike the typical cheerful protagonist, he embodied a cool, brooding demeanor. Witnessing the massacre of his entire clan by his beloved brother, Itachi, fueled a burning desire for revenge within him. "),w(),b(124,"p"),E(125," Sasuke's journey wasn't a linear path towards good. He made questionable choices, pushing away those who cared about him. Yet, his unwavering determination to avenge his family showcased a depth uncommon in many characters. Despite his darkness, the flicker of his past bond with Naruto, his rival turned friend, offered a glimpse of the good that remained within. This complexity, the internal struggle between vengeance and his past camaraderie, makes him a fascinating character to follow. "),w(),b(126,"p"),E(127," Honorable Mentions: "),w(),b(128,"ul")(129,"li"),E(130,"Gojo Satoru - Jujutsu Kaisen"),w(),b(131,"li"),E(132,"L - Death Note"),w(),b(133,"li"),E(134,"Kakashi Hatake - Naruto"),w(),b(135,"li"),E(136,"Ken Kaneki - Tokyo Ghoul"),w()()()(),b(137,"button",8),Fe("click",function(){return r.drawer("antihero")}),E(138,"Anti-Hero"),w(),b(139,"div",25)(140,"div",26)(141,"h2"),E(142,"Deadpool"),w(),b(143,"p"),E(144," Deadpool breaks the fourth wall, directly acknowledging the comic book medium and interacting with the readers. This meta-humor adds a unique layer to his character and can be entertaining for fans. He combines dark humor with his fighting, creating a distinctive experience. "),w(),b(145,"p"),E(146," Despite his comedic facade, Deadpool has a tragic past that includes suffering from mental illness and undergoing a procedure that left him disfigured. Before becoming Deadpool, he was Wade Wilson, a mercenary diagnosed with terminal cancer. Desperate for a cure, he participates in the Weapon X program, a clandestine project experimenting with mutant abilities. While the experiment grants him a powerful healing factor, it also leaves him with extreme physical disfigurement and mental instability. This trauma contributes to his dark humor and erratic behavior. "),w(),b(147,"p"),E(148," He constantly battles the voices in his head, a manifestation of his fractured mental state. The brutal methods he employs and the lives he takes weigh heavily on him, despite his often flippant attitude. Despite his outward persona, Deadpool desires companionship and belonging. "),w(),b(149,"p"),E(150," Honorable Mentions: "),w(),b(151,"ul")(152,"li"),E(153,"Jason Todd - Robin/Red Hood"),w(),b(154,"li"),E(155,"Wolverine"),w(),b(156,"li"),E(157,"Eddie Brock - Venom"),w()()()(),b(158,"button",8),Fe("click",function(){return r.drawer("band")}),E(159,"Band"),w(),b(160,"div",27)(161,"div",28),G(162,"br"),b(163,"h2"),E(164,"Radiohead"),w(),b(165,"p"),E(166,' Radiohead isn\'t just about catchy tunes. They weave intricate soundscapes that draw me in. Layers of guitars intertwine with Thom Yorke\'s unique, emotionally charged vocals. Their music isn\'t afraid to explore complex themes. From the anxieties of modern life in "Paranoid Android" to the haunting beauty of loss in "Pyramid Song," they tackle emotions that resonate deeply. '),w(),b(167,"p"),E(168,' Furthermore, Radiohead constantly reinvented themselves. They\'re not content with staying in one genre. From the raw rock of "OK Computer" to the electronic experimentation in "Kid A," their evolution keeps their music fresh and surprising. This willingness to push boundaries allowed them to stay relevant and constantly challenge listeners, offering a unique experience with every album. '),w(),b(169,"div",11)(170,"div",12),G(171,"iframe",29),w()(),b(172,"p"),E(173," Honorable Mentions: "),w(),b(174,"ul")(175,"li"),E(176,"Twenty One Pilots"),w(),b(177,"li"),E(178,"Nirvana"),w(),b(179,"li"),E(180,"Daft Punk"),w()()()(),b(181,"button",8),Fe("click",function(){return r.drawer("board")}),E(182,"Board Game"),w(),b(183,"div",30)(184,"div",31)(185,"h2"),E(186,"C"),b(187,"span"),E(188,"o"),w(),E(189,"n"),b(190,"span"),E(191,"n"),w(),E(192,"e"),b(193,"span"),E(194,"c"),w(),E(195,"t "),b(196,"span"),E(197,"F"),w(),E(198,"o"),b(199,"span"),E(200,"u"),w(),E(201,"r"),w(),b(202,"p"),E(203," I'll crush you in this game, trust me. "),w(),b(204,"p"),E(205," Honorable Mentions: "),w(),b(206,"ul")(207,"li"),E(208,"Risk"),w(),b(209,"li"),E(210,"Monopoly"),w(),b(211,"li"),E(212,"Clue"),w()()()(),b(213,"button",8),Fe("click",function(){return r.drawer("card")}),E(214,"Card Game"),w(),b(215,"div",32)(216,"div",33)(217,"h2"),E(218,"Monopoly Deal"),w(),b(219,"p"),E(220," Firstly, the compact size and quick playtime are unbeatable. Unlike its board game counterpart that can stretch for hours, a game of Deal can be settled in a thrilling 15 minutes. "),w(),b(221,"p"),E(222," The gameplay itself is a perfect blend of strategy and chaos. You're constantly weighing the best use of your cards \u2013 collecting properties, forcing trades with opponents, or strategically stealing their hard-earned cash. Collecting those property sets feels equally satisfying, but the constant player interaction and card manipulation keep the game dynamic and unpredictable. It's the perfect pick-me-up for a game night. "),w(),b(223,"p"),E(224," Honorable Mentions: "),w(),b(225,"ul")(226,"li"),E(227,"\u0633\u0643\u0631\u0648"),w(),b(228,"li"),E(229,"Pok\xe9mon TCG"),w(),b(230,"li"),E(231,"Yu-Gi-Oh!"),w()()()(),b(232,"button",8),Fe("click",function(){return r.drawer("cmovie")}),E(233,"Childhood Movie"),w(),b(234,"div",34)(235,"div",35)(236,"h2"),E(237,"Monsters Inc"),w(),b(238,"p"),E(239," I had that movie when I was a kid and memorized every line because of how much I watched it. "),w(),b(240,"p"),E(241," Honorable Mentions: "),w(),b(242,"ul")(243,"li"),E(244,"Cars"),w(),b(245,"li"),E(246,"Staurt Little"),w(),b(247,"li"),E(248,"Ratatouille"),w()()()(),b(249,"button",8),Fe("click",function(){return r.drawer("color")}),E(250,"Color"),w(),b(251,"div",36)(252,"div",37),G(253,"div",38),b(254,"p",39),E(255," Honorable Mention "),w()()(),b(256,"button",8),Fe("click",function(){return r.drawer("drink")}),E(257,"Drink"),w(),b(258,"div",40)(259,"div",41)(260,"h2"),E(261,"Milk Tea"),w(),b(262,"p"),E(263," Milk tea offers a delightful combination of smooth tea and creamy milk... Am I supposed to elaborate any more ? "),w(),b(264,"p"),E(265," Honorable Mentions: "),w(),b(266,"ul")(267,"li"),E(268,"Water"),w()()()(),b(269,"button",8),Fe("click",function(){return r.drawer("flavoric")}),E(270,"Flavour of Ice Cream"),w(),b(271,"div",42)(272,"div",43)(273,"h2"),E(274,"Blueberry Yogurt"),w(),b(275,"p"),E(276," Blueberries offer a delightful tartness that cuts through the sweetness of the ice cream base, creating a refreshing and balanced flavor profile. In addition, yogurt based ice creams often boast a smooth and creamy texture, which pairs exceptionally well with the juicy bits of blueberries. "),w(),b(277,"p"),E(278," Honorable Mentions: "),w(),b(279,"ul")(280,"li"),E(281,"Chocolate"),w(),b(282,"li"),E(283,"Vanilla"),w()()()(),b(284,"button",8),Fe("click",function(){return r.drawer("food")}),E(285,"Food"),w(),b(286,"div",44)(287,"div",45)(288,"h2"),E(289,"Burger"),w(),b(290,"p"),E(291," Only if executed right though. "),w(),b(292,"p"),E(293," Honorable Mentions: "),w(),b(294,"ul")(295,"li"),E(296,"Pizza"),w(),b(297,"li"),E(298,"Jelly Beans"),w()()()(),b(299,"button",8),Fe("click",function(){return r.drawer("game")}),E(300,"Game"),w(),b(301,"div",46)(302,"div",47),G(303,"br"),b(304,"h2"),E(305,"Persona 5"),w(),b(306,"p"),E(307," Persona 5 is a critically-acclaimed role-playing game (RPG) where you take on the role of a high school student by day and a vigilante known as Joker by night. In modern-day Tokyo, you navigate the complexities of school life while wielding supernatural powers called Personas. These Personas manifest from the depths of your psyche and aid you in battling against corrupt individuals within distorted mental landscapes. As the Phantom Thieves, you fight to expose the darkness within these figures and bring about societal reform, all while forging bonds with your fellow thieves and managing your daily life. "),w(),b(308,"p"),E(309," Persona 5 tackles the concept of rebellion against societal corruption and personal growth. This theme combined with a well-crafted narrative is highly immersive. The game boasts a diverse cast beyond just your playable party. Each character, including villains, has well-developed backstories and motivations, making them feel real and adding depth to the narrative. The story focuses not just on fighting external villains but also on the characters' individual journeys. "),w(),b(310,"p"),E(311," Persona 5 doesn't shy away from portraying the complexities of human nature. While the Phantom Thieves are the protagonists, their methods of vigilantism can be morally ambiguous, sparking internal conflict and encouraging players to ponder the concept of justice. The narrative keeps players engaged with unexpected plot developments and revelations. Palaces, the distorted mental worlds you infiltrate, offer unique challenges and tie directly to the villains' inner darkness, further unraveling the story's layers. "),w(),b(312,"p"),E(313," These elements combine to craft a story that is both entertaining and thought-provoking. It goes beyond a simple good versus evil scenario, offering a nuanced exploration of human behavior. "),w(),b(314,"p"),E(315," Honorable Mentions: "),w(),b(316,"ul")(317,"li"),E(318,"Undertale"),w(),b(319,"li"),E(320,"Batman: Arkham Knight"),w(),b(321,"li"),E(322,"God of War (PS4)"),w(),b(323,"li"),E(324,"Minecraft"),w()()()(),b(325,"button",8),Fe("click",function(){return r.drawer("gamechar")}),E(326,"Game Character"),w(),b(327,"div",48)(328,"div",49)(329,"h2"),E(330,"Sans"),w(),b(331,"h3"),E(332,"From Undertale"),w(),b(333,"p"),E(334," Undertale is an indie role-playing game where you control a human child who has fallen underground. The game revolves around your choices: fight or show mercy to the quirky monsters you encounter. Sans, a pivotal character, is a seemingly laid-back skeleton with an affinity for puns and hot dogs. Despite his goofy demeanor, Sans holds immense power and serves as a major challenge or even a final boss depending on your gameplay choices. Undertale's charm lies in its unique blend of humor, memorable characters like Sans, and a narrative that emphasizes the power of compassion and understanding. "),w(),b(335,"p"),E(336," Sans' constant use of puns and his laid-back attitude provide comedic relief throughout the game. His mysterious nature and occasional cryptic messages spark curiosity. Despite his seemingly carefree personality, Sans possesses immense power, particularly evident during certain routes in the game. This surprising contrast between his casualness and hidden strength is very intriguing. "),w(),b(337,"p"),E(338," Throughout the game, Sans drops subtle hints that suggest he acknowledges the player's control over the narrative. He makes comments about your actions in previous playthroughs, breaking the immersion and creating a sense of unease. Sans' dialogues often have a deeper layer, referencing mechanics or concepts outside the game world. For instance, he might mention \"coming back from a bad time,\" which could be interpreted as referencing the player reloading a save file after a character's death. In certain scenarios, Sans seems aware of the existence of alternate timelines and the choices the player has made. This adds to the mystery surrounding his character and his position within the game's narrative. "),w(),b(339,"p"),E(340," Sans' ability to break the 4th wall adds a unique layer of humor and intrigue to the narrative. It makes him unpredictable and forces players to question his true motives and understanding of the game world. Oh and there's also "),b(341,"a",50),E(342,"Megalovania"),w(),E(343,". "),w(),b(344,"p"),E(345," Honorable Mentions: "),w(),b(346,"ul")(347,"li"),E(348,"Connor - Detroit: Become Human"),w(),b(349,"li"),E(350,"Goro Ackechi - Persona 5"),w(),b(351,"li"),E(352,"Atreus - God of War"),w(),b(353,"li"),E(354,"The Arkham Knight - Batman: Arkham Knight"),w(),b(355,"li"),E(356,"Flowey - Undertale"),w()()()(),b(357,"button",8),Fe("click",function(){return r.drawer("hero")}),E(358,"Hero"),w(),b(359,"div",51)(360,"div",52),G(361,"br"),b(362,"h2"),E(363,"Batman"),w(),b(364,"p"),E(365," Unlike most superheroes with superhuman abilities, Batman is a peak human, relying on his intellect, physicality, and technological advancements. This lack of superpowers allows viewers to connect with him on a more human level. Batman's backstory, fueled by witnessing his parents' murder, adds depth and complexity to his character. He operates in a moral gray area, constantly battling his inner demons while fighting for justice. "),w(),b(366,"p"),E(367," Batman boasts one of the most diverse and interesting villain lineups in comics. From the deranged Joker to the cunning Penguin, each villain presents a unique challenge, keeping the stories fresh and engaging. My favourite version of Batman is the Arkhamverse one. The Arkhamverse Batman isn't a flawless symbol of unwavering righteousness. He grapples with inner demons, resorting to brutal tactics and occasionally blurring the lines between hero and vigilante. While he has allies like Robin and Nightwing, the core narrative emphasizes Batman's solitary nature. He shoulders the burden of protecting Gotham alone, often pushing away those who care about him. As the series progresses, Batman faces not only external threats but also internal struggles. He confronts the psychological manipulation of his villains and the potential for darkness within himself. This ongoing battle shapes his character throughout the narrative. "),w(),b(368,"p"),E(369," The Arkhamverse's portrayal of Batman offers a complex and nuanced take on the character. He is a hero driven by a tragic past, a brilliant strategist with questionable methods, and a symbol of hope who grapples with his own inner darkness. "),w(),b(370,"p"),E(371," Honorable Mentions: "),w(),b(372,"ul")(373,"li"),E(374,"Peter Quill - Star-Lord"),w(),b(375,"li"),E(376,"Peter Parker & Miles Morales - Spider-man"),w(),b(377,"li"),E(378,"Dick Grayson - Robin/Nightwing"),w(),b(379,"li"),E(380,"Matt Murdock - Daredevil"),w()()()(),b(381,"button",8),Fe("click",function(){return r.drawer("holiday")}),E(382,"Holiday"),w(),b(383,"div",53),G(384,"div",54),w(),b(385,"button",8),Fe("click",function(){return r.drawer("movie")}),E(386,"Movie"),w(),b(387,"div",55)(388,"div",56)(389,"h2"),E(390,"Interstellar"),w(),b(391,"p"),E(392," The movie boasts breathtaking depictions of space phenomena like black holes and wormholes. The use of a combination of practical effects and CGI creates a realistic and awe-inspiring portrayal of the cosmos. Let me tell you about that cornfield... nah jk :p. Interstellar strives for a grounded approach in its depiction of space travel and the physics involved. Collaboration with renowned scientists ensures a level of scientific accuracy uncommon in sci-fi films. "),w(),b(393,"p"),E(394," The film's score by Hans Zimmer is widely praised for its emotional impact and ability to elevate the viewing experience. The music perfectly complements the visuals and the film's overall tone. "),w(),b(395,"div",11)(396,"div",12),G(397,"iframe",57),w()(),b(398,"p"),E(399," The movie delves into profound questions about humanity's place in the universe, the nature of time and space, and the lengths we go to for survival and the preservation of our species. The film features powerful performances by Matthew McConaughey, Anne Hathaway, and other talented actors, further drawing the audience into the characters' struggles and motivations. "),w(),b(400,"p"),E(401," Honorable Mentions: "),w(),b(402,"ul")(403,"li"),E(404,"Shawshank Redemption"),w(),b(405,"li"),E(406,"Memento"),w(),b(407,"li"),E(408,"The Batman"),w()()()(),b(409,"button",8),Fe("click",function(){return r.drawer("myth")}),E(410,"Mythological Entity"),w(),b(411,"div",58)(412,"div",59)(413,"h2"),E(414,"Ouroboros"),w(),b(415,"p"),E(416," The image of a serpent biting its own tail is inherently striking. It creates a sense of endless cycle, representing concepts that loop back onto themselves. Ouroboros holds various symbolic interpretations. The Ouroboros symbol appears in various cultures throughout history, indicating a universal human interest in the cyclical nature of existence. The most prominent example is in the Egyptian mythology, which is Apophis, a giant serpent representing chaos and destruction. Often depicted encircling the sun god Ra, symbolizing the daily journey of the sun and the potential for darkness to consume light. "),w(),b(417,"p"),E(418," In Norse mythology there is Jormungandr, the Midgard Serpent, which encircles the entire world and bites its own tail. It represents the destructive potential of nature and is destined to battle the thunder god Thor during Ragnarok, the end of the world. Ouroboros itself appears in later Greek texts and alchemical traditions. Here, it embodies the cyclical nature of life, death, and rebirth. "),w(),b(419,"p"),E(420," Therefore, Ouroboros' captivating image, its profound symbolic interpretations, and its historical and cultural significance make it a compelling mythological entity that continues to spark curiosity and inspire thought. "),w(),b(421,"p"),E(422," Honorable Mentions: "),w(),b(423,"ul")(424,"li"),E(425,"Loki"),w(),b(426,"li"),E(427,"Osiris"),w(),b(428,"li"),E(429,"Odin"),w()()()(),b(430,"button",8),Fe("click",function(){return r.drawer("operson")}),E(431,"Online Personality"),w(),b(432,"div",60)(433,"div",61)(434,"h2"),E(435,"Ludwig Ahgren"),w(),b(436,"p"),E(437," Ludwig is a multi-faceted internet personality. He rose to fame through live streaming on Twitch, initially focusing on video games like Super Smash Bros. Melee. Ludwig's engaging personality and comedic style garnered a large audience. However, his reach extends beyond gaming. Ludwig's subathon, which took place in March-April 2021, became a landmark event in the streaming world, as it ran for a staggering 31 days. Ludwig's initial goal was a modest 24-hour stream. However, due to overwhelming viewer support through subscriptions and donations, the timer kept extending. The subathon skyrocketed Ludwig's popularity. He broke the record for the most concurrent subscribers on Twitch at the time, reaching a peak of over 273,000. "),w(),b(438,"p"),E(439," As of 11-3-2024 he actively streams and creates content on "),b(440,"a",62),E(441,"Youtube"),w(),E(442,', tackling various topics beyond games, and even hosts his own highly produced events through his company, "'),b(443,"a",63),E(444,"Offbrand"),w(),E(445,'". Ludwig is also known for co-owning the esports organization Moist Esports alongside '),b(446,"a",64),E(447,"MoistCr1tikal"),w(),E(448,". His diverse content and willingness to experiment have solidified his position as a prominent figure in the online entertainment space. "),w(),b(449,"p"),E(450," Honorable Mentions: "),w(),b(451,"ul")(452,"li"),E(453,"Pewdiepie"),w(),b(454,"li"),E(455,"Markiplier"),w(),b(456,"li"),E(457,"jschlatt"),w()()()(),b(458,"button",8),Fe("click",function(){return r.drawer("pokemon")}),E(459,"Pokemon"),w(),b(460,"div",65)(461,"div",66)(462,"h2"),E(463,"Pikachu"),w(),b(464,"p"),E(465," Yes I know... the poster boy of Pok\xe9mon, how generic of me.. am I right? But hear me out for a second. I've loved Pikachu ever since I was like 4 years old. I have pictures from when I was kid wearing Pikachu merchandise. Plus Pikachu is the best electric type Pok\xe9mon there is anyway. "),w(),b(466,"p"),E(467," When I grew older and played some of the Pok\xe9mon games I remember looking up how to get Pikachu first thing whenever I picked up a new one of the games. So don't blame me, he's just been there from the start. "),w(),b(468,"p"),E(469," Honorable Mentions: "),w(),b(470,"ul")(471,"li"),E(472,"Charmander"),w(),b(473,"li"),E(474,"Gyarados"),w(),b(475,"li"),E(476,"Mew"),w()()()(),b(477,"button",8),Fe("click",function(){return r.drawer("season")}),E(478,"Season of the Year"),w(),b(479,"div",67)(480,"div",68)(481,"h2"),E(482,"Winter"),w(),b(483,"p"),E(484," Winter coincides with holidays like Christmas and New Year, bringing a joyous ambiance and opportunities for family gatherings and celebrations. Colder weather often leads to seeking warmth and comfort. This can involve enjoying hot beverages, indulging in warm meals, or curling up with a blanket. "),w(),b(485,"p"),E(486," There's also the greatest perk of them all, and that is that we get to be sweat free. "),w()()(),b(487,"button",8),Fe("click",function(){return r.drawer("tshost")}),E(488,"Talk Show Host"),w(),b(489,"div",69)(490,"div",70)(491,"h2"),E(492,"Conan O'Brien"),w(),b(493,"p"),E(494,' Conan O\'Brien is a prominent figure in American late-night television, having spent nearly three decades entertaining audiences with his signature blend of wit and absurdity. O\'Brien\'s career began as a writer for iconic shows like "Saturday Night Live" and "The Simpsons" before he rose to fame hosting his own late-night programs. Over the years, he has captivated viewers with shows like "Late Night with Conan O\'Brien," "The Tonight Show with Conan O\'Brien," and most recently, "Conan" on TBS. While he stepped down from his TBS show in 2021, O\'Brien\'s legacy of comedic innovation and quirky charm continues to influence the late-night landscape. '),w(),b(495,"p"),E(496," O'Brien embraces the absurd and unexpected. His jokes often veer into the surreal, with a heavy dose of self-deprecation and awkward physical comedy. This creates a unique brand of humor that's distinct from the more traditional approaches of other hosts. He isn't afraid to poke fun at himself, the industry, and current events. This satirical wit adds a layer of intelligent humor that goes beyond the typical late-night monologue jokes. From remotes filled with awkward celebrity encounters to recurring bits like \"Clueless Gamer,\" he pushes the boundaries of the late-night format, keeping the audience engaged with surprise and laughter. "),w(),b(497,"p"),E(498," Throughout his career, O'Brien has successfully transitioned across different platforms and formats. From network television to cable and even podcasts, he has consistently reinvented himself while staying true to his core comedic style. This video by Renzy showcases why Conan is the best in my opinion. "),w(),b(499,"div",11)(500,"div",12),G(501,"iframe",71),w()()()(),b(502,"button",8),Fe("click",function(){return r.drawer("tvshow")}),E(503,"TV Show"),w(),b(504,"div",72)(505,"div",73)(506,"h2"),E(507,"Avatar the Last Airbender"),w(),b(508,"p"),E(509,' You might\'ve expected a "Breaking Bad" or a "Game of Thrones", but no. Rated at #7 Top-TV on '),b(510,"a",74),E(511,"IMBD"),w(),E(512," Avatar The Last Airbender (ATLA) is an animated series set in a world where people can manipulate one of the four elements: water, earth, fire, or air. The story follows Aang, a young and playful Air Nomad who also happens to be the Avatar, the sole individual capable of mastering all elements. After a century in hiding, Aang awakens to a world ravaged by the Fire Nation's war. With the help of his waterbending sibling friends, Katara and Sokka, Aang embarks on a quest to master the elements, restore balance to the world, and defeat the ruthless Fire Lord. "),w(),b(513,"p"),E(514," Aang, the protagonist, embodies the classic hero's journey, but with a childlike innocence and a strong moral compass. The supporting cast, like the determined Katara and the sarcastic Sokka, offer relatable personalities and growth throughout the series. Even antagonists like Prince Zuko have complex motivations and grapple with inner conflict, making them more than one-dimensional villains. The show seamlessly blends lighthearted moments and slapstick comedy with themes of war, loss, and the importance of maintaining peace. This balance caters to a wider audience and allows viewers to connect with the characters on a deeper level. "),w(),b(515,"p"),E(516," A core message of the series is the potential for personal growth and the possibility of redemption. Characters like Zuko and Iroh embark on journeys of self-discovery, highlighting the importance of learning from mistakes and choosing the right path. The show's unique blend of action, humor, and emotional depth likely contributes to its enduring popularity and positive reception by many. "),w(),b(517,"p"),E(518," Honorable Mentions: "),w(),b(519,"ul")(520,"li"),E(521,"Invincible"),w(),b(522,"li"),E(523,"Daredevil (The Netflix Series)"),w()()()(),b(524,"button",8),Fe("click",function(){return r.drawer("utensil")}),E(525,"Utensil"),w(),b(526,"div",75),G(527,"div",76),w(),b(528,"button",8),Fe("click",function(){return r.drawer("wrestler")}),E(529,"Wrestler"),w(),b(530,"div",77)(531,"div",78)(532,"h2"),E(533,"CM Punk"),w(),b(534,"p"),E(535," CM Punk, born Phillip Jack Brooks, is a multifaceted figure in the world of entertainment. He reigns supreme in the world of professional wrestling, holding the title of WWE Champion for a record-breaking 434 days. Beyond the ring, Punk has carved a path in mixed martial arts and explored the world of acting. Currently as of 11-3-2024, he is signed with WWE, he continues to captivate audiences with his outspoken personality, exceptional in-ring skills, and dedication to his craft. "),w(),b(536,"p"),E(537," CM Punk's ability to blur the lines between reality and scripted elements of professional wrestling is a defining aspect of his persona. In 2011, his infamous \"pipebomb\" promo stands as a prime example. He went off-script, criticizing WWE management, colleagues, and the industry itself. This unsanctioned tirade exposed the inner workings of the business, creating a sense of realness and blurring the lines between Punk the wrestler and Punk the individual. While maintaining his character to a degree, he's known to express personal opinions and frustrations that feel unscripted. This approach adds a layer of intrigue, making it difficult to discern where the character ends and the real person begins. "),w(),b(538,"p"),E(539," There's a sense of honesty and realness in his unscripted moments. Fans appreciate his willingness to express genuine opinions, even if they challenge the status quo. By blurring the lines, he subtly acknowledges the theatrical nature of professional wrestling. This adds a layer of meta-commentary that some fans find intriguing. "),w(),b(540,"p"),E(541,' This ability to straddle the line between wrestling persona and personal expression is a key element that sets him apart from many of his contemporaries and supports his self acclaimed title of "Best in the World". '),w()()(),b(542,"button",8),Fe("click",function(){return r.drawer("yugioh")}),E(543,"Yu-Gi-Oh! Card"),w(),b(544,"div",79)(545,"div",80)(546,"h2"),E(547,"Shooting Quasar Dragon"),w(),b(548,"p"),E(549,' When I was young I used to play Yu-Gi-Oh! a bunch. However, this was the first card that ever got me to run an archetype which was Synchrons. It was the first ever card that made me learn and do combos. So in short this card got me into playing "meta" Yu-Gi-Oh! in a sense. That\'s why I consider it my favourite. '),w(),b(550,"div",11)(551,"div",12)(552,"img",81),Fe("click",function(){return r.open("./assets/fav/yugioh.jpg")}),w()()(),b(553,"p"),E(554," Honorable Mentions: "),w(),b(555,"ul")(556,"li"),E(557,"Level Eater"),w(),b(558,"li"),E(559,"Ultimate Conductor Tyranno"),w(),b(560,"li"),E(561,"Twin-Barrel Dragon"),w()()()(),G(562,"hr",7),b(563,"p",6)(564,"i"),E(565,"*Will update this list whenever I feel like it*"),w()(),G(566,"br"),w()),2&i&&(Oe(47),De("src","./assets/fav/idmthycover.webp",er),Oe(2),De("src","./assets/fav/sycover.jpg",er),Oe(503),De("src","./assets/fav/yugioh.jpg",er))},styles:["body[_ngcontent-%COMP%]{background:#27416c;background-image:url(bgfav.ae46e2c595e162d6.png);color:#f5f5f5;display:none}#loading[_ngcontent-%COMP%]{height:100%;overflow:hidden;background-color:#fff;opacity:100%}#mid[_ngcontent-%COMP%]{font-weight:lighter;text-align:center;text-shadow:1px 1px 0 #999}header[_ngcontent-%COMP%], #head[_ngcontent-%COMP%]{margin:0}header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}#head[_ngcontent-%COMP%]{color:#fff;font-family:wiggle,Oswald,sans-serif;font-size:calc(2rem + 5vw);font-weight:700}@keyframes _ngcontent-%COMP%_example-1{0%{transform:translateY(0)}50%{transform:translateY(9px);opacity:.0625}}@keyframes _ngcontent-%COMP%_example-2{0%{transform:translateY(0)}50%{transform:translateY(10px);opacity:.125}}@keyframes _ngcontent-%COMP%_example-3{0%{transform:translateY(0)}50%{transform:translateY(11px);opacity:.1875}}@keyframes _ngcontent-%COMP%_example-4{0%{transform:translateY(0)}50%{transform:translateY(12px);opacity:.25}}@keyframes _ngcontent-%COMP%_example-5{0%{transform:translateY(0)}50%{transform:translateY(13px);opacity:.3125}}@keyframes _ngcontent-%COMP%_example-6{0%{transform:translateY(0)}50%{transform:translateY(14px);opacity:.375}}@keyframes _ngcontent-%COMP%_example-7{0%{transform:translateY(0)}50%{transform:translateY(15px);opacity:.4375}}@keyframes _ngcontent-%COMP%_example-8{0%{transform:translateY(0)}50%{transform:translateY(16px);opacity:.5}}@keyframes _ngcontent-%COMP%_example-9{0%{transform:translateY(0)}50%{transform:translateY(17px);opacity:.5625}}@keyframes _ngcontent-%COMP%_example-10{0%{transform:translateY(0)}50%{transform:translateY(18px);opacity:.625}}@keyframes _ngcontent-%COMP%_example-11{0%{transform:translateY(0)}50%{transform:translateY(19px);opacity:.6875}}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-1;animation-duration:3s;animation-iteration-count:infinite;animation-delay:.2s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-2;animation-duration:3s;animation-iteration-count:infinite;animation-delay:.4s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-3;animation-duration:3s;animation-iteration-count:infinite;animation-delay:.6s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-4;animation-duration:3s;animation-iteration-count:infinite;animation-delay:.8s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-5;animation-duration:3s;animation-iteration-count:infinite;animation-delay:1s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-6;animation-duration:3s;animation-iteration-count:infinite;animation-delay:1.2s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-7;animation-duration:3s;animation-iteration-count:infinite;animation-delay:1.4s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-8;animation-duration:3s;animation-iteration-count:infinite;animation-delay:1.6s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-9;animation-duration:3s;animation-iteration-count:infinite;animation-delay:1.8s;animation-timing-function:ease-in-out}#head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){display:inline-block;text-shadow:4px 4px 0 #999;animation-name:_ngcontent-%COMP%_example-10;animation-duration:3s;animation-iteration-count:infinite;animation-delay:2s;animation-timing-function:ease-in-out}h1[_ngcontent-%COMP%]{color:#fff;font-family:wiggle,Oswald,sans-serif;font-size:calc(2rem + 5vw);font-weight:700;text-shadow:4px 4px 0 #999;text-align:center}.collapsible[_ngcontent-%COMP%]{background-color:transparent;padding:18px;width:100%;border:none;text-align:center;outline:none;font-family:kbdunktank,sans-serif;font-size:calc(1rem + 1vw);color:#fff;text-shadow:4px 4px 0 #999}.collapsible[_ngcontent-%COMP%]:hover{color:#999;text-shadow:4px 4px 0 white}.content[_ngcontent-%COMP%]{padding:0 18px;height:0;overflow:hidden;transition:height .5s;border-radius:10px}p[_ngcontent-%COMP%]{font-weight:700;font-size:large}.separator--line[_ngcontent-%COMP%]{border:0;border-bottom:5px solid whitesmoke;width:0;animation:_ngcontent-%COMP%_separator-width 4s ease-in-out;animation-iteration-count:infinite}@keyframes _ngcontent-%COMP%_separator-width{0%{width:0}25%{width:100%}50%{margin-left:auto;width:0%}75%{margin-left:auto;width:100%}76%{margin-left:0}to{margin-left:0;width:0}}.divimgs[_ngcontent-%COMP%]{display:flex;justify-content:center}.divimgs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:5px}.mimgcon[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;border-style:solid;border-width:3px;border-color:#fff;margin-bottom:5px;width:20%;background-color:#000;align-self:center;margin-top:10px}.mimg[_ngcontent-%COMP%], .mvid[_ngcontent-%COMP%]{width:100%;transform:scale(1);transition:.3s ease-in-out}@media all and (max-width: 801px){.mimgcon[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;border-style:solid;border-width:3px;border-color:#fff;margin-bottom:5px;width:70%;background-color:#000;align-self:center;margin-top:10px}}.mimg[_ngcontent-%COMP%]:hover{transform:scale(1.3)}#Album[_ngcontent-%COMP%]{background-image:url(quadeca.b89f67a0689c5e48.gif);background-repeat:no-repeat;background-size:cover;background-position:center}#Album[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:idmthy;font-size:calc(1rem + 2vw)}#Album[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:idmthy}#Album[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #Album[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 #999}#Animal[_ngcontent-%COMP%]{background-image:url(hawk.32c3e5e4277c5462.webp);background-repeat:no-repeat;background-size:cover;background-position:center;color:#9f8700}#Animal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:hawk;font-size:calc(1rem + 3vw);text-shadow:-1px -1px 0 gold,1px -1px 0 gold,-1px 1px 0 gold,1px 1px 0 gold}#Animal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #Animal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 gold,1px -1px 0 gold,-1px 1px 0 gold,1px 1px 0 gold}#Animal[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#Anime[_ngcontent-%COMP%]{background-image:url(deathparade.e77ee6a7eb47970f.gif);background-repeat:no-repeat;background-size:cover;background-position:center}#Anime[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:deathparade;font-size:calc(1rem + 3vw);text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}#Anime[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #Anime[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}#Animechar[_ngcontent-%COMP%]{background-image:url(sasuke.4c6a97bb4b3a62e0.gif);background-repeat:no-repeat;background-size:cover;background-position:center}#Animechar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:sasuke;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 #a0a}#Animechar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:sasuke;text-shadow:2px 1px 0 #a0a}#Animechar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #Animechar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 #a0a}#antihero[_ngcontent-%COMP%]{background-image:url(antihero.435e163fd07bc7fe.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#ff0}#antihero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:antihero;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 blue}#antihero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #antihero[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 blue}#band[_ngcontent-%COMP%]{background-image:url(radiohead.b683ab13c9395f6c.gif);background-repeat:no-repeat;background-size:cover;background-position:center}#band[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:radiohead;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 rgb(218,141,218)}#band[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #band[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 rgb(218,141,218)}#board[_ngcontent-%COMP%]{background-image:url(connect4.120cb58fc0a4bfdc.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:gold}#board[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:connect;font-size:calc(1rem + 3vw);text-shadow:-1px -1px 0 red,1px -1px 0 red,-1px 1px 0 red,1px 1px 0 red}#board[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:red;text-shadow:-1px -1px 0 gold,1px -1px 0 gold,-1px 1px 0 gold,1px 1px 0 gold}#board[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #board[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 red,1px -1px 0 red,-1px 1px 0 red,1px 1px 0 red}#card[_ngcontent-%COMP%]{background-image:url(monopoly.79f73a1f33923f99.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:green}#card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:monopoly;font-size:calc(1rem + 3vw);text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black,2px 2px 0 rgb(75,196,75)}#card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black,2px 2px 0 rgb(75,196,75);font-size:large}#cmovie[_ngcontent-%COMP%]{background-image:url(monsters.43f70410c0b441c9.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#adff2f}#cmovie[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:monsters;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 lightseagreen}#cmovie[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #cmovie[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 lightseagreen}#drink[_ngcontent-%COMP%]{background-image:url(tea.c667627d00c3c757.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#3d1712}#drink[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:tea;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 rgb(225,210,144)}#drink[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #drink[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 rgb(225,210,144),1px -1px 0 rgb(225,210,144),-1px 1px 0 rgb(225,210,144),1px 1px 0 rgb(225,210,144)}#drink[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#flavoric[_ngcontent-%COMP%]{background-image:url(flavoric.7b0e78b1cd1826eb.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#00f}#flavoric[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:flavoric;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 violet}#flavoric[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #flavoric[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 violet}#flavoric[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#food[_ngcontent-%COMP%]{background-image:url(burger.fdeceaff52a7fe7b.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#ff0}#food[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:burger;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 rgb(173,173,8)}#food[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #food[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 rgb(173,173,8)}#food[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#game[_ngcontent-%COMP%]{background-image:url(persona.a094145d1ea3c471.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:red}#game[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:persona;font-size:calc(1rem + 3vw);text-shadow:-2px -2px 0 black,2px -2px 0 black,-2px 2px 0 black,2px 2px 0 black}#game[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #game[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black}#game[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#gamechar[_ngcontent-%COMP%]{background-image:url(sans.013a76c2b687c879.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#fff}#gamechar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:sans;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 blue}#gamechar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:sans;text-shadow:2px 2px 0 blue}#gamechar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #gamechar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 blue,1px -1px 0 blue,-1px 1px 0 blue,1px 1px 0 blue}#gamechar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#hero[_ngcontent-%COMP%]{background-image:url(hero.921e60f0c074c025.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#fff}#hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:hero;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 black}#hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black}#hero[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#hero[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:purple}#hobby[_ngcontent-%COMP%]{background-image:url(hobby.8f58574fe85d463f.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#fff}#hobby[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:hobby;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 purple}#hobby[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #hobby[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 purple,1px -1px 0 purple,-1px 1px 0 purple,1px 1px 0 purple}#hobby[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#hobby[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:purple}#holiday[_ngcontent-%COMP%]{background-image:url(christmas.08bd8a9f411483e9.gif);background-repeat:no-repeat;background-size:cover;background-position:center}#movie[_ngcontent-%COMP%]{background-image:url(movie.d70272d3903b2e73.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#fff}#movie[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:movie;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 rgb(7,0,85)}#movie[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #movie[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 rgb(7,0,85)}#movie[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#movie[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#070055}#myth[_ngcontent-%COMP%]{background-image:url(myth.b4f33300b001cfc5.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#fff}#myth[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:myth;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 black}#myth[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #myth[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 black}#myth[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#operson[_ngcontent-%COMP%]{background-image:url(operson.3a76e73b954ed1bc.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#af00af}#operson[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:operson;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 red}#operson[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #operson[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 pink,1px -1px 0 pink,-1px 1px 0 pink,1px 1px 0 pink}#operson[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#operson[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#09b197}#podcast[_ngcontent-%COMP%]{background-image:url(podcast.771f058c70572c84.gif);background-repeat:no-repeat;background-size:cover;background-position:top;color:#e561b7}#podcast[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:podcast;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 #09b197}#podcast[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #podcast[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 #09b197}#podcast[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#podcast[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#09b197}#pokemon[_ngcontent-%COMP%]{background-image:url(pokemon.b34c018e2ae9ddf3.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#ff0}#pokemon[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:pokemon;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 black}#pokemon[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #pokemon[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black}#pokemon[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#pokemon[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#ff0}#season[_ngcontent-%COMP%]{background-image:url(season.14f6b869463f298e.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#000}#season[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:season;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 cyan}#season[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #season[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:2px 1px 0 cyan}#season[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#season[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#0ff}#tshost[_ngcontent-%COMP%]{background-image:url(tshost.f655b2232b7f4601.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:orange}#tshost[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:tshost;font-size:calc(1rem + 3vw);text-shadow:2px 2px 0 yellow}#tshost[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #tshost[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:1px 1px 0 yellow}#tshost[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#tshost[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#ff0}#tvshow[_ngcontent-%COMP%]{background-image:url(tvshow.88071094b007fa3e.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#000}#tvshow[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:tvshow;font-size:calc(1rem + 3vw)}#tvshow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #tvshow[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:1px 1px 0 white}#tvshow[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#tvshow[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#000}#utensil[_ngcontent-%COMP%]{background-color:#fff;background-image:url(spoon.d5d06d59ab09c7fc.jpg);background-repeat:no-repeat;background-size:200px;background-position:center}#wrestler[_ngcontent-%COMP%]{background-image:url(wrestler.acd39079b58984d7.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#fff}#wrestler[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:wrestler;font-size:calc(1rem + 3vw);text-shadow:1px 1px 0 black,2px 2px 0 red}#wrestler[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #wrestler[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:1px 1px 0 black,2px 2px 0 red}#wrestler[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#wrestler[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#000}#yugioh[_ngcontent-%COMP%]{background-image:url(yugioh.8f43ecf9dd92fc55.gif);background-repeat:no-repeat;background-size:cover;background-position:center;color:#fff}#yugioh[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:yugioh;font-size:calc(1rem + 3vw);text-shadow:1px 1px 0 darkblue,2px 2px 0 cyan}#yugioh[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #yugioh[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-shadow:1px 1px 0 darkblue,-1px 1px 0 darkblue,1px -1px 0 darkblue,-1px -1px 0 darkblue,2px 2px 0 cyan,-2px 2px 0 cyan,2px -2px 0 cyan,-2px -2px 0 cyan}#yugioh[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:700}#yugioh[_ngcontent-%COMP%]   .mimgcon[_ngcontent-%COMP%]{border-color:#0ff}"]})}return n})()}];let cee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({imports:[tP.forRoot(aee),tP]})}return n})(),lee=(()=>{class n{constructor(){this.title="web-portfolio"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&G(0,"router-outlet")},dependencies:[Aw]})}return n})();const uee=["addListener","removeListener"],dee=["addEventListener","removeEventListener"],hee=["on","off"];function Dr(n,e,t,i){if(cn(t)&&(i=t,t=void 0),i)return Dr(n,e,t).pipe(dw(i));const[r,s]=function gee(n){return cn(n.addEventListener)&&cn(n.removeEventListener)}(n)?dee.map(o=>a=>n[o](e,a,t)):function fee(n){return cn(n.addListener)&&cn(n.removeListener)}(n)?uee.map(ML(n,e)):function pee(n){return cn(n.on)&&cn(n.off)}(n)?hee.map(ML(n,e)):[];if(!r&&Pu(n))return ri(o=>Dr(o,e,t))(mi(n));if(!r)throw new TypeError("Invalid event target");return new jn(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function ML(n,e){return t=>i=>n[t](e,i)}class mee extends Mi{constructor(e,t){super()}schedule(e,t=0){return this}}const l0={setInterval(n,e,...t){const{delegate:i}=l0;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=l0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},SL={now:()=>(SL.delegate||Date).now(),delegate:void 0};class wg{constructor(e,t=wg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}wg.now=SL.now;const yee=new class vee extends wg{constructor(e,t=wg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}(class _ee extends mee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return l0.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&l0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,di(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});const{isArray:wee}=Array;function EL(n){return 1===n.length&&wee(n[0])?n[0]:n}function EM(...n){const e=Xo(n),t=EL(n);return t.length?new jn(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)mi(t[o]).subscribe(Xn(i,a=>{if(r[o].push(a),r.every(c=>c.length)){const c=r.map(l=>l.shift());i.next(e?e(...c):c),r.some((l,u)=>!l.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Pr}function AM(...n){const e=Xo(n);return ni((t,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)mi(n[c]).subscribe(Xn(i,l=>{s[c]=l,!a&&!o[c]&&(o[c]=!0,(a=o.every(sn))&&(o=null))},Es));t.subscribe(Xn(i,c=>{if(a){const l=[c,...s];i.next(e?e(...l):l)}}))})}Math,Math,Math;const kne=["*"],hie=["dialog"];function pu(n){return"string"==typeof n}function gu(n){return null!=n}function Zh(n){return(n||document.body).getBoundingClientRect()}const eF={animation:!0,transitionTimerDelayMs:5},rre=()=>{},{transitionTimerDelayMs:sre}=eF,Pg=new Map,Ts=(n,e,t,i)=>{let r=i.context||{};const s=Pg.get(e);if(s)switch(i.runningTransition){case"continue":return Pr;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Pg.delete(e)}const o=t(e,i.animation,r)||rre;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),It(void 0).pipe(function nre(n){return e=>new jn(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new Rn,c=new Rn,l=a.pipe(function Mee(...n){return e=>xp(e,It(...n))}(!0));Pg.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});const u=function ire(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const d=Dr(e,"transitionend").pipe(Vi(l),cr(({target:p})=>p===e));(function AL(...n){return 1===(n=EL(n)).length?mi(n[0]):new jn(function xee(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(mi(n[i]).subscribe(Xn(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(function TL(n=0,e,t=yee){let i=-1;return null!=e&&(cf(e)?t=e:i=e),new jn(r=>{let s=function bee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(u+sre).pipe(Vi(l)),d,c).pipe(Vi(l)).subscribe(()=>{Pg.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let M0=(()=>{class n{constructor(){this.animation=eF.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),uF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),fF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),pF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})();var ei=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(ei||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function xF(n){const e=Array.from(n.querySelectorAll(wF)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let LF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),BF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})();class bu{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let rse=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Cr(1)).subscribe(()=>{Ts(this._zone,this._el.nativeElement,(t,i)=>{i&&Zh(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ts(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(J(Un),J(Mn))};static#t=this.\u0275cmp=kn({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Tl("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Ln("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ro],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class UF{update(e){}close(e){}dismiss(e){}}const sse=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],ose=["animation","backdropClass"];class ase{_applyWindowOptions(e,t){sse.forEach(i=>{gu(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){ose.forEach(i=>{gu(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Vi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Vi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Rn,this._dismissed=new Rn,this._hidden=new Rn,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Zk(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():It(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),EM(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yS=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(yS||{});let cse=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Rn,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ct,this.shown=new Rn,this.hidden=new Rn}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":pu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Cr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=EM(Ts(this._zone,t,()=>t.classList.remove("show"),i),Ts(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};EM(Ts(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Zh(s),s.classList.add("show")},t),Ts(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Dr(t,"keydown").pipe(Vi(this._closed$),cr(r=>r.which===ei.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(yS.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Dr(this._dialogEl.nativeElement,"mousedown").pipe(Vi(this._closed$),lr(()=>i=!1),Wr(()=>Dr(t,"mouseup").pipe(Vi(this._closed$),Cr(1))),cr(({target:r})=>t===r)).subscribe(()=>{i=!0}),Dr(t,"click").pipe(Vi(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(yS.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=xF(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ts(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(J(nr),J(Un),J(Mn))};static#t=this.\u0275cmp=kn({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Dl(hie,7),2&i){let s;Wn(s=function $n(){return function YG(n,e){return n[Jo].queries[e].queryList}(Te(),_C())}())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Hn("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Tl("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Ln("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ro],ngContentSelectors:kne,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(function gA(n){const e=Te()[Fi][kr];if(!e.projection){const i=e.projection=Lf(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?_H(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),b(0,"div",0,1)(2,"div",2),function mA(n,e=0,t){const i=Te(),r=Dn(),s=xd(r,bn+n,16,null,t||null);null===s.projection&&(s.projection=e),gy(),(!i[Aa]||Qu())&&32!=(32&s.flags)&&function yU(n,e,t){yT(e[Yt],0,e,t,Gy(n,t,e),fT(t.parent||e[kr],t,e))}(r,i,s)}(3),w()()),2&i&&Tl("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),lse=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(t>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(nr))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),use=(()=>{class n{constructor(t,i,r,s,o,a,c){this._applicationRef=t,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Rn,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ct,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{n.runOutsideAngular(()=>{const r=Dr(e,"focusin").pipe(Vi(t),_n(s=>s.target));Dr(e,"keydown").pipe(Vi(t),cr(s=>s.which===ei.Tab),AM(r)).subscribe(([s,o])=>{const[a,c]=xF(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Dr(e,"click").pipe(Vi(t),AM(r),_n(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:gu(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new UF,c=(t=r.injector||t).get(_s,null)||this._environmentInjector,l=this._getContentRef(t,c,i,a,r);let u=!1!==r.backdrop?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,l.nodes),f=new ase(d,l,u,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(d),f.hidden.pipe(Cr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=p=>{f.close(p)},a.dismiss=p=>{f.dismiss(p)},a.update=p=>{f.update(p)},f.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=N1(rse,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=N1(cse,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,s,o){return r?r instanceof yi?this._createFromTemplateRef(r,s):pu(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,o):new bu([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new bu([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new bu([[i]])}_createFromComponent(t,i,r,s,o){const c=N1(r,{environmentInjector:i,elementInjector:Sr.create({providers:[{provide:UF,useValue:s}],parent:t})}),l=c.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new bu([[l]],c.hostView,c)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(Ec),Qe(Sr),Qe(_s),Qe(nr),Qe(lse),Qe(mb),Qe(Mn))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dse=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(M0))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hse=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(Qe(Sr),Qe(use),Qe(dse))};static#t=this.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({providers:[hse]})}return n})(),zF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),JF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),QF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),e3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),t3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),n3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),i3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),r3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),s3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})();new vt("live announcer delay",{providedIn:"root",factory:function Ise(){return 100}});let o3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})(),a3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({})}return n})();const Rse=[lF,uF,fF,pF,LF,BF,VF,zF,a3,JF,QF,e3,t3,n3,i3,r3,s3,o3];let Pse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n});static#n=this.\u0275inj=Tn({imports:[Rse,lF,uF,fF,pF,LF,BF,VF,zF,a3,JF,QF,e3,t3,n3,i3,r3,s3,o3]})}return n})(),Nse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Kn({type:n,bootstrap:[lee]});static#n=this.\u0275inj=Tn({imports:[Vj,cee,Pse]})}return n})();Bj().bootstrapModule(Nse).catch(n=>console.error(n))},276:function(_o,tl){var cn;!function(Dt,$s){"use strict";"object"==typeof _o.exports?_o.exports=Dt.document?$s(Dt,!0):function(di){if(!di.document)throw new Error("jQuery requires a window with a document");return $s(di)}:$s(Dt)}(typeof window<"u"?window:this,function(Dt,$s){"use strict";var di=[],Mi=Object.getPrototypeOf,pr=di.slice,nl=di.flat?function(h){return di.flat.call(h)}:function(h){return di.concat.apply([],h)},sc=di.push,Yi=di.indexOf,vo={},il=vo.toString,Es=vo.hasOwnProperty,Mu=Es.toString,ef=Mu.call(Object),Bt={},jt=function(g){return"function"==typeof g&&"number"!=typeof g.nodeType&&"function"!=typeof g.item},gr=function(g){return null!=g&&g===g.window},Rt=Dt.document,Su={type:!0,src:!0,nonce:!0,noModule:!0};function _a(h,g,x){var C,D,I=(x=x||Rt).createElement("script");if(I.text=h,g)for(C in Su)(D=g[C]||g.getAttribute&&g.getAttribute(C))&&I.setAttribute(C,D);x.head.appendChild(I).parentNode.removeChild(I)}function qs(h){return null==h?h+"":"object"==typeof h||"function"==typeof h?vo[il.call(h)]||"object":typeof h}var Cu=/HTML$/i,T=function(h,g){return new T.fn.init(h,g)};function Xs(h){var g=!!h&&"length"in h&&h.length,x=qs(h);return!jt(h)&&!gr(h)&&("array"===x||0===g||"number"==typeof g&&g>0&&g-1 in h)}function zn(h,g){return h.nodeName&&h.nodeName.toLowerCase()===g.toLowerCase()}T.fn=T.prototype={jquery:"3.7.1",constructor:T,length:0,toArray:function(){return pr.call(this)},get:function(h){return null==h?pr.call(this):h<0?this[h+this.length]:this[h]},pushStack:function(h){var g=T.merge(this.constructor(),h);return g.prevObject=this,g},each:function(h){return T.each(this,h)},map:function(h){return this.pushStack(T.map(this,function(g,x){return h.call(g,x,g)}))},slice:function(){return this.pushStack(pr.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,function(h,g){return(g+1)%2}))},odd:function(){return this.pushStack(T.grep(this,function(h,g){return g%2}))},eq:function(h){var g=this.length,x=+h+(h<0?g:0);return this.pushStack(x>=0&&x<g?[this[x]]:[])},end:function(){return this.prevObject||this.constructor()},push:sc,sort:di.sort,splice:di.splice},T.extend=T.fn.extend=function(){var h,g,x,C,D,I,P=arguments[0]||{},$=1,W=arguments.length,K=!1;for("boolean"==typeof P&&(K=P,P=arguments[$]||{},$++),"object"!=typeof P&&!jt(P)&&(P={}),$===W&&(P=this,$--);$<W;$++)if(null!=(h=arguments[$]))for(g in h)C=h[g],"__proto__"!==g&&P!==C&&(K&&C&&(T.isPlainObject(C)||(D=Array.isArray(C)))?(x=P[g],I=D&&!Array.isArray(x)?[]:D||T.isPlainObject(x)?x:{},D=!1,P[g]=T.extend(K,I,C)):void 0!==C&&(P[g]=C));return P},T.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(h){throw new Error(h)},noop:function(){},isPlainObject:function(h){var g,x;return!(!h||"[object Object]"!==il.call(h)||(g=Mi(h))&&("function"!=typeof(x=Es.call(g,"constructor")&&g.constructor)||Mu.call(x)!==ef))},isEmptyObject:function(h){var g;for(g in h)return!1;return!0},globalEval:function(h,g,x){_a(h,{nonce:g&&g.nonce},x)},each:function(h,g){var x,C=0;if(Xs(h))for(x=h.length;C<x&&!1!==g.call(h[C],C,h[C]);C++);else for(C in h)if(!1===g.call(h[C],C,h[C]))break;return h},text:function(h){var g,x="",C=0,D=h.nodeType;if(!D)for(;g=h[C++];)x+=T.text(g);return 1===D||11===D?h.textContent:9===D?h.documentElement.textContent:3===D||4===D?h.nodeValue:x},makeArray:function(h,g){var x=g||[];return null!=h&&(Xs(Object(h))?T.merge(x,"string"==typeof h?[h]:h):sc.call(x,h)),x},inArray:function(h,g,x){return null==g?-1:Yi.call(g,h,x)},isXMLDoc:function(h){var x=h&&(h.ownerDocument||h).documentElement;return!Cu.test(h&&h.namespaceURI||x&&x.nodeName||"HTML")},merge:function(h,g){for(var x=+g.length,C=0,D=h.length;C<x;C++)h[D++]=g[C];return h.length=D,h},grep:function(h,g,x){for(var D=[],I=0,P=h.length,$=!x;I<P;I++)!g(h[I],I)!==$&&D.push(h[I]);return D},map:function(h,g,x){var C,D,I=0,P=[];if(Xs(h))for(C=h.length;I<C;I++)null!=(D=g(h[I],I,x))&&P.push(D);else for(I in h)null!=(D=g(h[I],I,x))&&P.push(D);return nl(P)},guid:1,support:Bt}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=di[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(h,g){vo["[object "+g+"]"]=g.toLowerCase()});var rl=di.pop,Tu=di.sort,sl=di.splice,sn="[\\x20\\t\\r\\n\\f]",va=new RegExp("^"+sn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+sn+"+$","g");T.contains=function(h,g){var x=g&&g.parentNode;return h===x||!(!x||1!==x.nodeType||!(h.contains?h.contains(x):h.compareDocumentPosition&&16&h.compareDocumentPosition(x)))};var Eu=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function jn(h,g){return g?"\0"===h?"\ufffd":h.slice(0,-1)+"\\"+h.charCodeAt(h.length-1).toString(16)+" ":"\\"+h}T.escapeSelector=function(h){return(h+"").replace(Eu,jn)};var us=Rt,oc=sc;!function(){var h,g,x,C,D,P,$,W,K,ie,I=oc,we=T.expando,oe=0,Ne=0,Nt=Zo(),vn=Zo(),Kt=Zo(),Ji=Zo(),_i=function(H,Z){return H===Z&&(D=!0),0},xo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mo="(?:\\\\[\\da-fA-F]{1,6}"+sn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",yn="\\["+sn+"*("+Mo+")(?:"+sn+"*([*^$|!~]?=)"+sn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Mo+"))|)"+sn+"*\\]",hc=":("+Mo+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+yn+")*)|.*)\\)|)",En=new RegExp(sn+"+","g"),Yn=new RegExp("^"+sn+"*,"+sn+"*"),Ta=new RegExp("^"+sn+"*([>+~]|"+sn+")"+sn+"*"),fc=new RegExp(sn+"|>"),Zs=new RegExp(hc),ul=new RegExp("^"+Mo+"$"),Js={ID:new RegExp("^#("+Mo+")"),CLASS:new RegExp("^\\.("+Mo+")"),TAG:new RegExp("^("+Mo+"|[*])"),ATTR:new RegExp("^"+yn),PSEUDO:new RegExp("^"+hc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+sn+"*(even|odd|(([+-]|)(\\d*)n|)"+sn+"*(?:([+-]|)"+sn+"*(\\d+)|))"+sn+"*\\)|)","i"),bool:new RegExp("^(?:"+xo+")$","i"),needsContext:new RegExp("^"+sn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+sn+"*((?:-\\d)?\\d*)"+sn+"*\\)|)(?=[^-]|$)","i")},So=/^(?:input|select|textarea|button)$/i,Xr=/^h\d$/i,ds=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ks=/[+~]/,Co=new RegExp("\\\\[\\da-fA-F]{1,6}"+sn+"?|\\\\([^\\r\\n\\f])","g"),Qe=function(H,Z){var re="0x"+H.slice(1)-65536;return Z||(re<0?String.fromCharCode(re+65536):String.fromCharCode(re>>10|55296,1023&re|56320))},Yg=function(){on()},ct=fl(function(H){return!0===H.disabled&&zn(H,"fieldset")},{dir:"parentNode",next:"legend"});try{I.apply(di=pr.call(us.childNodes),us.childNodes)}catch{I={apply:function(Z,re){oc.apply(Z,pr.call(re))},call:function(Z){oc.apply(Z,pr.call(arguments,1))}}}function In(H,Z,re,ue){var be,We,Ye,_t,rt,hn,Lt,Wt=Z&&Z.ownerDocument,fn=Z?Z.nodeType:9;if(re=re||[],"string"!=typeof H||!H||1!==fn&&9!==fn&&11!==fn)return re;if(!ue&&(on(Z),Z=Z||P,W)){if(11!==fn&&(rt=ds.exec(H)))if(be=rt[1]){if(9===fn){if(!(Ye=Z.getElementById(be)))return re;if(Ye.id===be)return I.call(re,Ye),re}else if(Wt&&(Ye=Wt.getElementById(be))&&In.contains(Z,Ye)&&Ye.id===be)return I.call(re,Ye),re}else{if(rt[2])return I.apply(re,Z.getElementsByTagName(H)),re;if((be=rt[3])&&Z.getElementsByClassName)return I.apply(re,Z.getElementsByClassName(be)),re}if(!(Ji[H+" "]||K&&K.test(H))){if(Lt=H,Wt=Z,1===fn&&(fc.test(H)||Ta.test(H))){for(((Wt=Ks.test(H)&&hs(Z.parentNode)||Z)!=Z||!Bt.scope)&&((_t=Z.getAttribute("id"))?_t=T.escapeSelector(_t):Z.setAttribute("id",_t=we)),We=(hn=Ea(H)).length;We--;)hn[We]=(_t?"#"+_t:":scope")+" "+gc(hn[We]);Lt=hn.join(",")}try{return I.apply(re,Wt.querySelectorAll(Lt)),re}catch{Ji(H,!0)}finally{_t===we&&Z.removeAttribute("id")}}}return mc(H.replace(va,"$1"),Z,re,ue)}function Zo(){var H=[];return function Z(re,ue){return H.push(re+" ")>g.cacheLength&&delete Z[H.shift()],Z[re+" "]=ue}}function Ds(H){return H[we]=!0,H}function pc(H){var Z=P.createElement("fieldset");try{return!!H(Z)}catch{return!1}finally{Z.parentNode&&Z.parentNode.removeChild(Z),Z=null}}function iy(H){return function(Z){return zn(Z,"input")&&Z.type===H}}function To(H){return function(Z){return(zn(Z,"input")||zn(Z,"button"))&&Z.type===H}}function dl(H){return function(Z){return"form"in Z?Z.parentNode&&!1===Z.disabled?"label"in Z?"label"in Z.parentNode?Z.parentNode.disabled===H:Z.disabled===H:Z.isDisabled===H||Z.isDisabled!==!H&&ct(Z)===H:Z.disabled===H:"label"in Z&&Z.disabled===H}}function Ki(H){return Ds(function(Z){return Z=+Z,Ds(function(re,ue){for(var be,We=H([],re.length,Z),Ye=We.length;Ye--;)re[be=We[Ye]]&&(re[be]=!(ue[be]=re[be]))})})}function hs(H){return H&&typeof H.getElementsByTagName<"u"&&H}function on(H){var Z,re=H?H.ownerDocument||H:us;return re==P||9!==re.nodeType||!re.documentElement||($=(P=re).documentElement,W=!T.isXMLDoc(P),ie=$.matches||$.webkitMatchesSelector||$.msMatchesSelector,$.msMatchesSelector&&us!=P&&(Z=P.defaultView)&&Z.top!==Z&&Z.addEventListener("unload",Yg),Bt.getById=pc(function(ue){return $.appendChild(ue).id=T.expando,!P.getElementsByName||!P.getElementsByName(T.expando).length}),Bt.disconnectedMatch=pc(function(ue){return ie.call(ue,"*")}),Bt.scope=pc(function(){return P.querySelectorAll(":scope")}),Bt.cssHas=pc(function(){try{return P.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Bt.getById?(g.filter.ID=function(ue){var be=ue.replace(Co,Qe);return function(We){return We.getAttribute("id")===be}},g.find.ID=function(ue,be){if(typeof be.getElementById<"u"&&W){var We=be.getElementById(ue);return We?[We]:[]}}):(g.filter.ID=function(ue){var be=ue.replace(Co,Qe);return function(We){var Ye=typeof We.getAttributeNode<"u"&&We.getAttributeNode("id");return Ye&&Ye.value===be}},g.find.ID=function(ue,be){if(typeof be.getElementById<"u"&&W){var We,Ye,_t,rt=be.getElementById(ue);if(rt){if((We=rt.getAttributeNode("id"))&&We.value===ue)return[rt];for(_t=be.getElementsByName(ue),Ye=0;rt=_t[Ye++];)if((We=rt.getAttributeNode("id"))&&We.value===ue)return[rt]}return[]}}),g.find.TAG=function(ue,be){return typeof be.getElementsByTagName<"u"?be.getElementsByTagName(ue):be.querySelectorAll(ue)},g.find.CLASS=function(ue,be){if(typeof be.getElementsByClassName<"u"&&W)return be.getElementsByClassName(ue)},K=[],pc(function(ue){var be;$.appendChild(ue).innerHTML="<a id='"+we+"' href='' disabled='disabled'></a><select id='"+we+"-\r\\' disabled='disabled'><option selected=''></option></select>",ue.querySelectorAll("[selected]").length||K.push("\\["+sn+"*(?:value|"+xo+")"),ue.querySelectorAll("[id~="+we+"-]").length||K.push("~="),ue.querySelectorAll("a#"+we+"+*").length||K.push(".#.+[+~]"),ue.querySelectorAll(":checked").length||K.push(":checked"),(be=P.createElement("input")).setAttribute("type","hidden"),ue.appendChild(be).setAttribute("name","D"),$.appendChild(ue).disabled=!0,2!==ue.querySelectorAll(":disabled").length&&K.push(":enabled",":disabled"),(be=P.createElement("input")).setAttribute("name",""),ue.appendChild(be),ue.querySelectorAll("[name='']").length||K.push("\\["+sn+"*name"+sn+"*="+sn+"*(?:''|\"\")")}),Bt.cssHas||K.push(":has"),K=K.length&&new RegExp(K.join("|")),_i=function(ue,be){if(ue===be)return D=!0,0;var We=!ue.compareDocumentPosition-!be.compareDocumentPosition;return We||(1&(We=(ue.ownerDocument||ue)==(be.ownerDocument||be)?ue.compareDocumentPosition(be):1)||!Bt.sortDetached&&be.compareDocumentPosition(ue)===We?ue===P||ue.ownerDocument==us&&In.contains(us,ue)?-1:be===P||be.ownerDocument==us&&In.contains(us,be)?1:C?Yi.call(C,ue)-Yi.call(C,be):0:4&We?-1:1)}),P}for(h in In.matches=function(H,Z){return In(H,null,null,Z)},In.matchesSelector=function(H,Z){if(on(H),W&&!Ji[Z+" "]&&(!K||!K.test(Z)))try{var re=ie.call(H,Z);if(re||Bt.disconnectedMatch||H.document&&11!==H.document.nodeType)return re}catch{Ji(Z,!0)}return In(Z,P,null,[H]).length>0},In.contains=function(H,Z){return(H.ownerDocument||H)!=P&&on(H),T.contains(H,Z)},In.attr=function(H,Z){(H.ownerDocument||H)!=P&&on(H);var re=g.attrHandle[Z.toLowerCase()],ue=re&&Es.call(g.attrHandle,Z.toLowerCase())?re(H,Z,!W):void 0;return void 0!==ue?ue:H.getAttribute(Z)},In.error=function(H){throw new Error("Syntax error, unrecognized expression: "+H)},T.uniqueSort=function(H){var Z,re=[],ue=0,be=0;if(D=!Bt.sortStable,C=!Bt.sortStable&&pr.call(H,0),Tu.call(H,_i),D){for(;Z=H[be++];)Z===H[be]&&(ue=re.push(be));for(;ue--;)sl.call(H,re[ue],1)}return C=null,H},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(pr.apply(this)))},(g=T.expr={cacheLength:50,createPseudo:Ds,match:Js,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(H){return H[1]=H[1].replace(Co,Qe),H[3]=(H[3]||H[4]||H[5]||"").replace(Co,Qe),"~="===H[2]&&(H[3]=" "+H[3]+" "),H.slice(0,4)},CHILD:function(H){return H[1]=H[1].toLowerCase(),"nth"===H[1].slice(0,3)?(H[3]||In.error(H[0]),H[4]=+(H[4]?H[5]+(H[6]||1):2*("even"===H[3]||"odd"===H[3])),H[5]=+(H[7]+H[8]||"odd"===H[3])):H[3]&&In.error(H[0]),H},PSEUDO:function(H){var Z,re=!H[6]&&H[2];return Js.CHILD.test(H[0])?null:(H[3]?H[2]=H[4]||H[5]||"":re&&Zs.test(re)&&(Z=Ea(re,!0))&&(Z=re.indexOf(")",re.length-Z)-re.length)&&(H[0]=H[0].slice(0,Z),H[2]=re.slice(0,Z)),H.slice(0,3))}},filter:{TAG:function(H){var Z=H.replace(Co,Qe).toLowerCase();return"*"===H?function(){return!0}:function(re){return zn(re,Z)}},CLASS:function(H){var Z=Nt[H+" "];return Z||(Z=new RegExp("(^|"+sn+")"+H+"("+sn+"|$)"))&&Nt(H,function(re){return Z.test("string"==typeof re.className&&re.className||typeof re.getAttribute<"u"&&re.getAttribute("class")||"")})},ATTR:function(H,Z,re){return function(ue){var be=In.attr(ue,H);return null==be?"!="===Z:!Z||(be+="","="===Z?be===re:"!="===Z?be!==re:"^="===Z?re&&0===be.indexOf(re):"*="===Z?re&&be.indexOf(re)>-1:"$="===Z?re&&be.slice(-re.length)===re:"~="===Z?(" "+be.replace(En," ")+" ").indexOf(re)>-1:"|="===Z&&(be===re||be.slice(0,re.length+1)===re+"-"))}},CHILD:function(H,Z,re,ue,be){var We="nth"!==H.slice(0,3),Ye="last"!==H.slice(-4),_t="of-type"===Z;return 1===ue&&0===be?function(rt){return!!rt.parentNode}:function(rt,hn,Lt){var Wt,fn,At,Zn,Lr,or=We!==Ye?"nextSibling":"previousSibling",kn=rt.parentNode,Qs=_t&&rt.nodeName.toLowerCase(),_c=!Lt&&!_t,vr=!1;if(kn){if(We){for(;or;){for(At=rt;At=At[or];)if(_t?zn(At,Qs):1===At.nodeType)return!1;Lr=or="only"===H&&!Lr&&"nextSibling"}return!0}if(Lr=[Ye?kn.firstChild:kn.lastChild],Ye&&_c){for(vr=(Zn=(Wt=(fn=kn[we]||(kn[we]={}))[H]||[])[0]===oe&&Wt[1])&&Wt[2],At=Zn&&kn.childNodes[Zn];At=++Zn&&At&&At[or]||(vr=Zn=0)||Lr.pop();)if(1===At.nodeType&&++vr&&At===rt){fn[H]=[oe,Zn,vr];break}}else if(_c&&(vr=Zn=(Wt=(fn=rt[we]||(rt[we]={}))[H]||[])[0]===oe&&Wt[1]),!1===vr)for(;(At=++Zn&&At&&At[or]||(vr=Zn=0)||Lr.pop())&&(!(_t?zn(At,Qs):1===At.nodeType)||!++vr||(_c&&((fn=At[we]||(At[we]={}))[H]=[oe,vr]),At!==rt)););return(vr-=be)===ue||vr%ue==0&&vr/ue>=0}}},PSEUDO:function(H,Z){var re,ue=g.pseudos[H]||g.setFilters[H.toLowerCase()]||In.error("unsupported pseudo: "+H);return ue[we]?ue(Z):ue.length>1?(re=[H,H,"",Z],g.setFilters.hasOwnProperty(H.toLowerCase())?Ds(function(be,We){for(var Ye,_t=ue(be,Z),rt=_t.length;rt--;)be[Ye=Yi.call(be,_t[rt])]=!(We[Ye]=_t[rt])}):function(be){return ue(be,0,re)}):ue}},pseudos:{not:Ds(function(H){var Z=[],re=[],ue=ju(H.replace(va,"$1"));return ue[we]?Ds(function(be,We,Ye,_t){for(var rt,hn=ue(be,null,_t,[]),Lt=be.length;Lt--;)(rt=hn[Lt])&&(be[Lt]=!(We[Lt]=rt))}):function(be,We,Ye){return Z[0]=be,ue(Z,null,Ye,re),Z[0]=null,!re.pop()}}),has:Ds(function(H){return function(Z){return In(H,Z).length>0}}),contains:Ds(function(H){return H=H.replace(Co,Qe),function(Z){return(Z.textContent||T.text(Z)).indexOf(H)>-1}}),lang:Ds(function(H){return ul.test(H||"")||In.error("unsupported lang: "+H),H=H.replace(Co,Qe).toLowerCase(),function(Z){var re;do{if(re=W?Z.lang:Z.getAttribute("xml:lang")||Z.getAttribute("lang"))return(re=re.toLowerCase())===H||0===re.indexOf(H+"-")}while((Z=Z.parentNode)&&1===Z.nodeType);return!1}}),target:function(H){var Z=Dt.location&&Dt.location.hash;return Z&&Z.slice(1)===H.id},root:function(H){return H===$},focus:function(H){return H===function Gu(){try{return P.activeElement}catch{}}()&&P.hasFocus()&&!!(H.type||H.href||~H.tabIndex)},enabled:dl(!1),disabled:dl(!0),checked:function(H){return zn(H,"input")&&!!H.checked||zn(H,"option")&&!!H.selected},selected:function(H){return!0===H.selected},empty:function(H){for(H=H.firstChild;H;H=H.nextSibling)if(H.nodeType<6)return!1;return!0},parent:function(H){return!g.pseudos.empty(H)},header:function(H){return Xr.test(H.nodeName)},input:function(H){return So.test(H.nodeName)},button:function(H){return zn(H,"input")&&"button"===H.type||zn(H,"button")},text:function(H){var Z;return zn(H,"input")&&"text"===H.type&&(null==(Z=H.getAttribute("type"))||"text"===Z.toLowerCase())},first:Ki(function(){return[0]}),last:Ki(function(H,Z){return[Z-1]}),eq:Ki(function(H,Z,re){return[re<0?re+Z:re]}),even:Ki(function(H,Z){for(var re=0;re<Z;re+=2)H.push(re);return H}),odd:Ki(function(H,Z){for(var re=1;re<Z;re+=2)H.push(re);return H}),lt:Ki(function(H,Z,re){var ue;for(ue=re<0?re+Z:re>Z?Z:re;--ue>=0;)H.push(ue);return H}),gt:Ki(function(H,Z,re){for(var ue=re<0?re+Z:re;++ue<Z;)H.push(ue);return H})}}).pseudos.nth=g.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})g.pseudos[h]=iy(h);for(h in{submit:!0,reset:!0})g.pseudos[h]=To(h);function hl(){}function Ea(H,Z){var re,ue,be,We,Ye,_t,rt,hn=vn[H+" "];if(hn)return Z?0:hn.slice(0);for(Ye=H,_t=[],rt=g.preFilter;Ye;){for(We in(!re||(ue=Yn.exec(Ye)))&&(ue&&(Ye=Ye.slice(ue[0].length)||Ye),_t.push(be=[])),re=!1,(ue=Ta.exec(Ye))&&(re=ue.shift(),be.push({value:re,type:ue[0].replace(va," ")}),Ye=Ye.slice(re.length)),g.filter)(ue=Js[We].exec(Ye))&&(!rt[We]||(ue=rt[We](ue)))&&(re=ue.shift(),be.push({value:re,type:We,matches:ue}),Ye=Ye.slice(re.length));if(!re)break}return Z?Ye.length:Ye?In.error(H):vn(H,_t).slice(0)}function gc(H){for(var Z=0,re=H.length,ue="";Z<re;Z++)ue+=H[Z].value;return ue}function fl(H,Z,re){var ue=Z.dir,be=Z.next,We=be||ue,Ye=re&&"parentNode"===We,_t=Ne++;return Z.first?function(rt,hn,Lt){for(;rt=rt[ue];)if(1===rt.nodeType||Ye)return H(rt,hn,Lt);return!1}:function(rt,hn,Lt){var Wt,fn,At=[oe,_t];if(Lt){for(;rt=rt[ue];)if((1===rt.nodeType||Ye)&&H(rt,hn,Lt))return!0}else for(;rt=rt[ue];)if(1===rt.nodeType||Ye)if(fn=rt[we]||(rt[we]={}),be&&zn(rt,be))rt=rt[ue]||rt;else{if((Wt=fn[We])&&Wt[0]===oe&&Wt[1]===_t)return At[2]=Wt[2];if(fn[We]=At,At[2]=H(rt,hn,Lt))return!0}return!1}}function Is(H){return H.length>1?function(Z,re,ue){for(var be=H.length;be--;)if(!H[be](Z,re,ue))return!1;return!0}:H[0]}function gl(H,Z,re,ue,be){for(var We,Ye=[],_t=0,rt=H.length,hn=null!=Z;_t<rt;_t++)(We=H[_t])&&(!re||re(We,ue,be))&&(Ye.push(We),hn&&Z.push(_t));return Ye}function zu(H,Z,re,ue,be,We){return ue&&!ue[we]&&(ue=zu(ue)),be&&!be[we]&&(be=zu(be,We)),Ds(function(Ye,_t,rt,hn){var Lt,Wt,fn,At,Zn=[],Lr=[],or=_t.length,kn=Ye||function pl(H,Z,re){for(var ue=0,be=Z.length;ue<be;ue++)In(H,Z[ue],re);return re}(Z||"*",rt.nodeType?[rt]:rt,[]),Qs=!H||!Ye&&Z?kn:gl(kn,Zn,H,rt,hn);if(re?re(Qs,At=be||(Ye?H:or||ue)?[]:_t,rt,hn):At=Qs,ue)for(Lt=gl(At,Lr),ue(Lt,[],rt,hn),Wt=Lt.length;Wt--;)(fn=Lt[Wt])&&(At[Lr[Wt]]=!(Qs[Lr[Wt]]=fn));if(Ye){if(be||H){if(be){for(Lt=[],Wt=At.length;Wt--;)(fn=At[Wt])&&Lt.push(Qs[Wt]=fn);be(null,At=[],Lt,hn)}for(Wt=At.length;Wt--;)(fn=At[Wt])&&(Lt=be?Yi.call(Ye,fn):Zn[Wt])>-1&&(Ye[Lt]=!(_t[Lt]=fn))}}else At=gl(At===_t?At.splice(or,At.length):At),be?be(null,_t,At,hn):I.apply(_t,At)})}function ml(H){for(var Z,re,ue,be=H.length,We=g.relative[H[0].type],Ye=We||g.relative[" "],_t=We?1:0,rt=fl(function(Wt){return Wt===Z},Ye,!0),hn=fl(function(Wt){return Yi.call(Z,Wt)>-1},Ye,!0),Lt=[function(Wt,fn,At){var Zn=!We&&(At||fn!=x)||((Z=fn).nodeType?rt(Wt,fn,At):hn(Wt,fn,At));return Z=null,Zn}];_t<be;_t++)if(re=g.relative[H[_t].type])Lt=[fl(Is(Lt),re)];else{if((re=g.filter[H[_t].type].apply(null,H[_t].matches))[we]){for(ue=++_t;ue<be&&!g.relative[H[ue].type];ue++);return zu(_t>1&&Is(Lt),_t>1&&gc(H.slice(0,_t-1).concat({value:" "===H[_t-2].type?"*":""})).replace(va,"$1"),re,_t<ue&&ml(H.slice(_t,ue)),ue<be&&ml(H=H.slice(ue)),ue<be&&gc(H))}Lt.push(re)}return Is(Lt)}function ju(H,Z){var re,ue=[],be=[],We=Kt[H+" "];if(!We){for(Z||(Z=Ea(H)),re=Z.length;re--;)(We=ml(Z[re]))[we]?ue.push(We):be.push(We);We=Kt(H,function Zg(H,Z){var re=Z.length>0,ue=H.length>0,be=function(We,Ye,_t,rt,hn){var Lt,Wt,fn,At=0,Zn="0",Lr=We&&[],or=[],kn=x,Qs=We||ue&&g.find.TAG("*",hn),_c=oe+=null==kn?1:Math.random()||.1,vr=Qs.length;for(hn&&(x=Ye==P||Ye||hn);Zn!==vr&&null!=(Lt=Qs[Zn]);Zn++){if(ue&&Lt){for(Wt=0,!Ye&&Lt.ownerDocument!=P&&(on(Lt),_t=!W);fn=H[Wt++];)if(fn(Lt,Ye||P,_t)){I.call(rt,Lt);break}hn&&(oe=_c)}re&&((Lt=!fn&&Lt)&&At--,We&&Lr.push(Lt))}if(At+=Zn,re&&Zn!==At){for(Wt=0;fn=Z[Wt++];)fn(Lr,or,Ye,_t);if(We){if(At>0)for(;Zn--;)Lr[Zn]||or[Zn]||(or[Zn]=rl.call(rt));or=gl(or)}I.apply(rt,or),hn&&!We&&or.length>0&&At+Z.length>1&&T.uniqueSort(rt)}return hn&&(oe=_c,x=kn),Lr};return re?Ds(be):be}(be,ue)),We.selector=H}return We}function mc(H,Z,re,ue){var be,We,Ye,_t,rt,hn="function"==typeof H&&H,Lt=!ue&&Ea(H=hn.selector||H);if(re=re||[],1===Lt.length){if((We=Lt[0]=Lt[0].slice(0)).length>2&&"ID"===(Ye=We[0]).type&&9===Z.nodeType&&W&&g.relative[We[1].type]){if(!(Z=(g.find.ID(Ye.matches[0].replace(Co,Qe),Z)||[])[0]))return re;hn&&(Z=Z.parentNode),H=H.slice(We.shift().value.length)}for(be=Js.needsContext.test(H)?0:We.length;be--&&!g.relative[_t=(Ye=We[be]).type];)if((rt=g.find[_t])&&(ue=rt(Ye.matches[0].replace(Co,Qe),Ks.test(We[0].type)&&hs(Z.parentNode)||Z))){if(We.splice(be,1),!(H=ue.length&&gc(We)))return I.apply(re,ue),re;break}}return(hn||ju(H,Lt))(ue,Z,!W,re,!Z||Ks.test(H)&&hs(Z.parentNode)||Z),re}hl.prototype=g.filters=g.pseudos,g.setFilters=new hl,Bt.sortStable=we.split("").sort(_i).join("")===we,on(),Bt.sortDetached=pc(function(H){return 1&H.compareDocumentPosition(P.createElement("fieldset"))}),T.find=In,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,In.compile=ju,In.select=mc,In.setDocument=on,In.tokenize=Ea,In.escape=T.escapeSelector,In.getText=T.text,In.isXML=T.isXMLDoc,In.selectors=T.expr,In.support=T.support,In.uniqueSort=T.uniqueSort}();var $o=function(h,g,x){for(var C=[],D=void 0!==x;(h=h[g])&&9!==h.nodeType;)if(1===h.nodeType){if(D&&T(h).is(x))break;C.push(h)}return C},ol=function(h,g){for(var x=[];h;h=h.nextSibling)1===h.nodeType&&h!==g&&x.push(h);return x},Rn=T.expr.match.needsContext,Au=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ac(h,g,x){return jt(g)?T.grep(h,function(C,D){return!!g.call(C,D,C)!==x}):g.nodeType?T.grep(h,function(C){return C===g!==x}):"string"!=typeof g?T.grep(h,function(C){return Yi.call(g,C)>-1!==x}):T.filter(g,h,x)}T.filter=function(h,g,x){var C=g[0];return x&&(h=":not("+h+")"),1===g.length&&1===C.nodeType?T.find.matchesSelector(C,h)?[C]:[]:T.find.matches(h,T.grep(g,function(D){return 1===D.nodeType}))},T.fn.extend({find:function(h){var g,x,C=this.length,D=this;if("string"!=typeof h)return this.pushStack(T(h).filter(function(){for(g=0;g<C;g++)if(T.contains(D[g],this))return!0}));for(x=this.pushStack([]),g=0;g<C;g++)T.find(h,D[g],x);return C>1?T.uniqueSort(x):x},filter:function(h){return this.pushStack(ac(this,h||[],!1))},not:function(h){return this.pushStack(ac(this,h||[],!0))},is:function(h){return!!ac(this,"string"==typeof h&&Rn.test(h)?T(h):h||[],!1).length}});var ni,Xn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Du=T.fn.init=function(h,g,x){var C,D;if(!h)return this;if(x=x||ni,"string"==typeof h){if(!(C="<"===h[0]&&">"===h[h.length-1]&&h.length>=3?[null,h,null]:Xn.exec(h))||!C[1]&&g)return!g||g.jquery?(g||x).find(h):this.constructor(g).find(h);if(C[1]){if(T.merge(this,T.parseHTML(C[1],(g=g instanceof T?g[0]:g)&&g.nodeType?g.ownerDocument||g:Rt,!0)),Au.test(C[1])&&T.isPlainObject(g))for(C in g)jt(this[C])?this[C](g[C]):this.attr(C,g[C]);return this}return(D=Rt.getElementById(C[2]))&&(this[0]=D,this.length=1),this}return h.nodeType?(this[0]=h,this.length=1,this):jt(h)?void 0!==x.ready?x.ready(h):h(T):T.makeArray(h,this)};Du.prototype=T.fn,ni=T(Rt);var _n=/^(?:parents|prev(?:Until|All))/,Iu={children:!0,contents:!0,next:!0,prev:!0};function tf(h,g){for(;(h=h[g])&&1!==h.nodeType;);return h}T.fn.extend({has:function(h){var g=T(h,this),x=g.length;return this.filter(function(){for(var C=0;C<x;C++)if(T.contains(this,g[C]))return!0})},closest:function(h,g){var x,C=0,D=this.length,I=[],P="string"!=typeof h&&T(h);if(!Rn.test(h))for(;C<D;C++)for(x=this[C];x&&x!==g;x=x.parentNode)if(x.nodeType<11&&(P?P.index(x)>-1:1===x.nodeType&&T.find.matchesSelector(x,h))){I.push(x);break}return this.pushStack(I.length>1?T.uniqueSort(I):I)},index:function(h){return h?"string"==typeof h?Yi.call(T(h),this[0]):Yi.call(this,h.jquery?h[0]:h):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(h,g){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(h,g))))},addBack:function(h){return this.add(null==h?this.prevObject:this.prevObject.filter(h))}}),T.each({parent:function(h){var g=h.parentNode;return g&&11!==g.nodeType?g:null},parents:function(h){return $o(h,"parentNode")},parentsUntil:function(h,g,x){return $o(h,"parentNode",x)},next:function(h){return tf(h,"nextSibling")},prev:function(h){return tf(h,"previousSibling")},nextAll:function(h){return $o(h,"nextSibling")},prevAll:function(h){return $o(h,"previousSibling")},nextUntil:function(h,g,x){return $o(h,"nextSibling",x)},prevUntil:function(h,g,x){return $o(h,"previousSibling",x)},siblings:function(h){return ol((h.parentNode||{}).firstChild,h)},children:function(h){return ol(h.firstChild)},contents:function(h){return null!=h.contentDocument&&Mi(h.contentDocument)?h.contentDocument:(zn(h,"template")&&(h=h.content||h),T.merge([],h.childNodes))}},function(h,g){T.fn[h]=function(x,C){var D=T.map(this,g,x);return"Until"!==h.slice(-5)&&(C=x),C&&"string"==typeof C&&(D=T.filter(C,D)),this.length>1&&(Iu[h]||T.uniqueSort(D),_n.test(h)&&D.reverse()),this.pushStack(D)}});var Rr=/[^\x20\t\r\n\f]+/g;function qo(h){return h}function ya(h){throw h}function ne(h,g,x,C){var D;try{h&&jt(D=h.promise)?D.call(h).done(g).fail(x):h&&jt(D=h.then)?D.call(h,g,x):g.apply(void 0,[h].slice(C))}catch(I){x.apply(void 0,[I])}}T.Callbacks=function(h){h="string"==typeof h?function al(h){var g={};return T.each(h.match(Rr)||[],function(x,C){g[C]=!0}),g}(h):T.extend({},h);var g,x,C,D,I=[],P=[],$=-1,W=function(){for(D=D||h.once,C=g=!0;P.length;$=-1)for(x=P.shift();++$<I.length;)!1===I[$].apply(x[0],x[1])&&h.stopOnFalse&&($=I.length,x=!1);h.memory||(x=!1),g=!1,D&&(I=x?[]:"")},K={add:function(){return I&&(x&&!g&&($=I.length-1,P.push(x)),function ie(we){T.each(we,function(oe,Ne){jt(Ne)?(!h.unique||!K.has(Ne))&&I.push(Ne):Ne&&Ne.length&&"string"!==qs(Ne)&&ie(Ne)})}(arguments),x&&!g&&W()),this},remove:function(){return T.each(arguments,function(ie,we){for(var oe;(oe=T.inArray(we,I,oe))>-1;)I.splice(oe,1),oe<=$&&$--}),this},has:function(ie){return ie?T.inArray(ie,I)>-1:I.length>0},empty:function(){return I&&(I=[]),this},disable:function(){return D=P=[],I=x="",this},disabled:function(){return!I},lock:function(){return D=P=[],!x&&!g&&(I=x=""),this},locked:function(){return!!D},fireWith:function(ie,we){return D||(we=[ie,(we=we||[]).slice?we.slice():we],P.push(we),g||W()),this},fire:function(){return K.fireWith(this,arguments),this},fired:function(){return!!C}};return K},T.extend({Deferred:function(h){var g=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],x="pending",C={state:function(){return x},always:function(){return D.done(arguments).fail(arguments),this},catch:function(I){return C.then(null,I)},pipe:function(){var I=arguments;return T.Deferred(function(P){T.each(g,function($,W){var K=jt(I[W[4]])&&I[W[4]];D[W[1]](function(){var ie=K&&K.apply(this,arguments);ie&&jt(ie.promise)?ie.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[W[0]+"With"](this,K?[ie]:arguments)})}),I=null}).promise()},then:function(I,P,$){var W=0;function K(ie,we,oe,Ne){return function(){var Nt=this,vn=arguments,Kt=function(){var _i,xo;if(!(ie<W)){if((_i=oe.apply(Nt,vn))===we.promise())throw new TypeError("Thenable self-resolution");jt(xo=_i&&("object"==typeof _i||"function"==typeof _i)&&_i.then)?Ne?xo.call(_i,K(W,we,qo,Ne),K(W,we,ya,Ne)):(W++,xo.call(_i,K(W,we,qo,Ne),K(W,we,ya,Ne),K(W,we,qo,we.notifyWith))):(oe!==qo&&(Nt=void 0,vn=[_i]),(Ne||we.resolveWith)(Nt,vn))}},Ji=Ne?Kt:function(){try{Kt()}catch(_i){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(_i,Ji.error),ie+1>=W&&(oe!==ya&&(Nt=void 0,vn=[_i]),we.rejectWith(Nt,vn))}};ie?Ji():(T.Deferred.getErrorHook?Ji.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(Ji.error=T.Deferred.getStackHook()),Dt.setTimeout(Ji))}}return T.Deferred(function(ie){g[0][3].add(K(0,ie,jt($)?$:qo,ie.notifyWith)),g[1][3].add(K(0,ie,jt(I)?I:qo)),g[2][3].add(K(0,ie,jt(P)?P:ya))}).promise()},promise:function(I){return null!=I?T.extend(I,C):C}},D={};return T.each(g,function(I,P){var $=P[2],W=P[5];C[P[1]]=$.add,W&&$.add(function(){x=W},g[3-I][2].disable,g[3-I][3].disable,g[0][2].lock,g[0][3].lock),$.add(P[3].fire),D[P[0]]=function(){return D[P[0]+"With"](this===D?void 0:this,arguments),this},D[P[0]+"With"]=$.fireWith}),C.promise(D),h&&h.call(D,D),D},when:function(h){var g=arguments.length,x=g,C=Array(x),D=pr.call(arguments),I=T.Deferred(),P=function($){return function(W){C[$]=this,D[$]=arguments.length>1?pr.call(arguments):W,--g||I.resolveWith(C,D)}};if(g<=1&&(ne(h,I.done(P(x)).resolve,I.reject,!g),"pending"===I.state()||jt(D[x]&&D[x].then)))return I.then();for(;x--;)ne(D[x],P(x),I.reject);return I.promise()}});var te=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(h,g){Dt.console&&Dt.console.warn&&h&&te.test(h.name)&&Dt.console.warn("jQuery.Deferred exception: "+h.message,h.stack,g)},T.readyException=function(h){Dt.setTimeout(function(){throw h})};var ge=T.Deferred();function Ce(){Rt.removeEventListener("DOMContentLoaded",Ce),Dt.removeEventListener("load",Ce),T.ready()}T.fn.ready=function(h){return ge.then(h).catch(function(g){T.readyException(g)}),this},T.extend({isReady:!1,readyWait:1,ready:function(h){(!0===h?--T.readyWait:T.isReady)||(T.isReady=!0,!(!0!==h&&--T.readyWait>0)&&ge.resolveWith(Rt,[T]))}}),T.ready.then=ge.then,"complete"===Rt.readyState||"loading"!==Rt.readyState&&!Rt.documentElement.doScroll?Dt.setTimeout(T.ready):(Rt.addEventListener("DOMContentLoaded",Ce),Dt.addEventListener("load",Ce));var je=function(h,g,x,C,D,I,P){var $=0,W=h.length,K=null==x;if("object"===qs(x))for($ in D=!0,x)je(h,g,$,x[$],!0,I,P);else if(void 0!==C&&(D=!0,jt(C)||(P=!0),K&&(P?(g.call(h,C),g=null):(K=g,g=function(ie,we,oe){return K.call(T(ie),oe)})),g))for(;$<W;$++)g(h[$],x,P?C:C.call(h[$],$,g(h[$],x)));return D?h:K?g.call(h):W?g(h[0],x):I},ht=/^-ms-/,Ri=/-([a-z])/g;function Pn(h,g){return g.toUpperCase()}function ln(h){return h.replace(ht,"ms-").replace(Ri,Pn)}var ii=function(h){return 1===h.nodeType||9===h.nodeType||!+h.nodeType};function zr(){this.expando=T.expando+zr.uid++}zr.uid=1,zr.prototype={cache:function(h){var g=h[this.expando];return g||(g={},ii(h)&&(h.nodeType?h[this.expando]=g:Object.defineProperty(h,this.expando,{value:g,configurable:!0}))),g},set:function(h,g,x){var C,D=this.cache(h);if("string"==typeof g)D[ln(g)]=x;else for(C in g)D[ln(C)]=g[C];return D},get:function(h,g){return void 0===g?this.cache(h):h[this.expando]&&h[this.expando][ln(g)]},access:function(h,g,x){return void 0===g||g&&"string"==typeof g&&void 0===x?this.get(h,g):(this.set(h,g,x),void 0!==x?x:g)},remove:function(h,g){var x,C=h[this.expando];if(void 0!==C){if(void 0!==g)for((x=(g=Array.isArray(g)?g.map(ln):(g=ln(g))in C?[g]:g.match(Rr)||[]).length);x--;)delete C[g[x]];(void 0===g||T.isEmptyObject(C))&&(h.nodeType?h[this.expando]=void 0:delete h[this.expando])}},hasData:function(h){var g=h[this.expando];return void 0!==g&&!T.isEmptyObject(g)}};var gt=new zr,Pi=new zr,cl=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Si=/[A-Z]/g;function gi(h,g,x){var C;if(void 0===x&&1===h.nodeType)if(C="data-"+g.replace(Si,"-$&").toLowerCase(),"string"==typeof(x=h.getAttribute(C))){try{x=function ba(h){return"true"===h||"false"!==h&&("null"===h?null:h===+h+""?+h:cl.test(h)?JSON.parse(h):h)}(x)}catch{}Pi.set(h,g,x)}else x=void 0;return x}T.extend({hasData:function(h){return Pi.hasData(h)||gt.hasData(h)},data:function(h,g,x){return Pi.access(h,g,x)},removeData:function(h,g){Pi.remove(h,g)},_data:function(h,g,x){return gt.access(h,g,x)},_removeData:function(h,g){gt.remove(h,g)}}),T.fn.extend({data:function(h,g){var x,C,D,I=this[0],P=I&&I.attributes;if(void 0===h){if(this.length&&(D=Pi.get(I),1===I.nodeType&&!gt.get(I,"hasDataAttrs"))){for(x=P.length;x--;)P[x]&&0===(C=P[x].name).indexOf("data-")&&(C=ln(C.slice(5)),gi(I,C,D[C]));gt.set(I,"hasDataAttrs",!0)}return D}return"object"==typeof h?this.each(function(){Pi.set(this,h)}):je(this,function($){var W;if(I&&void 0===$)return void 0!==(W=Pi.get(I,h))||void 0!==(W=gi(I,h))?W:void 0;this.each(function(){Pi.set(this,h,$)})},null,g,arguments.length>1,null,!0)},removeData:function(h){return this.each(function(){Pi.remove(this,h)})}}),T.extend({queue:function(h,g,x){var C;if(h)return C=gt.get(h,g=(g||"fx")+"queue"),x&&(!C||Array.isArray(x)?C=gt.access(h,g,T.makeArray(x)):C.push(x)),C||[]},dequeue:function(h,g){var x=T.queue(h,g=g||"fx"),C=x.length,D=x.shift(),I=T._queueHooks(h,g);"inprogress"===D&&(D=x.shift(),C--),D&&("fx"===g&&x.unshift("inprogress"),delete I.stop,D.call(h,function(){T.dequeue(h,g)},I)),!C&&I&&I.empty.fire()},_queueHooks:function(h,g){var x=g+"queueHooks";return gt.get(h,x)||gt.access(h,x,{empty:T.Callbacks("once memory").add(function(){gt.remove(h,[g+"queue",x])})})}}),T.fn.extend({queue:function(h,g){var x=2;return"string"!=typeof h&&(g=h,h="fx",x--),arguments.length<x?T.queue(this[0],h):void 0===g?this:this.each(function(){var C=T.queue(this,h,g);T._queueHooks(this,h),"fx"===h&&"inprogress"!==C[0]&&T.dequeue(this,h)})},dequeue:function(h){return this.each(function(){T.dequeue(this,h)})},clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,g){var x,C=1,D=T.Deferred(),I=this,P=this.length,$=function(){--C||D.resolveWith(I,[I])};for("string"!=typeof h&&(g=h,h=void 0),h=h||"fx";P--;)(x=gt.get(I[P],h+"queueHooks"))&&x.empty&&(C++,x.empty.add($));return $(),D.promise(g)}});var yo=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=new RegExp("^(?:([+-])=|)("+yo+")([a-z%]*)$","i"),As=["Top","Right","Bottom","Left"],bo=Rt.documentElement,cc=function(h){return T.contains(h.ownerDocument,h)},B0={composed:!0};bo.getRootNode&&(cc=function(h){return T.contains(h.ownerDocument,h)||h.getRootNode(B0)===h.ownerDocument});var Ou=function(h,g){return"none"===(h=g||h).style.display||""===h.style.display&&cc(h)&&"none"===T.css(h,"display")};function Ug(h,g,x,C){var D,I,P=20,$=C?function(){return C.cur()}:function(){return T.css(h,g,"")},W=$(),K=x&&x[3]||(T.cssNumber[g]?"":"px"),ie=h.nodeType&&(T.cssNumber[g]||"px"!==K&&+W)&&wa.exec(T.css(h,g));if(ie&&ie[3]!==K){for(K=K||ie[3],ie=+(W/=2)||1;P--;)T.style(h,g,ie+K),(1-I)*(1-(I=$()/W||.5))<=0&&(P=0),ie/=I;T.style(h,g,(ie*=2)+K),x=x||[]}return x&&(ie=+ie||+W||0,D=x[1]?ie+(x[1]+1)*x[2]:+x[2],C&&(C.unit=K,C.start=ie,C.end=D)),D}var Vg={};function U0(h){var g,x=h.ownerDocument,C=h.nodeName,D=Vg[C];return D||(g=x.body.appendChild(x.createElement(C)),D=T.css(g,"display"),g.parentNode.removeChild(g),"none"===D&&(D="block"),Vg[C]=D,D)}function lc(h,g){for(var x,C,D=[],I=0,P=h.length;I<P;I++)(C=h[I]).style&&(x=C.style.display,g?("none"===x&&(D[I]=gt.get(C,"display")||null,D[I]||(C.style.display="")),""===C.style.display&&Ou(C)&&(D[I]=U0(C))):"none"!==x&&(D[I]="none",gt.set(C,"display",x)));for(I=0;I<P;I++)null!=D[I]&&(h[I].style.display=D[I]);return h}T.fn.extend({show:function(){return lc(this,!0)},hide:function(){return lc(this)},toggle:function(h){return"boolean"==typeof h?h?this.show():this.hide():this.each(function(){Ou(this)?T(this).show():T(this).hide()})}});var g,x,Ru=/^(?:checkbox|radio)$/i,Pu=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,nf=/^$|^module$|\/(?:java|ecma)script/i;g=Rt.createDocumentFragment().appendChild(Rt.createElement("div")),(x=Rt.createElement("input")).setAttribute("type","radio"),x.setAttribute("checked","checked"),x.setAttribute("name","t"),g.appendChild(x),Bt.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",Bt.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",Bt.option=!!g.lastChild;var jr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mr(h,g){var x;return x=typeof h.getElementsByTagName<"u"?h.getElementsByTagName(g||"*"):typeof h.querySelectorAll<"u"?h.querySelectorAll(g||"*"):[],void 0===g||g&&zn(h,g)?T.merge([h],x):x}function Nu(h,g){for(var x=0,C=h.length;x<C;x++)gt.set(h[x],"globalEval",!g||gt.get(g[x],"globalEval"))}jr.tbody=jr.tfoot=jr.colgroup=jr.caption=jr.thead,jr.th=jr.td,Bt.option||(jr.optgroup=jr.option=[1,"<select multiple='multiple'>","</select>"]);var V0=/<|&#?\w+;/;function rf(h,g,x,C,D){for(var I,P,$,W,K,ie,we=g.createDocumentFragment(),oe=[],Ne=0,Nt=h.length;Ne<Nt;Ne++)if((I=h[Ne])||0===I)if("object"===qs(I))T.merge(oe,I.nodeType?[I]:I);else if(V0.test(I)){for(P=P||we.appendChild(g.createElement("div")),$=(Pu.exec(I)||["",""])[1].toLowerCase(),P.innerHTML=(W=jr[$]||jr._default)[1]+T.htmlPrefilter(I)+W[2],ie=W[0];ie--;)P=P.lastChild;T.merge(oe,P.childNodes),(P=we.firstChild).textContent=""}else oe.push(g.createTextNode(I));for(we.textContent="",Ne=0;I=oe[Ne++];)if(C&&T.inArray(I,C)>-1)D&&D.push(I);else if(K=cc(I),P=mr(we.appendChild(I),"script"),K&&Nu(P),x)for(ie=0;I=P[ie++];)nf.test(I.type||"")&&x.push(I);return we}var sf=/^([^.]*)(?:\.(.+)|)/;function xa(){return!0}function Ma(){return!1}function mi(h,g,x,C,D,I){var P,$;if("object"==typeof g){for($ in"string"!=typeof x&&(C=C||x,x=void 0),g)mi(h,$,x,C,g[$],I);return h}if(null==C&&null==D?(D=x,C=x=void 0):null==D&&("string"==typeof x?(D=C,C=void 0):(D=C,C=x,x=void 0)),!1===D)D=Ma;else if(!D)return h;return 1===I&&(P=D,D=function(W){return T().off(W),P.apply(this,arguments)},D.guid=P.guid||(P.guid=T.guid++)),h.each(function(){T.event.add(this,g,D,C,x)})}function Lu(h,g,x){x?(gt.set(h,g,!1),T.event.add(h,g,{namespace:!1,handler:function(C){var D,I=gt.get(this,g);if(1&C.isTrigger&&this[g]){if(I)(T.event.special[g]||{}).delegateType&&C.stopPropagation();else if(I=pr.call(arguments),gt.set(this,g,I),this[g](),D=gt.get(this,g),gt.set(this,g,!1),I!==D)return C.stopImmediatePropagation(),C.preventDefault(),D}else I&&(gt.set(this,g,T.event.trigger(I[0],I.slice(1),this)),C.stopPropagation(),C.isImmediatePropagationStopped=xa)}})):void 0===gt.get(h,g)&&T.event.add(h,g,xa)}T.event={global:{},add:function(h,g,x,C,D){var I,P,$,W,K,ie,we,oe,Ne,Nt,vn,Kt=gt.get(h);if(ii(h))for(x.handler&&(x=(I=x).handler,D=I.selector),D&&T.find.matchesSelector(bo,D),x.guid||(x.guid=T.guid++),(W=Kt.events)||(W=Kt.events=Object.create(null)),(P=Kt.handle)||(P=Kt.handle=function(Ji){return typeof T<"u"&&T.event.triggered!==Ji.type?T.event.dispatch.apply(h,arguments):void 0}),K=(g=(g||"").match(Rr)||[""]).length;K--;)Ne=vn=($=sf.exec(g[K])||[])[1],Nt=($[2]||"").split(".").sort(),Ne&&(we=T.event.special[Ne]||{},we=T.event.special[Ne=(D?we.delegateType:we.bindType)||Ne]||{},ie=T.extend({type:Ne,origType:vn,data:C,handler:x,guid:x.guid,selector:D,needsContext:D&&T.expr.match.needsContext.test(D),namespace:Nt.join(".")},I),(oe=W[Ne])||((oe=W[Ne]=[]).delegateCount=0,(!we.setup||!1===we.setup.call(h,C,Nt,P))&&h.addEventListener&&h.addEventListener(Ne,P)),we.add&&(we.add.call(h,ie),ie.handler.guid||(ie.handler.guid=x.guid)),D?oe.splice(oe.delegateCount++,0,ie):oe.push(ie),T.event.global[Ne]=!0)},remove:function(h,g,x,C,D){var I,P,$,W,K,ie,we,oe,Ne,Nt,vn,Kt=gt.hasData(h)&&gt.get(h);if(Kt&&(W=Kt.events)){for(K=(g=(g||"").match(Rr)||[""]).length;K--;)if(Ne=vn=($=sf.exec(g[K])||[])[1],Nt=($[2]||"").split(".").sort(),Ne){for(we=T.event.special[Ne]||{},oe=W[Ne=(C?we.delegateType:we.bindType)||Ne]||[],$=$[2]&&new RegExp("(^|\\.)"+Nt.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=I=oe.length;I--;)ie=oe[I],(D||vn===ie.origType)&&(!x||x.guid===ie.guid)&&(!$||$.test(ie.namespace))&&(!C||C===ie.selector||"**"===C&&ie.selector)&&(oe.splice(I,1),ie.selector&&oe.delegateCount--,we.remove&&we.remove.call(h,ie));P&&!oe.length&&((!we.teardown||!1===we.teardown.call(h,Nt,Kt.handle))&&T.removeEvent(h,Ne,Kt.handle),delete W[Ne])}else for(Ne in W)T.event.remove(h,Ne+g[K],x,C,!0);T.isEmptyObject(W)&&gt.remove(h,"handle events")}},dispatch:function(h){var g,x,C,D,I,P,$=new Array(arguments.length),W=T.event.fix(h),K=(gt.get(this,"events")||Object.create(null))[W.type]||[],ie=T.event.special[W.type]||{};for($[0]=W,g=1;g<arguments.length;g++)$[g]=arguments[g];if(W.delegateTarget=this,!ie.preDispatch||!1!==ie.preDispatch.call(this,W)){for(P=T.event.handlers.call(this,W,K),g=0;(D=P[g++])&&!W.isPropagationStopped();)for(W.currentTarget=D.elem,x=0;(I=D.handlers[x++])&&!W.isImmediatePropagationStopped();)(!W.rnamespace||!1===I.namespace||W.rnamespace.test(I.namespace))&&(W.handleObj=I,W.data=I.data,void 0!==(C=((T.event.special[I.origType]||{}).handle||I.handler).apply(D.elem,$))&&!1===(W.result=C)&&(W.preventDefault(),W.stopPropagation()));return ie.postDispatch&&ie.postDispatch.call(this,W),W.result}},handlers:function(h,g){var x,C,D,I,P,$=[],W=g.delegateCount,K=h.target;if(W&&K.nodeType&&!("click"===h.type&&h.button>=1))for(;K!==this;K=K.parentNode||this)if(1===K.nodeType&&("click"!==h.type||!0!==K.disabled)){for(I=[],P={},x=0;x<W;x++)void 0===P[D=(C=g[x]).selector+" "]&&(P[D]=C.needsContext?T(D,this).index(K)>-1:T.find(D,this,null,[K]).length),P[D]&&I.push(C);I.length&&$.push({elem:K,handlers:I})}return K=this,W<g.length&&$.push({elem:K,handlers:g.slice(W)}),$},addProp:function(h,g){Object.defineProperty(T.Event.prototype,h,{enumerable:!0,configurable:!0,get:jt(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[h]},set:function(x){Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:x})}})},fix:function(h){return h[T.expando]?h:new T.Event(h)},special:{load:{noBubble:!0},click:{setup:function(h){var g=this||h;return Ru.test(g.type)&&g.click&&zn(g,"input")&&Lu(g,"click",!0),!1},trigger:function(h){var g=this||h;return Ru.test(g.type)&&g.click&&zn(g,"input")&&Lu(g,"click"),!0},_default:function(h){var g=h.target;return Ru.test(g.type)&&g.click&&zn(g,"input")&&gt.get(g,"click")||zn(g,"a")}},beforeunload:{postDispatch:function(h){void 0!==h.result&&h.originalEvent&&(h.originalEvent.returnValue=h.result)}}}},T.removeEvent=function(h,g,x){h.removeEventListener&&h.removeEventListener(g,x)},T.Event=function(h,g){if(!(this instanceof T.Event))return new T.Event(h,g);h&&h.type?(this.originalEvent=h,this.type=h.type,this.isDefaultPrevented=h.defaultPrevented||void 0===h.defaultPrevented&&!1===h.returnValue?xa:Ma,this.target=h.target&&3===h.target.nodeType?h.target.parentNode:h.target,this.currentTarget=h.currentTarget,this.relatedTarget=h.relatedTarget):this.type=h,g&&T.extend(this,g),this.timeStamp=h&&h.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Ma,isPropagationStopped:Ma,isImmediatePropagationStopped:Ma,isSimulated:!1,preventDefault:function(){var h=this.originalEvent;this.isDefaultPrevented=xa,h&&!this.isSimulated&&h.preventDefault()},stopPropagation:function(){var h=this.originalEvent;this.isPropagationStopped=xa,h&&!this.isSimulated&&h.stopPropagation()},stopImmediatePropagation:function(){var h=this.originalEvent;this.isImmediatePropagationStopped=xa,h&&!this.isSimulated&&h.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(h,g){function x(C){if(Rt.documentMode){var D=gt.get(this,"handle"),I=T.event.fix(C);I.type="focusin"===C.type?"focus":"blur",I.isSimulated=!0,D(C),I.target===I.currentTarget&&D(I)}else T.event.simulate(g,C.target,T.event.fix(C))}T.event.special[h]={setup:function(){var C;if(Lu(this,h,!0),!Rt.documentMode)return!1;(C=gt.get(this,g))||this.addEventListener(g,x),gt.set(this,g,(C||0)+1)},trigger:function(){return Lu(this,h),!0},teardown:function(){var C;if(!Rt.documentMode)return!1;(C=gt.get(this,g)-1)?gt.set(this,g,C):(this.removeEventListener(g,x),gt.remove(this,g))},_default:function(C){return gt.get(C.target,h)},delegateType:g},T.event.special[g]={setup:function(){var C=this.ownerDocument||this.document||this,D=Rt.documentMode?this:C,I=gt.get(D,g);I||(Rt.documentMode?this.addEventListener(g,x):C.addEventListener(h,x,!0)),gt.set(D,g,(I||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,D=Rt.documentMode?this:C,I=gt.get(D,g)-1;I?gt.set(D,g,I):(Rt.documentMode?this.removeEventListener(g,x):C.removeEventListener(h,x,!0),gt.remove(D,g))}}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(h,g){T.event.special[h]={delegateType:g,bindType:g,handle:function(x){var C,I=x.relatedTarget,P=x.handleObj;return(!I||I!==this&&!T.contains(this,I))&&(x.type=P.origType,C=P.handler.apply(this,arguments),x.type=g),C}}}),T.fn.extend({on:function(h,g,x,C){return mi(this,h,g,x,C)},one:function(h,g,x,C){return mi(this,h,g,x,C,1)},off:function(h,g,x){var C,D;if(h&&h.preventDefault&&h.handleObj)return C=h.handleObj,T(h.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if("object"==typeof h){for(D in h)this.off(D,g,h[D]);return this}return(!1===g||"function"==typeof g)&&(x=g,g=void 0),!1===x&&(x=Ma),this.each(function(){T.event.remove(this,h,x,g)})}});var H0=/<script|<style|<link/i,G0=/checked\s*(?:[^=]|=\s*.checked.)/i,z0=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function af(h,g){return zn(h,"table")&&zn(11!==g.nodeType?g:g.firstChild,"tr")&&T(h).children("tbody")[0]||h}function j0(h){return h.type=(null!==h.getAttribute("type"))+"/"+h.type,h}function W0(h){return"true/"===(h.type||"").slice(0,5)?h.type=h.type.slice(5):h.removeAttribute("type"),h}function Ys(h,g){var x,C,D,P,$,W;if(1===g.nodeType){if(gt.hasData(h)&&(W=gt.get(h).events))for(D in gt.remove(g,"handle events"),W)for(x=0,C=W[D].length;x<C;x++)T.event.add(g,D,W[D][x]);Pi.hasData(h)&&(P=Pi.access(h),$=T.extend({},P),Pi.set(g,$))}}function $0(h,g){var x=g.nodeName.toLowerCase();"input"===x&&Ru.test(h.type)?g.checked=h.checked:("input"===x||"textarea"===x)&&(g.defaultValue=h.defaultValue)}function ri(h,g,x,C){g=nl(g);var D,I,P,$,W,K,ie=0,we=h.length,oe=we-1,Ne=g[0],Nt=jt(Ne);if(Nt||we>1&&"string"==typeof Ne&&!Bt.checkClone&&G0.test(Ne))return h.each(function(vn){var Kt=h.eq(vn);Nt&&(g[0]=Ne.call(this,vn,Kt.html())),ri(Kt,g,x,C)});if(we&&(I=(D=rf(g,h[0].ownerDocument,!1,h,C)).firstChild,1===D.childNodes.length&&(D=I),I||C)){for($=(P=T.map(mr(D,"script"),j0)).length;ie<we;ie++)W=D,ie!==oe&&(W=T.clone(W,!0,!0),$&&T.merge(P,mr(W,"script"))),x.call(h[ie],W,ie);if($)for(K=P[P.length-1].ownerDocument,T.map(P,W0),ie=0;ie<$;ie++)nf.test((W=P[ie]).type||"")&&!gt.access(W,"globalEval")&&T.contains(K,W)&&(W.src&&"module"!==(W.type||"").toLowerCase()?T._evalUrl&&!W.noModule&&T._evalUrl(W.src,{nonce:W.nonce||W.getAttribute("nonce")},K):_a(W.textContent.replace(z0,""),W,K))}return h}function Sa(h,g,x){for(var C,D=g?T.filter(g,h):h,I=0;null!=(C=D[I]);I++)!x&&1===C.nodeType&&T.cleanData(mr(C)),C.parentNode&&(x&&cc(C)&&Nu(mr(C,"script")),C.parentNode.removeChild(C));return h}T.extend({htmlPrefilter:function(h){return h},clone:function(h,g,x){var C,D,I,P,$=h.cloneNode(!0),W=cc(h);if(!(Bt.noCloneChecked||1!==h.nodeType&&11!==h.nodeType||T.isXMLDoc(h)))for(P=mr($),C=0,D=(I=mr(h)).length;C<D;C++)$0(I[C],P[C]);if(g)if(x)for(I=I||mr(h),P=P||mr($),C=0,D=I.length;C<D;C++)Ys(I[C],P[C]);else Ys(h,$);return(P=mr($,"script")).length>0&&Nu(P,!W&&mr(h,"script")),$},cleanData:function(h){for(var g,x,C,D=T.event.special,I=0;void 0!==(x=h[I]);I++)if(ii(x)){if(g=x[gt.expando]){if(g.events)for(C in g.events)D[C]?T.event.remove(x,C):T.removeEvent(x,C,g.handle);x[gt.expando]=void 0}x[Pi.expando]&&(x[Pi.expando]=void 0)}}}),T.fn.extend({detach:function(h){return Sa(this,h,!0)},remove:function(h){return Sa(this,h)},text:function(h){return je(this,function(g){return void 0===g?T.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=g)})},null,h,arguments.length)},append:function(){return ri(this,arguments,function(h){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||af(this,h).appendChild(h)})},prepend:function(){return ri(this,arguments,function(h){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var g=af(this,h);g.insertBefore(h,g.firstChild)}})},before:function(){return ri(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this)})},after:function(){return ri(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this.nextSibling)})},empty:function(){for(var h,g=0;null!=(h=this[g]);g++)1===h.nodeType&&(T.cleanData(mr(h,!1)),h.textContent="");return this},clone:function(h,g){return h=h??!1,g=g??h,this.map(function(){return T.clone(this,h,g)})},html:function(h){return je(this,function(g){var x=this[0]||{},C=0,D=this.length;if(void 0===g&&1===x.nodeType)return x.innerHTML;if("string"==typeof g&&!H0.test(g)&&!jr[(Pu.exec(g)||["",""])[1].toLowerCase()]){g=T.htmlPrefilter(g);try{for(;C<D;C++)1===(x=this[C]||{}).nodeType&&(T.cleanData(mr(x,!1)),x.innerHTML=g);x=0}catch{}}x&&this.empty().append(g)},null,h,arguments.length)},replaceWith:function(){var h=[];return ri(this,arguments,function(g){var x=this.parentNode;T.inArray(this,h)<0&&(T.cleanData(mr(this)),x&&x.replaceChild(g,this))},h)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(h,g){T.fn[h]=function(x){for(var C,D=[],I=T(x),P=I.length-1,$=0;$<=P;$++)C=$===P?this:this.clone(!0),T(I[$])[g](C),sc.apply(D,C.get());return this.pushStack(D)}});var Pr=new RegExp("^("+yo+")(?!px)[a-z%]+$","i"),Hg=/^--/,ku=function(h){var g=h.ownerDocument.defaultView;return(!g||!g.opener)&&(g=Dt),g.getComputedStyle(h)},cf=function(h,g,x){var C,D,I={};for(D in g)I[D]=h.style[D],h.style[D]=g[D];for(D in C=x.call(h),g)h.style[D]=I[D];return C},lf=new RegExp(As.join("|"),"i");function Xo(h,g,x){var C,D,I,P,$=Hg.test(g),W=h.style;return(x=x||ku(h))&&(P=x.getPropertyValue(g)||x[g],$&&P&&(P=P.replace(va,"$1")||void 0),""===P&&!cc(h)&&(P=T.style(h,g)),!Bt.pixelBoxStyles()&&Pr.test(P)&&lf.test(g)&&(C=W.width,D=W.minWidth,I=W.maxWidth,W.minWidth=W.maxWidth=W.width=P,P=x.width,W.width=C,W.minWidth=D,W.maxWidth=I)),void 0!==P?P+"":P}function uc(h,g){return{get:function(){if(!h())return(this.get=g).apply(this,arguments);delete this.get}}}!function(){function h(){if(K){W.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",K.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",bo.appendChild(W).appendChild(K);var ie=Dt.getComputedStyle(K);x="1%"!==ie.top,$=12===g(ie.marginLeft),K.style.right="60%",I=36===g(ie.right),C=36===g(ie.width),K.style.position="absolute",D=12===g(K.offsetWidth/3),bo.removeChild(W),K=null}}function g(ie){return Math.round(parseFloat(ie))}var x,C,D,I,P,$,W=Rt.createElement("div"),K=Rt.createElement("div");K.style&&(K.style.backgroundClip="content-box",K.cloneNode(!0).style.backgroundClip="",Bt.clearCloneStyle="content-box"===K.style.backgroundClip,T.extend(Bt,{boxSizingReliable:function(){return h(),C},pixelBoxStyles:function(){return h(),I},pixelPosition:function(){return h(),x},reliableMarginLeft:function(){return h(),$},scrollboxSize:function(){return h(),D},reliableTrDimensions:function(){var ie,we,oe,Ne;return null==P&&(ie=Rt.createElement("table"),we=Rt.createElement("tr"),oe=Rt.createElement("div"),ie.style.cssText="position:absolute;left:-11111px;border-collapse:separate",we.style.cssText="box-sizing:content-box;border:1px solid",we.style.height="1px",oe.style.height="9px",oe.style.display="block",bo.appendChild(ie).appendChild(we).appendChild(oe),Ne=Dt.getComputedStyle(we),P=parseInt(Ne.height,10)+parseInt(Ne.borderTopWidth,10)+parseInt(Ne.borderBottomWidth,10)===we.offsetHeight,bo.removeChild(ie)),P}}))}();var Gg=["Webkit","Moz","ms"],uf=Rt.createElement("div").style,df={};function hf(h){return T.cssProps[h]||df[h]||(h in uf?h:df[h]=function q0(h){for(var g=h[0].toUpperCase()+h.slice(1),x=Gg.length;x--;)if((h=Gg[x]+g)in uf)return h}(h)||h)}var X0=/^(none|table(?!-c[ea]).+)/,Y0={position:"absolute",visibility:"hidden",display:"block"},ff={letterSpacing:"0",fontWeight:"400"};function zg(h,g,x){var C=wa.exec(g);return C?Math.max(0,C[2]-(x||0))+(C[3]||"px"):g}function pf(h,g,x,C,D,I){var P="width"===g?1:0,$=0,W=0,K=0;if(x===(C?"border":"content"))return 0;for(;P<4;P+=2)"margin"===x&&(K+=T.css(h,x+As[P],!0,D)),C?("content"===x&&(W-=T.css(h,"padding"+As[P],!0,D)),"margin"!==x&&(W-=T.css(h,"border"+As[P]+"Width",!0,D))):(W+=T.css(h,"padding"+As[P],!0,D),"padding"!==x?W+=T.css(h,"border"+As[P]+"Width",!0,D):$+=T.css(h,"border"+As[P]+"Width",!0,D));return!C&&I>=0&&(W+=Math.max(0,Math.ceil(h["offset"+g[0].toUpperCase()+g.slice(1)]-I-W-$-.5))||0),W+K}function Ni(h,g,x){var C=ku(h),I=(!Bt.boxSizingReliable()||x)&&"border-box"===T.css(h,"boxSizing",!1,C),P=I,$=Xo(h,g,C),W="offset"+g[0].toUpperCase()+g.slice(1);if(Pr.test($)){if(!x)return $;$="auto"}return(!Bt.boxSizingReliable()&&I||!Bt.reliableTrDimensions()&&zn(h,"tr")||"auto"===$||!parseFloat($)&&"inline"===T.css(h,"display",!1,C))&&h.getClientRects().length&&(I="border-box"===T.css(h,"boxSizing",!1,C),(P=W in h)&&($=h[W])),($=parseFloat($)||0)+pf(h,g,x||(I?"border":"content"),P,C,$)+"px"}function _r(h,g,x,C,D){return new _r.prototype.init(h,g,x,C,D)}T.extend({cssHooks:{opacity:{get:function(h,g){if(g){var x=Xo(h,"opacity");return""===x?"1":x}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(h,g,x,C){if(h&&3!==h.nodeType&&8!==h.nodeType&&h.style){var D,I,P,$=ln(g),W=Hg.test(g),K=h.style;if(W||(g=hf($)),P=T.cssHooks[g]||T.cssHooks[$],void 0===x)return P&&"get"in P&&void 0!==(D=P.get(h,!1,C))?D:K[g];if("string"==(I=typeof x)&&(D=wa.exec(x))&&D[1]&&(x=Ug(h,g,D),I="number"),null==x||x!=x)return;"number"===I&&!W&&(x+=D&&D[3]||(T.cssNumber[$]?"":"px")),!Bt.clearCloneStyle&&""===x&&0===g.indexOf("background")&&(K[g]="inherit"),(!P||!("set"in P)||void 0!==(x=P.set(h,x,C)))&&(W?K.setProperty(g,x):K[g]=x)}},css:function(h,g,x,C){var D,I,P,$=ln(g);return Hg.test(g)||(g=hf($)),(P=T.cssHooks[g]||T.cssHooks[$])&&"get"in P&&(D=P.get(h,!0,x)),void 0===D&&(D=Xo(h,g,C)),"normal"===D&&g in ff&&(D=ff[g]),""===x||x?(I=parseFloat(D),!0===x||isFinite(I)?I||0:D):D}}),T.each(["height","width"],function(h,g){T.cssHooks[g]={get:function(x,C,D){if(C)return!X0.test(T.css(x,"display"))||x.getClientRects().length&&x.getBoundingClientRect().width?Ni(x,g,D):cf(x,Y0,function(){return Ni(x,g,D)})},set:function(x,C,D){var I,P=ku(x),$=!Bt.scrollboxSize()&&"absolute"===P.position,K=($||D)&&"border-box"===T.css(x,"boxSizing",!1,P),ie=D?pf(x,g,D,K,P):0;return K&&$&&(ie-=Math.ceil(x["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(P[g])-pf(x,g,"border",!1,P)-.5)),ie&&(I=wa.exec(C))&&"px"!==(I[3]||"px")&&(x.style[g]=C,C=T.css(x,g)),zg(0,C,ie)}}}),T.cssHooks.marginLeft=uc(Bt.reliableMarginLeft,function(h,g){if(g)return(parseFloat(Xo(h,"marginLeft"))||h.getBoundingClientRect().left-cf(h,{marginLeft:0},function(){return h.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(h,g){T.cssHooks[h+g]={expand:function(x){for(var C=0,D={},I="string"==typeof x?x.split(" "):[x];C<4;C++)D[h+As[C]+g]=I[C]||I[C-2]||I[0];return D}},"margin"!==h&&(T.cssHooks[h+g].set=zg)}),T.fn.extend({css:function(h,g){return je(this,function(x,C,D){var I,P,$={},W=0;if(Array.isArray(C)){for(I=ku(x),P=C.length;W<P;W++)$[C[W]]=T.css(x,C[W],!1,I);return $}return void 0!==D?T.style(x,C,D):T.css(x,C)},h,g,arguments.length>1)}}),T.Tween=_r,_r.prototype={constructor:_r,init:function(h,g,x,C,D,I){this.elem=h,this.prop=x,this.easing=D||T.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=C,this.unit=I||(T.cssNumber[x]?"":"px")},cur:function(){var h=_r.propHooks[this.prop];return h&&h.get?h.get(this):_r.propHooks._default.get(this)},run:function(h){var g,x=_r.propHooks[this.prop];return this.pos=g=this.options.duration?T.easing[this.easing](h,this.options.duration*h,0,1,this.options.duration):h,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),x&&x.set?x.set(this):_r.propHooks._default.set(this),this}},_r.prototype.init.prototype=_r.prototype,_r.propHooks={_default:{get:function(h){var g;return 1!==h.elem.nodeType||null!=h.elem[h.prop]&&null==h.elem.style[h.prop]?h.elem[h.prop]:(g=T.css(h.elem,h.prop,""))&&"auto"!==g?g:0},set:function(h){T.fx.step[h.prop]?T.fx.step[h.prop](h):1!==h.elem.nodeType||!T.cssHooks[h.prop]&&null==h.elem.style[hf(h.prop)]?h.elem[h.prop]=h.now:T.style(h.elem,h.prop,h.now+h.unit)}}},_r.propHooks.scrollTop=_r.propHooks.scrollLeft={set:function(h){h.elem.nodeType&&h.elem.parentNode&&(h.elem[h.prop]=h.now)}},T.easing={linear:function(h){return h},swing:function(h){return.5-Math.cos(h*Math.PI)/2},_default:"swing"},T.fx=_r.prototype.init,T.fx.step={};var Zi,It,jg=/^(?:toggle|show|hide)$/,gf=/queueHooks$/;function Wr(){It&&(!1===Rt.hidden&&Dt.requestAnimationFrame?Dt.requestAnimationFrame(Wr):Dt.setTimeout(Wr,T.fx.interval),T.fx.tick())}function mf(){return Dt.setTimeout(function(){Zi=void 0}),Zi=Date.now()}function Fu(h,g){var x,C=0,D={height:h};for(g=g?1:0;C<4;C+=2-g)D["margin"+(x=As[C])]=D["padding"+x]=h;return g&&(D.opacity=D.width=h),D}function Nn(h,g,x){for(var C,D=($r.tweeners[g]||[]).concat($r.tweeners["*"]),I=0,P=D.length;I<P;I++)if(C=D[I].call(x,g,h))return C}function $r(h,g,x){var C,D,I=0,P=$r.prefilters.length,$=T.Deferred().always(function(){delete W.elem}),W=function(){if(D)return!1;for(var we=Zi||mf(),oe=Math.max(0,K.startTime+K.duration-we),Nt=1-(oe/K.duration||0),vn=0,Kt=K.tweens.length;vn<Kt;vn++)K.tweens[vn].run(Nt);return $.notifyWith(h,[K,Nt,oe]),Nt<1&&Kt?oe:(Kt||$.notifyWith(h,[K,1,0]),$.resolveWith(h,[K]),!1)},K=$.promise({elem:h,props:T.extend({},g),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},x),originalProperties:g,originalOptions:x,startTime:Zi||mf(),duration:x.duration,tweens:[],createTween:function(we,oe){var Ne=T.Tween(h,K.opts,we,oe,K.opts.specialEasing[we]||K.opts.easing);return K.tweens.push(Ne),Ne},stop:function(we){var oe=0,Ne=we?K.tweens.length:0;if(D)return this;for(D=!0;oe<Ne;oe++)K.tweens[oe].run(1);return we?($.notifyWith(h,[K,1,0]),$.resolveWith(h,[K,we])):$.rejectWith(h,[K,we]),this}}),ie=K.props;for(function Li(h,g){var x,C,D,I,P;for(x in h)if(D=g[C=ln(x)],I=h[x],Array.isArray(I)&&(D=I[1],I=h[x]=I[0]),x!==C&&(h[C]=I,delete h[x]),(P=T.cssHooks[C])&&"expand"in P)for(x in I=P.expand(I),delete h[C],I)x in h||(h[x]=I[x],g[x]=D);else g[C]=D}(ie,K.opts.specialEasing);I<P;I++)if(C=$r.prefilters[I].call(K,h,ie,K.opts))return jt(C.stop)&&(T._queueHooks(K.elem,K.opts.queue).stop=C.stop.bind(C)),C;return T.map(ie,Nn,K),jt(K.opts.start)&&K.opts.start.call(h,K),K.progress(K.opts.progress).done(K.opts.done,K.opts.complete).fail(K.opts.fail).always(K.opts.always),T.fx.timer(T.extend(W,{elem:h,anim:K,queue:K.opts.queue})),K}T.Animation=T.extend($r,{tweeners:{"*":[function(h,g){var x=this.createTween(h,g);return Ug(x.elem,h,wa.exec(g),x),x}]},tweener:function(h,g){jt(h)?(g=h,h=["*"]):h=h.match(Rr);for(var x,C=0,D=h.length;C<D;C++)($r.tweeners[x=h[C]]=$r.tweeners[x]||[]).unshift(g)},prefilters:[function Bu(h,g,x){var C,D,I,P,$,W,K,ie,we="width"in g||"height"in g,oe=this,Ne={},Nt=h.style,vn=h.nodeType&&Ou(h),Kt=gt.get(h,"fxshow");for(C in x.queue||(null==(P=T._queueHooks(h,"fx")).unqueued&&(P.unqueued=0,$=P.empty.fire,P.empty.fire=function(){P.unqueued||$()}),P.unqueued++,oe.always(function(){oe.always(function(){P.unqueued--,T.queue(h,"fx").length||P.empty.fire()})})),g)if(jg.test(D=g[C])){if(delete g[C],I=I||"toggle"===D,D===(vn?"hide":"show")){if("show"!==D||!Kt||void 0===Kt[C])continue;vn=!0}Ne[C]=Kt&&Kt[C]||T.style(h,C)}if((W=!T.isEmptyObject(g))||!T.isEmptyObject(Ne))for(C in we&&1===h.nodeType&&(x.overflow=[Nt.overflow,Nt.overflowX,Nt.overflowY],null==(K=Kt&&Kt.display)&&(K=gt.get(h,"display")),"none"===(ie=T.css(h,"display"))&&(K?ie=K:(lc([h],!0),K=h.style.display||K,ie=T.css(h,"display"),lc([h]))),("inline"===ie||"inline-block"===ie&&null!=K)&&"none"===T.css(h,"float")&&(W||(oe.done(function(){Nt.display=K}),null==K&&(K="none"===(ie=Nt.display)?"":ie)),Nt.display="inline-block")),x.overflow&&(Nt.overflow="hidden",oe.always(function(){Nt.overflow=x.overflow[0],Nt.overflowX=x.overflow[1],Nt.overflowY=x.overflow[2]})),W=!1,Ne)W||(Kt?"hidden"in Kt&&(vn=Kt.hidden):Kt=gt.access(h,"fxshow",{display:K}),I&&(Kt.hidden=!vn),vn&&lc([h],!0),oe.done(function(){for(C in vn||lc([h]),gt.remove(h,"fxshow"),Ne)T.style(h,C,Ne[C])})),W=Nn(vn?Kt[C]:0,C,oe),C in Kt||(Kt[C]=W.start,vn&&(W.end=W.start,W.start=0))}],prefilter:function(h,g){g?$r.prefilters.unshift(h):$r.prefilters.push(h)}}),T.speed=function(h,g,x){var C=h&&"object"==typeof h?T.extend({},h):{complete:x||!x&&g||jt(h)&&h,duration:h,easing:x&&g||g&&!jt(g)&&g};return T.fx.off?C.duration=0:"number"!=typeof C.duration&&(C.duration=C.duration in T.fx.speeds?T.fx.speeds[C.duration]:T.fx.speeds._default),(null==C.queue||!0===C.queue)&&(C.queue="fx"),C.old=C.complete,C.complete=function(){jt(C.old)&&C.old.call(this),C.queue&&T.dequeue(this,C.queue)},C},T.fn.extend({fadeTo:function(h,g,x,C){return this.filter(Ou).css("opacity",0).show().end().animate({opacity:g},h,x,C)},animate:function(h,g,x,C){var D=T.isEmptyObject(h),I=T.speed(g,x,C),P=function(){var $=$r(this,T.extend({},h),I);(D||gt.get(this,"finish"))&&$.stop(!0)};return P.finish=P,D||!1===I.queue?this.each(P):this.queue(I.queue,P)},stop:function(h,g,x){var C=function(D){var I=D.stop;delete D.stop,I(x)};return"string"!=typeof h&&(x=g,g=h,h=void 0),g&&this.queue(h||"fx",[]),this.each(function(){var D=!0,I=null!=h&&h+"queueHooks",P=T.timers,$=gt.get(this);if(I)$[I]&&$[I].stop&&C($[I]);else for(I in $)$[I]&&$[I].stop&&gf.test(I)&&C($[I]);for(I=P.length;I--;)P[I].elem===this&&(null==h||P[I].queue===h)&&(P[I].anim.stop(x),D=!1,P.splice(I,1));(D||!x)&&T.dequeue(this,h)})},finish:function(h){return!1!==h&&(h=h||"fx"),this.each(function(){var g,x=gt.get(this),C=x[h+"queue"],D=x[h+"queueHooks"],I=T.timers,P=C?C.length:0;for(x.finish=!0,T.queue(this,h,[]),D&&D.stop&&D.stop.call(this,!0),g=I.length;g--;)I[g].elem===this&&I[g].queue===h&&(I[g].anim.stop(!0),I.splice(g,1));for(g=0;g<P;g++)C[g]&&C[g].finish&&C[g].finish.call(this);delete x.finish})}}),T.each(["toggle","show","hide"],function(h,g){var x=T.fn[g];T.fn[g]=function(C,D,I){return null==C||"boolean"==typeof C?x.apply(this,arguments):this.animate(Fu(g,!0),C,D,I)}}),T.each({slideDown:Fu("show"),slideUp:Fu("hide"),slideToggle:Fu("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(h,g){T.fn[h]=function(x,C,D){return this.animate(g,x,C,D)}}),T.timers=[],T.fx.tick=function(){var h,g=0,x=T.timers;for(Zi=Date.now();g<x.length;g++)!(h=x[g])()&&x[g]===h&&x.splice(g--,1);x.length||T.fx.stop(),Zi=void 0},T.fx.timer=function(h){T.timers.push(h),T.fx.start()},T.fx.interval=13,T.fx.start=function(){It||(It=!0,Wr())},T.fx.stop=function(){It=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(h,g){return h=T.fx&&T.fx.speeds[h]||h,this.queue(g=g||"fx",function(x,C){var D=Dt.setTimeout(x,h);C.stop=function(){Dt.clearTimeout(D)}})},function(){var h=Rt.createElement("input"),x=Rt.createElement("select").appendChild(Rt.createElement("option"));h.type="checkbox",Bt.checkOn=""!==h.value,Bt.optSelected=x.selected,(h=Rt.createElement("input")).value="t",h.type="radio",Bt.radioValue="t"===h.value}();var Wg,Ut=T.expr.attrHandle;T.fn.extend({attr:function(h,g){return je(this,T.attr,h,g,arguments.length>1)},removeAttr:function(h){return this.each(function(){T.removeAttr(this,h)})}}),T.extend({attr:function(h,g,x){var C,D,I=h.nodeType;if(3!==I&&8!==I&&2!==I)return typeof h.getAttribute>"u"?T.prop(h,g,x):((1!==I||!T.isXMLDoc(h))&&(D=T.attrHooks[g.toLowerCase()]||(T.expr.match.bool.test(g)?Wg:void 0)),void 0!==x?null===x?void T.removeAttr(h,g):D&&"set"in D&&void 0!==(C=D.set(h,x,g))?C:(h.setAttribute(g,x+""),x):D&&"get"in D&&null!==(C=D.get(h,g))?C:(C=T.find.attr(h,g))??void 0)},attrHooks:{type:{set:function(h,g){if(!Bt.radioValue&&"radio"===g&&zn(h,"input")){var x=h.value;return h.setAttribute("type",g),x&&(h.value=x),g}}}},removeAttr:function(h,g){var x,C=0,D=g&&g.match(Rr);if(D&&1===h.nodeType)for(;x=D[C++];)h.removeAttribute(x)}}),Wg={set:function(h,g,x){return!1===g?T.removeAttr(h,x):h.setAttribute(x,x),x}},T.each(T.expr.match.bool.source.match(/\w+/g),function(h,g){var x=Ut[g]||T.find.attr;Ut[g]=function(C,D,I){var P,$,W=D.toLowerCase();return I||($=Ut[W],Ut[W]=P,P=null!=x(C,D,I)?W:null,Ut[W]=$),P}});var Vt=/^(?:input|select|textarea|button)$/i,_f=/^(?:a|area)$/i;function wo(h){return(h.match(Rr)||[]).join(" ")}function dc(h){return h.getAttribute&&h.getAttribute("class")||""}function Uu(h){return Array.isArray(h)?h:"string"==typeof h&&h.match(Rr)||[]}T.fn.extend({prop:function(h,g){return je(this,T.prop,h,g,arguments.length>1)},removeProp:function(h){return this.each(function(){delete this[T.propFix[h]||h]})}}),T.extend({prop:function(h,g,x){var C,D,I=h.nodeType;if(3!==I&&8!==I&&2!==I)return(1!==I||!T.isXMLDoc(h))&&(D=T.propHooks[g=T.propFix[g]||g]),void 0!==x?D&&"set"in D&&void 0!==(C=D.set(h,x,g))?C:h[g]=x:D&&"get"in D&&null!==(C=D.get(h,g))?C:h[g]},propHooks:{tabIndex:{get:function(h){var g=T.find.attr(h,"tabindex");return g?parseInt(g,10):Vt.test(h.nodeName)||_f.test(h.nodeName)&&h.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Bt.optSelected||(T.propHooks.selected={get:function(h){return null},set:function(h){}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(h){var g,x,C,D,I,P;return jt(h)?this.each(function($){T(this).addClass(h.call(this,$,dc(this)))}):(g=Uu(h)).length?this.each(function(){if(C=dc(this),x=1===this.nodeType&&" "+wo(C)+" "){for(I=0;I<g.length;I++)x.indexOf(" "+(D=g[I])+" ")<0&&(x+=D+" ");P=wo(x),C!==P&&this.setAttribute("class",P)}}):this},removeClass:function(h){var g,x,C,D,I,P;return jt(h)?this.each(function($){T(this).removeClass(h.call(this,$,dc(this)))}):arguments.length?(g=Uu(h)).length?this.each(function(){if(C=dc(this),x=1===this.nodeType&&" "+wo(C)+" "){for(I=0;I<g.length;I++)for(D=g[I];x.indexOf(" "+D+" ")>-1;)x=x.replace(" "+D+" "," ");P=wo(x),C!==P&&this.setAttribute("class",P)}}):this:this.attr("class","")},toggleClass:function(h,g){var x,C,D,I,P=typeof h,$="string"===P||Array.isArray(h);return jt(h)?this.each(function(W){T(this).toggleClass(h.call(this,W,dc(this),g),g)}):"boolean"==typeof g&&$?g?this.addClass(h):this.removeClass(h):(x=Uu(h),this.each(function(){if($)for(I=T(this),D=0;D<x.length;D++)I.hasClass(C=x[D])?I.removeClass(C):I.addClass(C);else(void 0===h||"boolean"===P)&&((C=dc(this))&&gt.set(this,"__className__",C),this.setAttribute&&this.setAttribute("class",C||!1===h?"":gt.get(this,"__className__")||""))}))},hasClass:function(h){var g,x,C=0;for(g=" "+h+" ";x=this[C++];)if(1===x.nodeType&&(" "+wo(dc(x))+" ").indexOf(g)>-1)return!0;return!1}});var Ie=/\r/g;T.fn.extend({val:function(h){var g,x,C,D=this[0];return arguments.length?(C=jt(h),this.each(function(I){var P;1===this.nodeType&&(null==(P=C?h.call(this,I,T(this).val()):h)?P="":"number"==typeof P?P+="":Array.isArray(P)&&(P=T.map(P,function($){return null==$?"":$+""})),(!(g=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])||!("set"in g)||void 0===g.set(this,P,"value"))&&(this.value=P))})):D?(g=T.valHooks[D.type]||T.valHooks[D.nodeName.toLowerCase()])&&"get"in g&&void 0!==(x=g.get(D,"value"))?x:"string"==typeof(x=D.value)?x.replace(Ie,""):x??"":void 0}}),T.extend({valHooks:{option:{get:function(h){return T.find.attr(h,"value")??wo(T.text(h))}},select:{get:function(h){var g,x,C,D=h.options,I=h.selectedIndex,P="select-one"===h.type,$=P?null:[],W=P?I+1:D.length;for(C=I<0?W:P?I:0;C<W;C++)if(((x=D[C]).selected||C===I)&&!x.disabled&&(!x.parentNode.disabled||!zn(x.parentNode,"optgroup"))){if(g=T(x).val(),P)return g;$.push(g)}return $},set:function(h,g){for(var x,C,D=h.options,I=T.makeArray(g),P=D.length;P--;)((C=D[P]).selected=T.inArray(T.valHooks.option.get(C),I)>-1)&&(x=!0);return x||(h.selectedIndex=-1),I}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(h,g){if(Array.isArray(g))return h.checked=T.inArray(T(h).val(),g)>-1}},Bt.checkOn||(T.valHooks[this].get=function(h){return null===h.getAttribute("value")?"on":h.value})});var Yo=Dt.location,Ht={guid:Date.now()},Cn=/\?/;T.parseXML=function(h){var g,x;if(!h||"string"!=typeof h)return null;try{g=(new Dt.DOMParser).parseFromString(h,"text/xml")}catch{}return x=g&&g.getElementsByTagName("parsererror")[0],(!g||x)&&T.error("Invalid XML: "+(x?T.map(x.childNodes,function(C){return C.textContent}).join("\n"):h)),g};var $g=/^(?:focusinfocus|focusoutblur)$/,Z0=function(h){h.stopPropagation()};T.extend(T.event,{trigger:function(h,g,x,C){var D,I,P,$,W,K,ie,we,oe=[x||Rt],Ne=Es.call(h,"type")?h.type:h,Nt=Es.call(h,"namespace")?h.namespace.split("."):[];if(I=we=P=x=x||Rt,3!==x.nodeType&&8!==x.nodeType&&!$g.test(Ne+T.event.triggered)&&(Ne.indexOf(".")>-1&&(Nt=Ne.split("."),Ne=Nt.shift(),Nt.sort()),W=Ne.indexOf(":")<0&&"on"+Ne,(h=h[T.expando]?h:new T.Event(Ne,"object"==typeof h&&h)).isTrigger=C?2:3,h.namespace=Nt.join("."),h.rnamespace=h.namespace?new RegExp("(^|\\.)"+Nt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h.result=void 0,h.target||(h.target=x),g=null==g?[h]:T.makeArray(g,[h]),ie=T.event.special[Ne]||{},C||!ie.trigger||!1!==ie.trigger.apply(x,g))){if(!C&&!ie.noBubble&&!gr(x)){for($g.test(($=ie.delegateType||Ne)+Ne)||(I=I.parentNode);I;I=I.parentNode)oe.push(I),P=I;P===(x.ownerDocument||Rt)&&oe.push(P.defaultView||P.parentWindow||Dt)}for(D=0;(I=oe[D++])&&!h.isPropagationStopped();)we=I,h.type=D>1?$:ie.bindType||Ne,(K=(gt.get(I,"events")||Object.create(null))[h.type]&&gt.get(I,"handle"))&&K.apply(I,g),(K=W&&I[W])&&K.apply&&ii(I)&&(h.result=K.apply(I,g),!1===h.result&&h.preventDefault());return h.type=Ne,!C&&!h.isDefaultPrevented()&&(!ie._default||!1===ie._default.apply(oe.pop(),g))&&ii(x)&&W&&jt(x[Ne])&&!gr(x)&&((P=x[W])&&(x[W]=null),T.event.triggered=Ne,h.isPropagationStopped()&&we.addEventListener(Ne,Z0),x[Ne](),h.isPropagationStopped()&&we.removeEventListener(Ne,Z0),T.event.triggered=void 0,P&&(x[W]=P)),h.result}},simulate:function(h,g,x){var C=T.extend(new T.Event,x,{type:h,isSimulated:!0});T.event.trigger(C,null,g)}}),T.fn.extend({trigger:function(h,g){return this.each(function(){T.event.trigger(h,g,this)})},triggerHandler:function(h,g){var x=this[0];if(x)return T.event.trigger(h,g,x,!0)}});var J0=/\[\]$/,Vu=/\r?\n/g,qr=/^(?:submit|button|image|reset|file)$/i,CS=/^(?:input|select|textarea|keygen)/i;function vf(h,g,x,C){var D;if(Array.isArray(g))T.each(g,function(I,P){x||J0.test(h)?C(h,P):vf(h+"["+("object"==typeof P&&null!=P?I:"")+"]",P,x,C)});else if(x||"object"!==qs(g))C(h,g);else for(D in g)vf(h+"["+D+"]",g[D],x,C)}T.param=function(h,g){var x,C=[],D=function(I,P){var $=jt(P)?P():P;C[C.length]=encodeURIComponent(I)+"="+encodeURIComponent($??"")};if(null==h)return"";if(Array.isArray(h)||h.jquery&&!T.isPlainObject(h))T.each(h,function(){D(this.name,this.value)});else for(x in h)vf(x,h[x],g,D);return C.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var h=T.prop(this,"elements");return h?T.makeArray(h):this}).filter(function(){var h=this.type;return this.name&&!T(this).is(":disabled")&&CS.test(this.nodeName)&&!qr.test(h)&&(this.checked||!Ru.test(h))}).map(function(h,g){var x=T(this).val();return null==x?null:Array.isArray(x)?T.map(x,function(C){return{name:g.name,value:C.replace(Vu,"\r\n")}}):{name:g.name,value:x.replace(Vu,"\r\n")}}).get()}});var TS=/%20/g,Ca=/#.*$/,ES=/([?&])_=[^&]*/,AS=/^(.*?):[ \t]*([^\r\n]*)$/gm,IS=/^(?:GET|HEAD)$/,K0=/^\/\//,Q0={},yf={},ey="*/".concat("*"),Nr=Rt.createElement("a");function Pt(h){return function(g,x){"string"!=typeof g&&(x=g,g="*");var C,D=0,I=g.toLowerCase().match(Rr)||[];if(jt(x))for(;C=I[D++];)"+"===C[0]?(C=C.slice(1)||"*",(h[C]=h[C]||[]).unshift(x)):(h[C]=h[C]||[]).push(x)}}function ty(h,g,x,C){var D={},I=h===yf;function P($){var W;return D[$]=!0,T.each(h[$]||[],function(K,ie){var we=ie(g,x,C);return"string"!=typeof we||I||D[we]?I?!(W=we):void 0:(g.dataTypes.unshift(we),P(we),!1)}),W}return P(g.dataTypes[0])||!D["*"]&&P("*")}function qg(h,g){var x,C,D=T.ajaxSettings.flatOptions||{};for(x in g)void 0!==g[x]&&((D[x]?h:C||(C={}))[x]=g[x]);return C&&T.extend(!0,h,C),h}Nr.href=Yo.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Yo.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Yo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ey,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(h,g){return g?qg(qg(h,T.ajaxSettings),g):qg(T.ajaxSettings,h)},ajaxPrefilter:Pt(Q0),ajaxTransport:Pt(yf),ajax:function(h,g){"object"==typeof h&&(g=h,h=void 0);var x,C,D,I,P,$,W,K,ie,we,oe=T.ajaxSetup({},g=g||{}),Ne=oe.context||oe,Nt=oe.context&&(Ne.nodeType||Ne.jquery)?T(Ne):T.event,vn=T.Deferred(),Kt=T.Callbacks("once memory"),Ji=oe.statusCode||{},_i={},xo={},Mo="canceled",yn={readyState:0,getResponseHeader:function(En){var Yn;if(W){if(!I)for(I={};Yn=AS.exec(D);)I[Yn[1].toLowerCase()+" "]=(I[Yn[1].toLowerCase()+" "]||[]).concat(Yn[2]);Yn=I[En.toLowerCase()+" "]}return null==Yn?null:Yn.join(", ")},getAllResponseHeaders:function(){return W?D:null},setRequestHeader:function(En,Yn){return null==W&&(En=xo[En.toLowerCase()]=xo[En.toLowerCase()]||En,_i[En]=Yn),this},overrideMimeType:function(En){return null==W&&(oe.mimeType=En),this},statusCode:function(En){var Yn;if(En)if(W)yn.always(En[yn.status]);else for(Yn in En)Ji[Yn]=[Ji[Yn],En[Yn]];return this},abort:function(En){var Yn=En||Mo;return x&&x.abort(Yn),hc(0,Yn),this}};if(vn.promise(yn),oe.url=((h||oe.url||Yo.href)+"").replace(K0,Yo.protocol+"//"),oe.type=g.method||g.type||oe.method||oe.type,oe.dataTypes=(oe.dataType||"*").toLowerCase().match(Rr)||[""],null==oe.crossDomain){$=Rt.createElement("a");try{$.href=oe.url,$.href=$.href,oe.crossDomain=Nr.protocol+"//"+Nr.host!=$.protocol+"//"+$.host}catch{oe.crossDomain=!0}}if(oe.data&&oe.processData&&"string"!=typeof oe.data&&(oe.data=T.param(oe.data,oe.traditional)),ty(Q0,oe,g,yn),W)return yn;for(ie in(K=T.event&&oe.global)&&0==T.active++&&T.event.trigger("ajaxStart"),oe.type=oe.type.toUpperCase(),oe.hasContent=!IS.test(oe.type),C=oe.url.replace(Ca,""),oe.hasContent?oe.data&&oe.processData&&0===(oe.contentType||"").indexOf("application/x-www-form-urlencoded")&&(oe.data=oe.data.replace(TS,"+")):(we=oe.url.slice(C.length),oe.data&&(oe.processData||"string"==typeof oe.data)&&(C+=(Cn.test(C)?"&":"?")+oe.data,delete oe.data),!1===oe.cache&&(C=C.replace(ES,"$1"),we=(Cn.test(C)?"&":"?")+"_="+Ht.guid+++we),oe.url=C+we),oe.ifModified&&(T.lastModified[C]&&yn.setRequestHeader("If-Modified-Since",T.lastModified[C]),T.etag[C]&&yn.setRequestHeader("If-None-Match",T.etag[C])),(oe.data&&oe.hasContent&&!1!==oe.contentType||g.contentType)&&yn.setRequestHeader("Content-Type",oe.contentType),yn.setRequestHeader("Accept",oe.dataTypes[0]&&oe.accepts[oe.dataTypes[0]]?oe.accepts[oe.dataTypes[0]]+("*"!==oe.dataTypes[0]?", "+ey+"; q=0.01":""):oe.accepts["*"]),oe.headers)yn.setRequestHeader(ie,oe.headers[ie]);if(oe.beforeSend&&(!1===oe.beforeSend.call(Ne,yn,oe)||W))return yn.abort();if(Mo="abort",Kt.add(oe.complete),yn.done(oe.success),yn.fail(oe.error),x=ty(yf,oe,g,yn)){if(yn.readyState=1,K&&Nt.trigger("ajaxSend",[yn,oe]),W)return yn;oe.async&&oe.timeout>0&&(P=Dt.setTimeout(function(){yn.abort("timeout")},oe.timeout));try{W=!1,x.send(_i,hc)}catch(En){if(W)throw En;hc(-1,En)}}else hc(-1,"No Transport");function hc(En,Yn,Ta,fc){var Zs,ul,Js,So,Xr,ds=Yn;W||(W=!0,P&&Dt.clearTimeout(P),x=void 0,D=fc||"",yn.readyState=En>0?4:0,Zs=En>=200&&En<300||304===En,Ta&&(So=function OS(h,g,x){for(var C,D,I,P,$=h.contents,W=h.dataTypes;"*"===W[0];)W.shift(),void 0===C&&(C=h.mimeType||g.getResponseHeader("Content-Type"));if(C)for(D in $)if($[D]&&$[D].test(C)){W.unshift(D);break}if(W[0]in x)I=W[0];else{for(D in x){if(!W[0]||h.converters[D+" "+W[0]]){I=D;break}P||(P=D)}I=I||P}if(I)return I!==W[0]&&W.unshift(I),x[I]}(oe,yn,Ta)),!Zs&&T.inArray("script",oe.dataTypes)>-1&&T.inArray("json",oe.dataTypes)<0&&(oe.converters["text script"]=function(){}),So=function nt(h,g,x,C){var D,I,P,$,W,K={},ie=h.dataTypes.slice();if(ie[1])for(P in h.converters)K[P.toLowerCase()]=h.converters[P];for(I=ie.shift();I;)if(h.responseFields[I]&&(x[h.responseFields[I]]=g),!W&&C&&h.dataFilter&&(g=h.dataFilter(g,h.dataType)),W=I,I=ie.shift())if("*"===I)I=W;else if("*"!==W&&W!==I){if(!(P=K[W+" "+I]||K["* "+I]))for(D in K)if(($=D.split(" "))[1]===I&&(P=K[W+" "+$[0]]||K["* "+$[0]])){!0===P?P=K[D]:!0!==K[D]&&(I=$[0],ie.unshift($[1]));break}if(!0!==P)if(P&&h.throws)g=P(g);else try{g=P(g)}catch(we){return{state:"parsererror",error:P?we:"No conversion from "+W+" to "+I}}}return{state:"success",data:g}}(oe,So,yn,Zs),Zs?(oe.ifModified&&((Xr=yn.getResponseHeader("Last-Modified"))&&(T.lastModified[C]=Xr),(Xr=yn.getResponseHeader("etag"))&&(T.etag[C]=Xr)),204===En||"HEAD"===oe.type?ds="nocontent":304===En?ds="notmodified":(ds=So.state,ul=So.data,Zs=!(Js=So.error))):(Js=ds,(En||!ds)&&(ds="error",En<0&&(En=0))),yn.status=En,yn.statusText=(Yn||ds)+"",Zs?vn.resolveWith(Ne,[ul,ds,yn]):vn.rejectWith(Ne,[yn,ds,Js]),yn.statusCode(Ji),Ji=void 0,K&&Nt.trigger(Zs?"ajaxSuccess":"ajaxError",[yn,oe,Zs?ul:Js]),Kt.fireWith(Ne,[yn,ds]),K&&(Nt.trigger("ajaxComplete",[yn,oe]),--T.active||T.event.trigger("ajaxStop")))}return yn},getJSON:function(h,g,x){return T.get(h,g,x,"json")},getScript:function(h,g){return T.get(h,void 0,g,"script")}}),T.each(["get","post"],function(h,g){T[g]=function(x,C,D,I){return jt(C)&&(I=I||D,D=C,C=void 0),T.ajax(T.extend({url:x,type:g,dataType:I,data:C,success:D},T.isPlainObject(x)&&x))}}),T.ajaxPrefilter(function(h){var g;for(g in h.headers)"content-type"===g.toLowerCase()&&(h.contentType=h.headers[g]||"")}),T._evalUrl=function(h,g,x){return T.ajax({url:h,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){T.globalEval(C,g,x)}})},T.fn.extend({wrapAll:function(h){var g;return this[0]&&(jt(h)&&(h=h.call(this[0])),g=T(h,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var x=this;x.firstElementChild;)x=x.firstElementChild;return x}).append(this)),this},wrapInner:function(h){return jt(h)?this.each(function(g){T(this).wrapInner(h.call(this,g))}):this.each(function(){var g=T(this),x=g.contents();x.length?x.wrapAll(h):g.append(h)})},wrap:function(h){var g=jt(h);return this.each(function(x){T(this).wrapAll(g?h.call(this,x):h)})},unwrap:function(h){return this.parent(h).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(h){return!T.expr.pseudos.visible(h)},T.expr.pseudos.visible=function(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new Dt.XMLHttpRequest}catch{}};var RS={0:200,1223:204},Tn=T.ajaxSettings.xhr();Bt.cors=!!Tn&&"withCredentials"in Tn,Bt.ajax=Tn=!!Tn,T.ajaxTransport(function(h){var g,x;if(Bt.cors||Tn&&!h.crossDomain)return{send:function(C,D){var I,P=h.xhr();if(P.open(h.type,h.url,h.async,h.username,h.password),h.xhrFields)for(I in h.xhrFields)P[I]=h.xhrFields[I];for(I in h.mimeType&&P.overrideMimeType&&P.overrideMimeType(h.mimeType),!h.crossDomain&&!C["X-Requested-With"]&&(C["X-Requested-With"]="XMLHttpRequest"),C)P.setRequestHeader(I,C[I]);g=function($){return function(){g&&(g=x=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,"abort"===$?P.abort():"error"===$?"number"!=typeof P.status?D(0,"error"):D(P.status,P.statusText):D(RS[P.status]||P.status,P.statusText,"text"!==(P.responseType||"text")||"string"!=typeof P.responseText?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=g(),x=P.onerror=P.ontimeout=g("error"),void 0!==P.onabort?P.onabort=x:P.onreadystatechange=function(){4===P.readyState&&Dt.setTimeout(function(){g&&x()})},g=g("abort");try{P.send(h.hasContent&&h.data||null)}catch($){if(g)throw $}},abort:function(){g&&g()}}}),T.ajaxPrefilter(function(h){h.crossDomain&&(h.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(h){return T.globalEval(h),h}}}),T.ajaxPrefilter("script",function(h){void 0===h.cache&&(h.cache=!1),h.crossDomain&&(h.type="GET")}),T.ajaxTransport("script",function(h){var g,x;if(h.crossDomain||h.scriptAttrs)return{send:function(C,D){g=T("<script>").attr(h.scriptAttrs||{}).prop({charset:h.scriptCharset,src:h.url}).on("load error",x=function(I){g.remove(),x=null,I&&D("error"===I.type?404:200,I.type)}),Rt.head.appendChild(g[0])},abort:function(){x&&x()}}});var h,ll=[],bf=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var h=ll.pop()||T.expando+"_"+Ht.guid++;return this[h]=!0,h}}),T.ajaxPrefilter("json jsonp",function(h,g,x){var C,D,I,P=!1!==h.jsonp&&(bf.test(h.url)?"url":"string"==typeof h.data&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&bf.test(h.data)&&"data");if(P||"jsonp"===h.dataTypes[0])return C=h.jsonpCallback=jt(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,P?h[P]=h[P].replace(bf,"$1"+C):!1!==h.jsonp&&(h.url+=(Cn.test(h.url)?"&":"?")+h.jsonp+"="+C),h.converters["script json"]=function(){return I||T.error(C+" was not called"),I[0]},h.dataTypes[0]="json",D=Dt[C],Dt[C]=function(){I=arguments},x.always(function(){void 0===D?T(Dt).removeProp(C):Dt[C]=D,h[C]&&(h.jsonpCallback=g.jsonpCallback,ll.push(C)),I&&jt(D)&&D(I[0]),I=D=void 0}),"script"}),Bt.createHTMLDocument=((h=Rt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===h.childNodes.length),T.parseHTML=function(h,g,x){return"string"!=typeof h?[]:("boolean"==typeof g&&(x=g,g=!1),g||(Bt.createHTMLDocument?((C=(g=Rt.implementation.createHTMLDocument("")).createElement("base")).href=Rt.location.href,g.head.appendChild(C)):g=Rt),I=!x&&[],(D=Au.exec(h))?[g.createElement(D[1])]:(D=rf([h],g,I),I&&I.length&&T(I).remove(),T.merge([],D.childNodes)));var C,D,I},T.fn.load=function(h,g,x){var C,D,I,P=this,$=h.indexOf(" ");return $>-1&&(C=wo(h.slice($)),h=h.slice(0,$)),jt(g)?(x=g,g=void 0):g&&"object"==typeof g&&(D="POST"),P.length>0&&T.ajax({url:h,type:D||"GET",dataType:"html",data:g}).done(function(W){I=arguments,P.html(C?T("<div>").append(T.parseHTML(W)).find(C):W)}).always(x&&function(W,K){P.each(function(){x.apply(this,I||[W.responseText,K,W])})}),this},T.expr.pseudos.animated=function(h){return T.grep(T.timers,function(g){return h===g.elem}).length},T.offset={setOffset:function(h,g,x){var C,D,I,P,$,W,ie=T.css(h,"position"),we=T(h),oe={};"static"===ie&&(h.style.position="relative"),$=we.offset(),I=T.css(h,"top"),W=T.css(h,"left"),("absolute"===ie||"fixed"===ie)&&(I+W).indexOf("auto")>-1?(P=(C=we.position()).top,D=C.left):(P=parseFloat(I)||0,D=parseFloat(W)||0),jt(g)&&(g=g.call(h,x,T.extend({},$))),null!=g.top&&(oe.top=g.top-$.top+P),null!=g.left&&(oe.left=g.left-$.left+D),"using"in g?g.using.call(h,oe):we.css(oe)}},T.fn.extend({offset:function(h){if(arguments.length)return void 0===h?this:this.each(function(D){T.offset.setOffset(this,h,D)});var g,x,C=this[0];return C?C.getClientRects().length?{top:(g=C.getBoundingClientRect()).top+(x=C.ownerDocument.defaultView).pageYOffset,left:g.left+x.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var h,g,x,C=this[0],D={top:0,left:0};if("fixed"===T.css(C,"position"))g=C.getBoundingClientRect();else{for(g=this.offset(),x=C.ownerDocument,h=C.offsetParent||x.documentElement;h&&(h===x.body||h===x.documentElement)&&"static"===T.css(h,"position");)h=h.parentNode;h&&h!==C&&1===h.nodeType&&((D=T(h).offset()).top+=T.css(h,"borderTopWidth",!0),D.left+=T.css(h,"borderLeftWidth",!0))}return{top:g.top-D.top-T.css(C,"marginTop",!0),left:g.left-D.left-T.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent;h&&"static"===T.css(h,"position");)h=h.offsetParent;return h||bo})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(h,g){var x="pageYOffset"===g;T.fn[h]=function(C){return je(this,function(D,I,P){var $;if(gr(D)?$=D:9===D.nodeType&&($=D.defaultView),void 0===P)return $?$[g]:D[I];$?$.scrollTo(x?$.pageXOffset:P,x?P:$.pageYOffset):D[I]=P},h,C,arguments.length)}}),T.each(["top","left"],function(h,g){T.cssHooks[g]=uc(Bt.pixelPosition,function(x,C){if(C)return C=Xo(x,g),Pr.test(C)?T(x).position()[g]+"px":C})}),T.each({Height:"height",Width:"width"},function(h,g){T.each({padding:"inner"+h,content:g,"":"outer"+h},function(x,C){T.fn[C]=function(D,I){var P=arguments.length&&(x||"boolean"!=typeof D),$=x||(!0===D||!0===I?"margin":"border");return je(this,function(W,K,ie){var we;return gr(W)?0===C.indexOf("outer")?W["inner"+h]:W.document.documentElement["client"+h]:9===W.nodeType?(we=W.documentElement,Math.max(W.body["scroll"+h],we["scroll"+h],W.body["offset"+h],we["offset"+h],we["client"+h])):void 0===ie?T.css(W,K,$):T.style(W,K,ie,$)},g,P?D:void 0,P)}})}),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(h,g){T.fn[g]=function(x){return this.on(g,x)}}),T.fn.extend({bind:function(h,g,x){return this.on(h,null,g,x)},unbind:function(h,g){return this.off(h,null,g)},delegate:function(h,g,x,C){return this.on(g,h,x,C)},undelegate:function(h,g,x){return 1===arguments.length?this.off(h,"**"):this.off(g,h||"**",x)},hover:function(h,g){return this.on("mouseenter",h).on("mouseleave",g||h)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(h,g){T.fn[g]=function(x,C){return arguments.length>0?this.on(g,null,x,C):this.trigger(g)}});var Xg=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(h,g){var x,C,D;if("string"==typeof g&&(x=h[g],g=h,h=x),jt(h))return C=pr.call(arguments,2),D=function(){return h.apply(g||this,C.concat(pr.call(arguments)))},D.guid=h.guid=h.guid||T.guid++,D},T.holdReady=function(h){h?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=zn,T.isFunction=jt,T.isWindow=gr,T.camelCase=ln,T.type=qs,T.now=Date.now,T.isNumeric=function(h){var g=T.type(h);return("number"===g||"string"===g)&&!isNaN(h-parseFloat(h))},T.trim=function(h){return null==h?"":(h+"").replace(Xg,"$1")},void 0!==(cn=function(){return T}.apply(tl,[]))&&(_o.exports=cn);var ny=Dt.jQuery,Hu=Dt.$;return T.noConflict=function(h){return Dt.$===T&&(Dt.$=Hu),h&&Dt.jQuery===T&&(Dt.jQuery=ny),T},typeof $s>"u"&&(Dt.jQuery=Dt.$=T),T})},614:()=>{"use strict";const _o=":";const al=function(ne,...te){if(al.translate){const Ce=al.translate(ne,te);ne=Ce[0],te=Ce[1]}let ge=ya(ne[0],ne.raw[0]);for(let Ce=1;Ce<ne.length;Ce++)ge+=te[Ce-1]+ya(ne[Ce],ne.raw[Ce]);return ge},qo=":";function ya(ne,te){return te.charAt(0)===qo?ne.substring(function ol(ne,te){for(let ge=1,Ce=1;ge<ne.length;ge++,Ce++)if("\\"===te[Ce])Ce++;else if(ne[ge]===_o)return ge;throw new Error(`Unterminated $localize metadata block in "${te}".`)}(ne,te)+1):ne}globalThis.$localize=al}},_o=>{var tl=cn=>_o(_o.s=cn);tl(614),tl(291)}]);